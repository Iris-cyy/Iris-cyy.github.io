<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>èŠ±è½çŸ¥å¤šå°‘</title>
  
  <subtitle>Nice to meet you :)</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://iris-cyy.github.io/"/>
  <updated>2020-03-13T06:49:30.656Z</updated>
  <id>https://iris-cyy.github.io/</id>
  
  <author>
    <name>Irisssy</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ã€Compilation Principleã€‘Context-Free Grammars and Parsing</title>
    <link href="https://iris-cyy.github.io//Notes/Compilation-Principle/2020-03-10/cp_parsing/"/>
    <id>https://iris-cyy.github.io//Notes/Compilation-Principle/2020-03-10/cp_parsing/</id>
    <published>2020-03-10T06:35:55.000Z</published>
    <updated>2020-03-13T06:49:30.656Z</updated>
    
    <content type="html"><![CDATA[<p>è¯­æ³•åˆ†ææ ‘çš„ç»“æ„å–å†³äºè¯­è¨€çš„ç»“æ„ï¼Œä¸”æ˜¯ä¸€ç§åŠ¨æ€çš„æ•°æ®ç»“æ„ï¼ˆå¯ä»¥å¢ã€åˆ ã€æ”¹ï¼‰</p><h2 id="Context-Free-Grammar-CFG"><a href="#Context-Free-Grammar-CFG" class="headerlink" title="Context-Free Grammar (CFG)"></a>Context-Free Grammar (CFG)</h2><p>$RE âŠ† CFG$</p><p>äº§ç”Ÿå¼å·¦è¾¹ï¼ˆLHSï¼Œleft-hand sidesï¼‰åªæœ‰ä¸€ä¸ªç¬¦å·ï¼Œä¸”æ˜¯éç»ˆç»“ç¬¦</p><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>A Context-Free Grammar is a 4-tuple $(V,Î£,S,â†’)$, where</p><ul><li>$V$ is a finite set of nonterminal symbols</li><li>$Î£$ is a finite set of terminal symbols</li><li>$S âˆˆ V $ is a distinguished nonterminal, the start symbol</li><li>$â†’ âŠ†  V Ã— (V âˆª Î£)^<em>  Î£)^</em>$ is a finite relation, the productions</li></ul><p>æ›´åŠ æ­£å¼çš„å®šä¹‰ï¼š</p><p>$G = (T,N,P,S)$</p><ul><li>$T$: Terminals</li><li>$N$: Nonterminals (disjoint from T)</li><li>$P$: Productions (Grammar rules), $A \rightarrow a,\;A \in N, \; a \in (T \cup N)^*$</li><li>$S$: Start symbol ($S \in N$)</li><li>sentencial from: a string in  $(T \cup N)^*$</li><li>sentence: $T^*$ï¼Œåªèƒ½ç”±ç»ˆç»“ç¬¦ç»„æˆ</li><li>$T \cup N$ è¡¨ç¤ºæ–‡æ³•çš„æ‰€æœ‰ç¬¦å·</li><li>$\alpha \Rightarrow^* \beta$ è¡¨ç¤º$\alpha$å¯ä»¥é€šè¿‡ $n \; (n\geq 0)$ æ­¥å˜æ¢ä¸º$\beta$</li><li>derivation: $S \Rightarrow^<em> w \; (w \in T^</em>)$</li><li>$L(G)$: ç”±æ–‡æ³•ç”Ÿæˆçš„è¯­è¨€ï¼Œ$L(G) = {w \in T^<em>\;|\;there \; exists \; a derivation\; S \Rightarrow^</em> w \; of \; G}$</li><li>rightmost derivation: $S \Rightarrow_{rm}^<em> w $, $a A \gamma \Rightarrow a \beta \gamma, \, a \in T^</em>$</li><li>leftmost derivation: $S \Rightarrow_{lm}^<em> w $, $a A \gamma \Rightarrow a \beta \gamma, \, \gamma \in T^</em>$</li></ul><h3 id="æ¨å¯¼"><a href="#æ¨å¯¼" class="headerlink" title="æ¨å¯¼"></a>æ¨å¯¼</h3><p>$G$ï¼šgrammarï¼Œæ–‡æ³•</p><p>$s$ï¼šsentenceï¼Œç”±ç»ˆç»“ç¬¦ç»„æˆçš„ä¸²</p><p>$L(G)$ï¼šæ–‡æ³•äº§ç”Ÿçš„è¯­è¨€ï¼ˆsentenceçš„é›†åˆï¼‰</p><p>BNFèŒƒå¼</p><p>é€šå¸¸ç”¨å¤§å†™å­—æ¯è¡¨ç¤ºéç»ˆç»“ç¬¦ï¼Œç”¨å°å†™è¡¨ç¤ºç»ˆç»“ç¬¦</p><h4 id="é€’å½’ï¼ˆrecursionï¼‰"><a href="#é€’å½’ï¼ˆrecursionï¼‰" class="headerlink" title="é€’å½’ï¼ˆrecursionï¼‰"></a>é€’å½’ï¼ˆrecursionï¼‰</h4><ul><li>å·¦é€’å½’ï¼šLHSçš„éç»ˆç»“ç¬¦å‡ºç°åœ¨RHSçš„ç¬¬ä¸€ä¸ªå­—ç¬¦$A \rightarrow A \, \alpha \, | \, \beta$ ç­‰ä»·äº $(\beta\alpha^*)$</li><li>å³é€’å½’ï¼šLHSçš„éç»ˆç»“ç¬¦å‡ºç°åœ¨RHSçš„æœ€åä¸€ä¸ªå­—ç¬¦$A \rightarrow \alpha \, A \, | \, \beta$  ç­‰ä»·äº $(\alpha^*\beta)$</li></ul><p>$\alpha$ã€$\beta$æ˜¯ä»»æ„çš„ä¸²ï¼ˆç»ˆç»“ç¬¦æˆ–éç»ˆç»“ç¬¦éƒ½å¯ï¼‰ï¼Œå…¶ä¸­$\beta$ä¸ä»¥$A$ä¸ºå¼€å¤´/ç»“å°¾</p><p>ä¸¤è€…åœ¨å¾ˆå¤šæƒ…å†µä¸‹ä¸ç­‰ä»·</p><h4 id="epsilon-äº§ç”Ÿå¼ï¼ˆ-epsilon-production-ï¼‰"><a href="#epsilon-äº§ç”Ÿå¼ï¼ˆ-epsilon-production-ï¼‰" class="headerlink" title="$\epsilon$ äº§ç”Ÿå¼ï¼ˆ$\epsilon-production$ï¼‰"></a>$\epsilon$ äº§ç”Ÿå¼ï¼ˆ$\epsilon-production$ï¼‰</h4><p>$empty \, \rightarrow \, \epsilon$</p><p>ç”¨äºäº§ç”Ÿç©ºä¸²ï¼Œå¦‚æœè¯­è¨€ä¸­è¦æœ‰ç©ºä¸²ï¼Œå¿…é¡»è¦æœ‰$\epsilon$ äº§ç”Ÿå¼</p><p>å¦‚$a^*$ç›¸å½“äº$A \rightarrow A \, \alpha \, | \, \epsilon \; or \; A \rightarrow \alpha \, A \, | \, \epsilon$</p><p>$\epsilon$ ä½œç”¨ï¼šè®©æ–‡æ³•æ›´ç®€æ´ï¼Œæ•ˆç‡æ›´é«˜</p><p>eg.  $A \rightarrow (A) \, A \,| \, \epsilon$ï¼Œç”Ÿæˆèƒ½å¤ŸåŒ¹é…çš„æ‹¬å·</p><p>æ­£è§„è¡¨è¾¾å¼æ²¡æœ‰è®°å¿†åŠŸèƒ½ï¼Œä¸Šä¸‹æ–‡æ— å…³è¯­æ³•å¯ä»¥</p><h2 id="Parse-Trees-and-Abstract-Syntax-Trees"><a href="#Parse-Trees-and-Abstract-Syntax-Trees" class="headerlink" title="Parse Trees and  Abstract Syntax Trees"></a>Parse Trees and  Abstract Syntax Trees</h2><h3 id="Parse-Trees"><a href="#Parse-Trees" class="headerlink" title="Parse Trees"></a>Parse Trees</h3><p>ç”¨æ ‘çš„å½¢æ€æ¥è¡¨ç¤ºæ¨å¯¼ï¼Œæ¨å¯¼å’Œæ ‘æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»</p><p>éå¶èŠ‚ç‚¹è¡¨ç¤ºéç»ˆç»“ç¬¦ï¼Œå¶èŠ‚ç‚¹è¡¨ç¤ºç»ˆç»“ç¬¦</p><p>åœ¨æ ‘ä¸­ä¸ä½“ç°æ¨å¯¼è¿‡ç¨‹ï¼Œåªæ˜¾ç¤ºæ¨å¯¼ç»“æœ</p><p>æœ€å·¦æ¨å¯¼ï¼ˆleftmost derivationï¼‰ï¼šæ¯æ¬¡å±•å¼€æœ€å·¦è¾¹çš„éç»ˆç»“ç¬¦ï¼Œå¯¹åº”parse treeçš„å‰åºéå†</p><p>æœ€å³æ¨å¯¼ï¼ˆrightmost derivationï¼‰ï¼šæ¯æ¬¡å±•å¼€æœ€å³è¾¹çš„éç»ˆç»“ç¬¦ï¼Œå¯¹åº”parse treeçš„ååºéå†</p><p>æ¯ä¸€æ£µæ ‘éƒ½åªæœ‰å”¯ä¸€çš„æœ€å·¦æ¨å¯¼å’Œæœ€å³æ¨å¯¼</p><p>eg.</p><p><img src="/images/comp/com-prin3.assets/image-20200313125644213.png" alt="image-20200313125644213" style="zoom:77%;" /></p><p>è¦æ³¨æ„çš„æ˜¯åœ¨æ–‡æ³•åˆ†æä¸­å…³æ³¨çš„æ˜¯ç±»å‹è€Œä¸æ˜¯è¯­ä¹‰ï¼ˆå› æ­¤parse treeçš„å¶èŠ‚ç‚¹æ¨å‡ºçš„æ˜¯numberè€Œä¸æ˜¯å…·ä½“çš„3or4ï¼‰ï¼Œè¯ä¹‰åœ¨è¯­ä¹‰åˆ†æä¸­è¿›è¡Œå¤„ç†</p><h3 id="Abstract-Syntax-Trees"><a href="#Abstract-Syntax-Trees" class="headerlink" title="Abstract Syntax Trees"></a>Abstract Syntax Trees</h3><p>parse tree çš„å‹ç¼©ç‰ˆï¼ˆæ›´ç®€æ´ï¼‰</p><p><img src="/images/comp/com-prin3.assets/image-20200313130211688.png" alt="image-20200313130211688" style="zoom:67%;" /></p><p>ï¼ˆ+å…¶å®ä»£è¡¨ç›¸åŠ çš„ç»“æœï¼‰</p><blockquote><p>eg.  </p><p><img src="/images/comp/com-prin3.assets/image-20200313135958685.png" alt="image-20200313135958685" style="zoom:60%;" /></p><p>parse tree:</p><p><img src="/images/comp/com-prin3.assets/image-20200313132604830.png" alt="image-20200313132604830" style="zoom:60%;" /></p><p>syntax tree:</p><p><img src="/images/comp/com-prin3.assets/image-20200313132630115.png" alt="image-20200313132630115" style="zoom:60%;" /></p></blockquote><p>å­©å­ä¸ªæ•°å¯èƒ½ä¸å®šï¼Œå¯ä»¥ç”¨leftmost-child right siblingæ¥è¡¨è¾¾</p><p><img src="/images/comp/com-prin3.assets/image-20200313134540122.png" alt="image-20200313134540122" style="zoom:67%;" /></p><p><br></p><h2 id="æ­§ä¹‰ï¼ˆambiguityï¼‰"><a href="#æ­§ä¹‰ï¼ˆambiguityï¼‰" class="headerlink" title="æ­§ä¹‰ï¼ˆambiguityï¼‰"></a>æ­§ä¹‰ï¼ˆambiguityï¼‰</h2><p>ä¸€ä¸ªå¯ä»¥æ„å»ºä¸¤ä¸ªä¸åŒç»“æ„çš„parse treeçš„è¯­æ³•å…·æœ‰æ­§ä¹‰ï¼ˆå¯èƒ½ä¼šå› ä¸ºæ²¡æœ‰åŒºåˆ†ä¼˜å…ˆçº§å’Œç»“åˆå¾‹é€ æˆï¼‰</p><p>ç¬¦å·ç¦»æ ‘æ ¹è¶Šè¿œä¼˜å…ˆçº§è¶Šé«˜</p><p>è§£å†³æ–¹æ³•ï¼š</p><ol><li><p>å®šä¹‰ä¸€ä¸ªæ¶ˆé™¤æ­§ä¹‰çš„è§„åˆ™ï¼Œä¾‹å¦‚æŒ‡æ˜å“ªä¸€ç§treeæ˜¯å¯¹çš„</p><p>ä¼˜ç‚¹ï¼šä¸éœ€è¦æ”¹å˜åŸæ¥çš„è¯­æ³•</p><p>ç¼ºç‚¹ï¼šæ–‡æ³•ç»“æ„å¹¶éåªç”±è¯­æ³•æ¥è§„å®šï¼ˆgrammar+ruleï¼‰</p></li><li><p>æ”¹é€ æ–‡æ³•ï¼Œä½¿å¾—æ²¡æœ‰è¯­æ³•é”™è¯¯</p><p>ç¼ºç‚¹ï¼šæ”¹é€ æ–‡æ³•å¯èƒ½ä¼šé™ä½å¯è¯»æ€§ï¼ˆæœ‰æ—¶å€™ä¸ºäº†ç®€æ´æ€§ï¼Œå¯èƒ½è¿˜æ˜¯ä¼šé€‰æ‹©ä¿ç•™åŸæ¥æœ‰æ­§ä¹‰çš„å½¢æ€ï¼‰</p></li></ol><blockquote><p>eg1.</p><p><img src="/images/comp/com-prin3.assets/image-20200313135853556.png" alt="image-20200313135853556" style="zoom:60%;" /></p><p>ä¼šæœ‰æ­§ä¹‰ï¼Œå› ä¸ºæ²¡æœ‰è§„å®š*å’Œ+-çš„ä¼˜å…ˆçº§ï¼Œå¦‚34-3*42</p><p>æ”¹æˆè§„å®š*ä¼˜å…ˆçº§æ›´é«˜ä¹‹åå¯ä»¥æ¶ˆé™¤æ­§ä¹‰ï¼ˆä½†parse treeä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼‰ï¼š</p><p><img src="/images/comp/com-prin3.assets/image-20200313135907660.png" alt="image-20200313135907660" style="zoom:60%;" /></p></blockquote><h3 id="Dangling-else-problem"><a href="#Dangling-else-problem" class="headerlink" title="Dangling else problem"></a>Dangling else problem</h3><p>ifè¯­å¥çš„elseåŒ¹é…å¯èƒ½ä¼šå¸¦æ¥æ­§ä¹‰</p><p>Cä¸­å¼•å…¥äº†{}æ¥æ¶ˆé™¤æ­§ä¹‰ï¼Œåœ¨Adaä¸­å¼•å…¥end if</p><p>åœ¨æ–‡æ³•ä¸­ï¼Œå¯ä»¥ç”¨ç±»ä¼¼ä»¥ä¸‹çš„æ–¹æ³•ï¼š</p><p><img src="/images/comp/com-prin3.assets/image-20200313140454490.png" alt="image-20200313140454490" style="zoom:67%;" /></p><p>Adaçš„æ–‡æ³•ï¼ˆç”¨BNFè¡¨ç¤ºï¼‰</p><p><img src="/images/comp/com-prin3.assets/image-20200313140810313.png" alt="image-20200313140810313" style="zoom:60%;" /></p><h3 id="Inessential-ambiguity"><a href="#Inessential-ambiguity" class="headerlink" title="Inessential ambiguity"></a>Inessential ambiguity</h3><p>æœ‰ä¸€äº›æ­§ä¹‰æ— å…³ç´§è¦ï¼Œå…·ä½“å¾—çœ‹è¯­ä¹‰</p><p><br></p><h2 id="EBNFï¼ˆExtended-BNFï¼‰"><a href="#EBNFï¼ˆExtended-BNFï¼‰" class="headerlink" title="EBNFï¼ˆExtended BNFï¼‰"></a>EBNFï¼ˆExtended BNFï¼‰</h2><p>åœ¨BNFåŸºç¡€ä¸Šå¢åŠ é‡å¤ï¼ˆ{â€¦}ï¼‰å’Œé€‰æ‹©ï¼ˆ[]ï¼Œä¸€æ¬¡æˆ–é›¶æ¬¡ï¼‰</p><p><img src="/images/comp/com-prin3.assets/image-20200313142632731.png" alt="image-20200313142632731" style="zoom:60%;" /></p><p><img src="/images/comp/com-prin3.assets/image-20200313142721793.png" alt="image-20200313142721793" style="zoom:60%;" /></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¯­æ³•åˆ†ææ ‘çš„ç»“æ„å–å†³äºè¯­è¨€çš„ç»“æ„ï¼Œä¸”æ˜¯ä¸€ç§åŠ¨æ€çš„æ•°æ®ç»“æ„ï¼ˆå¯ä»¥å¢ã€åˆ ã€æ”¹ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;Context-Free-Grammar-CFG&quot;&gt;&lt;a href=&quot;#Context-Free-Grammar-CFG&quot; class=&quot;headerlink&quot; title=
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Compilation Principle" scheme="https://iris-cyy.github.io/categories/Notes/Compilation-Principle/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="CP" scheme="https://iris-cyy.github.io/tags/CP/"/>
    
  </entry>
  
  <entry>
    <title>ã€Compilation Principleã€‘Scanning (Lexical Analysis)</title>
    <link href="https://iris-cyy.github.io//Notes/Compilation-Principle/2020-03-04/cp_scanning/"/>
    <id>https://iris-cyy.github.io//Notes/Compilation-Principle/2020-03-04/cp_scanning/</id>
    <published>2020-03-04T09:21:17.000Z</published>
    <updated>2020-03-10T05:15:46.897Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/comp/com-prin2.assets/image-20200308123221931.png" alt="image-20200308123221931" style="zoom:50%;" /></p><h2 id="Scanning-Process"><a href="#Scanning-Process" class="headerlink" title="Scanning Process"></a>Scanning Process</h2><ul><li>Identifier: x y11 elsen_i00</li><li>Integer: 2 1000 -500 5L</li><li>Floating point: 2.0 0.00020 .02 1. 1e5 0.e-10</li><li>String: â€œxâ€ â€œHe said, \â€œAre you?\â€â€</li><li>Comment: /<strong> donâ€™t change this </strong>/</li><li>Keyword: if else while break</li><li>Symbol: + * { } ++ &lt; &lt;&lt; [ ] &gt;=</li></ul><p><br></p><h2 id="æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular-Expression-REï¼‰"><a href="#æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular-Expression-REï¼‰" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expression, REï¼‰"></a>æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expression, REï¼‰</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>é€šè¿‡é€’å½’å®šä¹‰</p><p><img src="/images/comp/com-prin2.assets/image-20200308123456675.png" alt="image-20200308123456675" style="zoom: 50%;" /></p><p>å…¶ä¸­è¿ç®—çš„ä¼˜å…ˆçº§ï¼šalternation &lt; concatenation &lt; repetition(R*)</p><p>REçš„è¡¨è¾¾å½¢å¼ä¸å”¯ä¸€</p><p>REä¸å¯è®¡æ•°ï¼ˆä¸å¯è®°å¿†ï¼‰</p><p>eg. </p><p><img src="/images/comp/com-prin2.assets/image-20200308123721443.png" alt="image-20200308123721443" style="zoom:50%;" /></p><p>Regular Set: RE çš„é›†åˆï¼ˆæ­£è§„è¡¨è¾¾å¼å°é—­ï¼‰</p><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><ul><li><p><code>R+</code> : one or more strings from L(R): <code>R(R*)</code></p></li><li><p><code>R?</code>: optional Rï¼ˆä¸€æ¬¡æˆ–é›¶æ¬¡ï¼‰: <code>(R|Îµ)</code> </p></li><li><p><code>[abce]</code>: one of the listed characters: <code>(a|b|c|e)</code></p></li><li><p><code>[a-z]</code>: one character from this range: <code>(a|b|c|d|e|â€¦|y|z)</code> </p><p>eg. [A-Z a-z]è¡¨ç¤ºåŒ…å«å¤§å°å†™çš„æ‰€æœ‰å­—æ¯</p></li><li><p><code>[^ab]</code>: anything but one of the listed chars</p></li><li><p><code>[^a-z]</code>: one character not from this range</p></li></ul><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><ul><li><p><strong>Numbers</strong><br>è‡ªç„¶æ•°ï¼š<em>nat</em> = [0-9]+<br>æœ‰ç¬¦å·è‡ªç„¶æ•°ï¼š<em>signedNat</em> = (+|-)?<em>nat</em><br>å®æ•°ï¼ˆå¯èƒ½åŒ…å«å°æ•°ç‚¹orç§‘å­¦è®¡æ•°æ³•ï¼‰ï¼š<em>number</em> = <em>signedNat</em>(â€œï¼â€â€ <em>nat</em>)? (E <em>signedNat</em>)?</p></li><li><p><strong>Reserved Words and Identifiers</strong><br>ä¿ç•™å­—ï¼ˆä¸€èˆ¬æšä¸¾è¡¨ç¤ºï¼‰ï¼š<em>reserved</em> = if | while | do |â€¦â€¦â€¦<br>å­—æ¯ï¼š<em>letter</em> = [a-z A-Z]<br>æ•°å­—ï¼š<em>digit</em> = [0-9]<br>æ ‡è¯†ç¬¦ï¼š<em>identifier</em> = <em>letter</em> (<em>letter</em> | <em>digit</em>)*</p><blockquote><p>$reserved \subset iderntifier$</p></blockquote></li><li><p><strong>Comment</strong></p><p><img src="/images/comp/com-prin2.assets/image-20200308125010856.png" alt="image-20200308125010856" style="zoom:55%;" /></p></li></ul><h3 id="ä¸€äº›åŸåˆ™"><a href="#ä¸€äº›åŸåˆ™" class="headerlink" title="ä¸€äº›åŸåˆ™"></a>ä¸€äº›åŸåˆ™</h3><h4 id="å¤„ç†æ­§ä¹‰"><a href="#å¤„ç†æ­§ä¹‰" class="headerlink" title="å¤„ç†æ­§ä¹‰"></a>å¤„ç†æ­§ä¹‰</h4><ul><li><p>keywordä¼˜å…ˆ</p><p>å¦‚æœä¸€ä¸ªæ ‡è¯†ç¬¦å¯ä»¥æ˜¯keywordï¼Œå°±ä¼˜å…ˆè®¤ä¸ºå®ƒæ˜¯keywordï¼ˆå¦‚ifï¼‰</p></li><li><p>æœ€é•¿å­ä¸²åŒ¹é…</p><p>å¦‚æœèƒ½è¢«å½“æˆæ˜¯ä¸€ä¸ªidentifierï¼Œå°±ä¸ä¼šå½“æˆå¤šä¸ªï¼ˆä¾‹å¦‚iffï¼Œå¯ä»¥æ˜¯iffæˆ–è€…if+fï¼Œè®¤ä¸ºæ˜¯iffï¼‰</p><p>æ˜ç¡®è®¤ä¸ºå±äºå…¶ä»–æ ‡è®°ä½œä¸ºåˆ†éš”ç¬¦</p></li></ul><h4 id="ç©ºç™½ç¬¦"><a href="#ç©ºç™½ç¬¦" class="headerlink" title="ç©ºç™½ç¬¦"></a>ç©ºç™½ç¬¦</h4><p>ç”¨äºåˆ†å‰²ï¼Œæ²¡æœ‰è¿”å›</p><p><em>whitespace</em> = ( <em>newline</em> | <em>blank</em> | <em>tab</em> | <em>comment</em> )+</p><h4 id="Lookahead"><a href="#Lookahead" class="headerlink" title="Lookahead"></a>Lookahead</h4><p>ç¼“å†²åŒºå†…å¯èƒ½å­˜åœ¨ä¸‹ä¸€ä¸ªè¾“å…¥çš„ç¬¦å·ï¼Œè¦æ ‡è®°å›æº¯ä½ç½®</p><p><br></p><h2 id="æœ‰é™è‡ªåŠ¨æœºï¼ˆFinite-Automata-FAï¼‰"><a href="#æœ‰é™è‡ªåŠ¨æœºï¼ˆFinite-Automata-FAï¼‰" class="headerlink" title="æœ‰é™è‡ªåŠ¨æœºï¼ˆFinite Automata, FAï¼‰"></a>æœ‰é™è‡ªåŠ¨æœºï¼ˆFinite Automata, FAï¼‰</h2><p>çŠ¶æ€ä¸ªæ•°æœ‰é™</p><p>state å¯ä»¥é‡å¤</p><ul><li><p><strong>transition</strong>ï¼šæ ‡è®°ä¸¤ä¸ªçŠ¶æ€ä¹‹é—´çš„è½¬æ¢</p></li><li><p><strong>start state</strong>ï¼šå¼€å§‹çŠ¶æ€å‰è¦åŠ æ— æ ‡ç­¾ç®­å¤´</p></li><li><strong>accepting state</strong>ï¼šç”¨åŒç¯è¡¨ç¤ºæ¥æ”¶ï¼ˆç»“æŸï¼‰çŠ¶æ€ï¼ˆå•ç¯è¡¨ç¤ºéæ¥æ”¶çŠ¶æ€ï¼‰ï¼Œè½¬æ¢å¯ä»¥åˆ°æ¥æ”¶æ€ç»“æŸ</li></ul><p>æœ‰çš„çŠ¶æ€ä¸æ¥å—ä¸€äº›å­—ç¬¦ï¼Œå³æ¥æ”¶äº†ä¼šè¿›å…¥error stateï¼Œå¯ä»¥ä¸åœ¨å›¾ä¸­è¡¨ç¤ºå‡ºæ¥</p><h3 id="ç¡®å®šå‹æœ‰é™è‡ªåŠ¨æœºï¼ˆDeterministic-Finite-Automation-DFAï¼‰"><a href="#ç¡®å®šå‹æœ‰é™è‡ªåŠ¨æœºï¼ˆDeterministic-Finite-Automation-DFAï¼‰" class="headerlink" title="ç¡®å®šå‹æœ‰é™è‡ªåŠ¨æœºï¼ˆDeterministic Finite Automation, DFAï¼‰"></a>ç¡®å®šå‹æœ‰é™è‡ªåŠ¨æœºï¼ˆDeterministic Finite Automation, DFAï¼‰</h3><p>çŠ¶æ€è½¬ç§»ç›®æ ‡ç¡®å®šï¼ˆå”¯ä¸€ï¼‰</p><p>çŠ¶æ€è½¬ç§»æ—¶æ¥æ”¶<u>ä¸€ä¸ª</u>ç¬¦å·ï¼ˆå¯ä»¥ç”¨åå­—è¡¨ç¤ºï¼‰</p><p>$T:S \times \sum \rightarrow S$ï¼Œ$T(s,c)$ å¿…é¡»å¯¹<u>æ¯ä¸€ä¸ª</u>så’Œcéƒ½æœ‰å€¼ï¼ˆerror stateå¯ä»¥ä¸ç”»åœ¨å›¾ä¸­ï¼‰</p><p><strong>Typical action</strong></p><ol><li>making an transitionï¼šä»è¾“å…¥ç¼“å†²åŒºå¾—åˆ°å­—ç¬¦ï¼Œå¾—åˆ°å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸²å€¼æˆ–è€…è¯ä¹‰ï¼‰</li><li>reaching an accepting stateï¼šå°†tokenå’Œç›¸å…³å±æ€§ï¼ˆå­—ç¬¦ä¸²å†…å®¹ã€æ•°å­—å€¼ç­‰ï¼‰è¿”å›ç»™è¯æ³•åˆ†æå™¨</li><li>reaching an error stateï¼šå›é€€ï¼ˆä¹‹å‰åˆ†æçš„å¯èƒ½ä¸å¯¹ï¼‰æˆ–è€…ç”Ÿæˆerror token</li></ol><p>eg.</p><p><img src="/images/comp/com-prin2.assets/image-20200308184915152.png" alt="image-20200308184915152" style="zoom:60%;" /></p><h3 id="éç¡®å®šå‹æœ‰é™è‡ªåŠ¨æœºï¼ˆNondeterministic-Finite-Automaton-NFAï¼‰"><a href="#éç¡®å®šå‹æœ‰é™è‡ªåŠ¨æœºï¼ˆNondeterministic-Finite-Automaton-NFAï¼‰" class="headerlink" title="éç¡®å®šå‹æœ‰é™è‡ªåŠ¨æœºï¼ˆNondeterministic Finite Automaton, NFAï¼‰"></a>éç¡®å®šå‹æœ‰é™è‡ªåŠ¨æœºï¼ˆNondeterministic Finite Automaton, NFAï¼‰</h3><p>NFAä¸DFAåŠŸèƒ½ç­‰ä»·ï¼Œå¯ä»¥ç›¸äº’è½¬æ¢</p><p>ä¸»è¦åŒºåˆ«åœ¨äºï¼ŒNFAæœ‰ $\epsilon - transition$ï¼ˆä¸æ¶ˆè€—è¾“å…¥çš„è½¬ç§»ï¼‰</p><p>$\epsilon - transition$ çš„ä¸¤ä¸ªä¸»è¦ä½œç”¨ï¼š</p><ol><li>é€‰æ‹©åŠŸèƒ½ï¼ˆä¸ç”¨åˆå¹¶æ–°æ¥çš„çŠ¶æ€ï¼Œè€Œæ˜¯å¢åŠ ä¸€ä¸ªæ–°çš„çŠ¶æ€ï¼‰</li><li>åŒ¹é…å¤–éƒ¨è¾“å…¥çš„ç©ºä¸²</li></ol><p>NFAçš„å®šä¹‰åŒ…æ‹¬è½¬æ¢å…³ç³»ï¼ˆä¸ä¸€å®šæ˜¯å‡½æ•°ï¼‰Tã€å¼€å§‹çŠ¶æ€s0ã€æ¥æ”¶çŠ¶æ€Aã€æ¥å—è¯­è¨€L(M)</p><p>è¡¨è¾¾æ¯”è¾ƒçµæ´»ï¼Œå¯ä»¥æœ‰å˜æ•°ï¼ˆä¸ä¹‹å¯¹åº”çš„æ˜¯ï¼Œå¯èƒ½ä¼šå½±å“åˆ†ææ•ˆç‡ï¼‰</p><p><br></p><h2 id="ã€IMPORTANTã€‘ä»REåˆ°DFAçš„è½¬æ¢"><a href="#ã€IMPORTANTã€‘ä»REåˆ°DFAçš„è½¬æ¢" class="headerlink" title="ã€IMPORTANTã€‘ä»REåˆ°DFAçš„è½¬æ¢"></a>ã€IMPORTANTã€‘ä»REåˆ°DFAçš„è½¬æ¢</h2><p><img src="/images/comp/com-prin2.assets/image-20200308205252875.png" alt="image-20200308205252875" style="zoom: 50%;" /></p><h3 id="RE-gt-NFA"><a href="#RE-gt-NFA" class="headerlink" title="RE -&gt; NFA"></a>RE -&gt; NFA</h3><h4 id="Top-down"><a href="#Top-down" class="headerlink" title="Top-down"></a>Top-down</h4><p><img src="/images/comp/com-prin2.assets/20160927164801462" alt="img" style="zoom: 80%;" /></p><h4 id="Thompsonâ€™s-construction-Bottom-up"><a href="#Thompsonâ€™s-construction-Bottom-up" class="headerlink" title="Thompsonâ€™s construction (Bottom-up)"></a>Thompsonâ€™s construction (Bottom-up)</h4><p>å¯¹äºå•ä¸ªå­—ç¬¦ï¼Œæ„é€ ä¸€ä¸ªå¦‚ä¸‹å›¾æ‰€ç¤ºçš„è½¬æ¢å›¾ï¼Œä½œä¸ºä¸€ä¸ªå•å…ƒï¼š</p><p><img src="/images/comp/com-prin2.assets/20160927182858046" alt="a" style="zoom:90%;" /></p><p>åœ¨é‡åˆ°æ“ä½œç¬¦æ—¶ï¼Œæ‰€æœ‰çš„å¤„ç†éƒ½é’ˆå¯¹å•å…ƒï¼ˆåœ¨ä¸‹å›¾ä¸Šç”¨è™šçº¿åœˆè¡¨ç¤ºï¼‰ï¼š</p><p><img src="/images/comp/com-prin2.assets/20160927185627441" alt="op" style="zoom:90%;" /></p><p>åœ¨å¤„ç†å®Œæ“ä½œç¬¦ä¹‹åï¼Œå½¢æˆæ–°çš„å•å…ƒï¼Œç„¶åç»§ç»­ä¸‹ä¸€æ¬¡å¤„ç†ï¼ˆç±»ä¼¼é€’å½’ï¼‰ï¼Œç›´åˆ°è½¬æ¢ä¸ºNFA</p><h3 id="NFA-gt-DFA"><a href="#NFA-gt-DFA" class="headerlink" title="NFA -&gt; DFA"></a>NFA -&gt; DFA</h3><ol><li>å…ˆå¾—åˆ°æ¯ä¸ªçŠ¶æ€å¯¹åº”çš„$\epsilon$é—­åŒ…ï¼ˆå½“å‰çŠ¶æ€ä¸‹èƒ½å¤Ÿé€šè¿‡$\epsilon$æ¨å‡ºçš„æ‰€æœ‰çŠ¶æ€çš„é›†åˆï¼Œå…ˆæ‰¾å‡ºè¯¥çŠ¶æ€çš„Îµè¾¹æ¨å‡ºçš„æ‰€æœ‰çŠ¶æ€ï¼Œå†æ‰¾é‚£äº›çŠ¶æ€çš„Îµè¾¹æ¨å‡ºçš„çŠ¶æ€ï¼Œæ˜¯ä¸€ä¸ªè¿­ä»£çš„è¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾å‡ºä¸€ä¸ªçŠ¶æ€çš„Îµé—­åŒ…ï¼‰</li><li>ä»¥åŸNFAçš„start stateä½œä¸ºDFAçš„start stateï¼Œå¯¹äºå½“å‰çŠ¶æ€ä¸­çš„æ¯ä¸€ä¸ªå­çŠ¶æ€ï¼Œå¯¹æ¯ä¸€ä¸ªç¬¦å·åšä¸€æ¬¡æ¨å‡ºæ“ä½œï¼Œæ„é€ æ–°çš„çŠ¶æ€å’Œæ¨å‡ºè¿‡ç¨‹ï¼ˆæ³¨æ„æ¨å‡ºçš„æ˜¯NFAå¯¹åº”çŠ¶æ€çš„Îµé—­åŒ…ï¼Œå±•å¼€æ±‚å¹¶å¾—åˆ°æ–°çš„çŠ¶æ€ï¼‰</li><li>é‡å¤2ç›´åˆ°æ²¡æœ‰æ–°çš„çŠ¶æ€æˆ–è½¬æ¢è¢«åˆ›å»º</li><li>DFAä¸­ï¼ŒåŒ…å«äº†NFAä¸­accept stateçš„éƒ½æ˜¯accept state</li></ol><blockquote><p> ä¸¾ä¸ªæ —å­ä¾¿äºç†è§£ï¼š</p><p>å¾—åˆ°NFAå¦‚ä¸‹å›¾ï¼š</p><p><img src="/images/comp/com-prin2.assets/image-20200308212454788.png" alt="image-20200308212454788" style="zoom:80%;" /></p><p>å¯¹å„çŠ¶æ€æ±‚Îµé—­åŒ…ï¼š</p><p>$\overline 1 = {1,2,3,5,8}$<br>$\overline 2 = {2,3,5}$<br>$\overline 3 = {3}$<br>$\overline 4 = {2,3,4,5,7,8}$<br>$\overline 5 = {5}$<br>$\overline 6 = {2,3,5,6,7,8}$<br>$\overline 7 = {2,3,5,7,8}$<br>$\overline 8 = {8}$<br>$\overline 9 = {9,10,12,14,15,16}$<br>$\overline{10} = {10}$<br>$\overline{11} = {11,16}$<br>$\overline{12} = {12}$<br>$\overline{13} = {13,16}$<br>$\overline{14} = {14,15,16}$<br>$\overline{15} = {15,16}$<br>$\overline{16} = {16}$</p><p>å¾—åˆ°æ–°çš„çŠ¶æ€è½¬æ¢è¡¨ï¼š</p><p>ï¼ˆä¾‹å¦‚ï¼Œä»S0ä¸­å„çŠ¶æ€é€šè¿‡aï¼š3-&gt;4, 8-&gt;9ï¼Œæ‰€ä»¥S0é€šè¿‡aè½¬ç§»åˆ° {$\overline 4, \overline 9$}ï¼Œå±•å¼€å¦‚è¡¨ä¸­æ‰€ç¤ºï¼Œå…¶ä»–åŒç†ï¼‰</p><table><thead><tr><th style="text-align:center">$Sâ€™$</th><th style="text-align:center">$Sâ€™_a$</th><th style="text-align:center">$Sâ€™_b$</th></tr></thead><tbody><tr><td style="text-align:center">S0 = {1,2,3,5,8}</td><td style="text-align:center">S1 = {2,3,4,5,7,8,9,10,12,14,15,16}</td><td style="text-align:center">S2 = {2,3,5,6,7,8}</td></tr><tr><td style="text-align:center">S1 = {2,3,4,5,7,8,9,10,12,14,15,16}</td><td style="text-align:center">S3 = {2,3,4,5,7,8,9,10,11,12,14,15,16}</td><td style="text-align:center">S4 = {2,3,5,6,7,8,13,16}</td></tr><tr><td style="text-align:center">S2 = {2,3,5,6,7,8}</td><td style="text-align:center">S1 = {2,3,4,5,7,8,9,10,12,14,15,16}</td><td style="text-align:center">S2 = {2,3,5,6,7,8}</td></tr><tr><td style="text-align:center">S3 = {2,3,4,5,7,8,9,10,11,12,14,15,16}</td><td style="text-align:center">S3 = {2,3,4,5,7,8,9,10,11,12,14,15,16}</td><td style="text-align:center">S4 = {2,3,5,6,7,8,13,16}</td></tr><tr><td style="text-align:center">S4 = {2,3,5,6,7,8,13,16}</td><td style="text-align:center">S3 = {2,3,4,5,7,8,9,10,11,12,14,15,16}</td><td style="text-align:center">S2 = {2,3,5,6,7,8}</td></tr></tbody></table><p>ç”»å‡ºDFAï¼š</p><p><img src="/images/comp/com-prin2.assets/image-20200308213027672.png" alt="image-20200308213027672" style="zoom: 60%;" /></p></blockquote><h3 id="DFAçš„ä¼˜åŒ–ï¼ˆæœ€å°åŒ–ï¼‰"><a href="#DFAçš„ä¼˜åŒ–ï¼ˆæœ€å°åŒ–ï¼‰" class="headerlink" title="DFAçš„ä¼˜åŒ–ï¼ˆæœ€å°åŒ–ï¼‰"></a>DFAçš„ä¼˜åŒ–ï¼ˆæœ€å°åŒ–ï¼‰</h3><p>æœ€å°åŒ–çš„éœ€æ±‚æ˜¯ï¼Œæ¯ä¸ªç­‰ä»·ç±»åªèƒ½ç”±ä¸€ä¸ªçŠ¶æ€æ¥è¡¨ç¤ºï¼Œå› æ­¤è¿™ä¸€æ­¥è¦åšçš„å°±æ˜¯åˆ’åˆ†ç­‰ä»·ç±»</p><ol><li><p>å…ˆæ ¹æ®æ˜¯å¦ä¸ºç»ˆæ­¢çŠ¶æ€åˆ†ä¸ºä¸¤ç±»ï¼Œéç»ˆæ­¢çŠ¶æ€å’Œç»ˆæ­¢çŠ¶æ€</p></li><li><p>åœ¨æ¯ä¸€ç±»ä¸­ç»§ç»­ç»†åˆ†ï¼Œå¯¹ç­‰ä»·ç±»çš„è¦æ±‚æ˜¯ï¼Œå¯¹åŒä¸€ç¬¦å·ï¼Œè½¬æ¢åˆ°çš„æ–°çŠ¶æ€è¦å±äºåŒä¸€ç­‰ä»·ç±»ï¼ˆæ³¨æ„ï¼Œæ˜¯åŒä¸€ç­‰ä»·ç±»ï¼Œå¯ä»¥æ˜¯è¯¥ç­‰ä»·ç±»ä¸‹ä¸åŒçš„çŠ¶æ€ï¼‰ã€‚å› æ­¤å¯¹äºæ¯ä¸€ç±»ä¸­çš„æ¯ä¸ªå­çŠ¶æ€ï¼Œå¯¹æ¯ä¸€ä¸ªç¬¦å·è¿›è¡Œè½¬æ¢ï¼Œä¸€æ—¦æœ‰è½¬æ¢ç»“æœå±äºä¸åŒçš„ç±»ï¼Œåˆ™å°†å…¶åˆ†åœ¨ä¸åŒçš„ç­‰ä»·ç±»ä¸‹ã€‚</p></li><li>å¯¹æ¯ä¸€ä¸ªç±»é‡å¤2ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œåˆ’åˆ†å®Œåé¢çš„ç±»ä¹‹åï¼Œè¦å›å»çœ‹ä¸€ä¸‹å‰é¢çš„ç±»æ˜¯å¦éœ€è¦è¿›ä¸€æ­¥åˆ’åˆ†ï¼ˆå› ä¸ºå¯èƒ½ä¹‹å‰ç»“æœåœ¨åŒä¸€ç±»ï¼Œä½†åœ¨åé¢è¢«åˆ†å¼€äº†ï¼‰</li><li>æ¯ä¸ªç­‰ä»·ç±»å–ä¸€ä¸ªçŠ¶æ€ä½œä¸ºä»£è¡¨ï¼Œç”»æ–°çš„DFA</li></ol><blockquote><p>ä¸Šä¸€ä¸ªä¾‹å­ä¸­ç®€åŒ–çš„ç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/images/comp/com-prin2.assets/image-20200308213842871.png" alt="image-20200308213842871" style="zoom: 60%;" /></p></blockquote><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/cuiods/article/details/52673154" target="_blank" rel="noopener">here</a></p><p><br></p><h2 id="Lex"><a href="#Lex" class="headerlink" title="Lex"></a>Lex</h2><p><strong>input</strong>: a text file containing regular expressions, together with the actions to be taken when each expression is matched</p><p><strong>output</strong>: Contains C source code defining a procedure yylex that is\</p><p> a table-driven implementation of a DFA corresponding to the regular expressions of the input file, and that   operates like a <strong>getToken</strong> procedure.</p><h3 id="The-format-of-a-Lex-input-file"><a href="#The-format-of-a-Lex-input-file" class="headerlink" title="The format of a Lex input file"></a>The format of a Lex input file</h3><blockquote><p>{definitions}     â€“&gt; å®šä¹‰</p><p>%%    â€“&gt; åˆ†éš”ç¬¦</p><p>{rules}     â€“&gt; æ ¸å¿ƒ</p><p>%%</p><p>{auxiliary routines}    â€“&gt; actionä¸­ç”¨åˆ°çš„å‡½æ•°ç­‰</p></blockquote><h4 id="Definitions"><a href="#Definitions" class="headerlink" title="Definitions"></a>Definitions</h4><p>æ”¾åœ¨ %{â€¦%} çš„çœç•¥å·éƒ¨åˆ†ä¸­ï¼ˆé‡åˆ°%ä¸ä¼šå¤„ç†ï¼Œè€Œæ˜¯åŸå°æ”¾å…¥outputï¼‰</p><p>REçš„å‘½ååœ¨è¿™é‡Œä¼šè¢«å®šä¹‰ï¼ˆå› ä¸ºREä¸å”¯ä¸€ï¼Œå‘½åä¹‹åå¯ä»¥ç”¨äºç®€åŒ–ï¼‰</p><h4 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h4><p>å°†REå’Œå°†è¦è¿è¡Œçš„ä»£ç ç›¸å¯¹åº”ï¼ˆä¸€å¯¹ä¸€å…³ç³»ï¼ŒRE - actionï¼‰</p><h4 id="Auxiliary-routines"><a href="#Auxiliary-routines" class="headerlink" title="Auxiliary routines"></a>Auxiliary routines</h4><p>å‡½æ•°å®šä¹‰</p><p>â€œ.â€å¯ä»¥ç”¨ä½œé€šé…ç¬¦ï¼ŒåŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰ç¬¦å·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">%&#123;</span><br><span class="line">&#x2F;* a Lex program that changes all numbers from decimal to hexadecimal notation,</span><br><span class="line">printing a summary statistic to stdeer</span><br><span class="line">*&#x2F;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">int count &#x3D; 0;</span><br><span class="line">%&#125;</span><br><span class="line">digit [0-9]</span><br><span class="line">number &#123;digit&#125;+</span><br><span class="line">%%</span><br><span class="line">&#123; number &#125; &#123; int n &#x3D; atoi (yytext);</span><br><span class="line">printf(â€œ%xâ€, n);</span><br><span class="line">if (n &gt; 9) count ++; &#125;</span><br><span class="line">%%</span><br><span class="line">main( )</span><br><span class="line">&#123; yylex ( );</span><br><span class="line">fprintf(stdeer, â€œnumber of replacements &#x3D; %dâ€, count);</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/comp/com-prin2.assets/image-20200308123221931.png&quot; alt=&quot;image-20200308123221931&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;Scann
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Compilation Principle" scheme="https://iris-cyy.github.io/categories/Notes/Compilation-Principle/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="CP" scheme="https://iris-cyy.github.io/tags/CP/"/>
    
  </entry>
  
  <entry>
    <title>ã€Compilation Principleã€‘ Introduction</title>
    <link href="https://iris-cyy.github.io//Notes/Compilation-Principle/2020-03-04/cp_intro/"/>
    <id>https://iris-cyy.github.io//Notes/Compilation-Principle/2020-03-04/cp_intro/</id>
    <published>2020-03-04T09:21:11.000Z</published>
    <updated>2020-03-10T04:53:59.436Z</updated>
    
    <content type="html"><![CDATA[<p>Compilers: computer languages</p><blockquote><p>Translate one language to another<br>Source language(input) to target language (output)<br>Source language : high-level language c or c++<br>Target language : object code, machine code (machine instruction)<br>ä¸€èˆ¬æ˜¯ä»é«˜çº§è¯­è¨€ -&gt; ä½çº§è¯­è¨€ï¼Œä½†æ˜¯ä¸ä¸€å®š</p></blockquote><p><br></p><h2 id="A-Brief-History-of-Compiler"><a href="#A-Brief-History-of-Compiler" class="headerlink" title="A Brief History of Compiler"></a>A Brief History of Compiler</h2><ul><li><p>Machine language: programs were written in machine language in late 1940s (c706 0000 0002)</p></li><li><p>Assembly language</p><blockquote><p>Assembler</p><p>Defects: difficult  to read/understand, depend on the particular machine</p></blockquote></li><li><p>FORTRAN: Between 1954 and 1957, by IBM, John Backus</p><blockquote><p>å®Œå…¨é™æ€çš„è¯­è¨€ï¼ˆè¿è¡Œå‰å†…å­˜åˆ†é…å°±å·²å›ºå®šï¼Œæ²¡æœ‰æŒ‡é’ˆ -&gt; æŒ‡é’ˆå¼åŠ¨æ€å†…å­˜åˆ†é…çš„å·¥å…·ï¼‰</p><p>å¤šç”¨äºå·¥ä¸šæ§åˆ¶</p><p>å¯¹è¯­è¨€è¿›è¡Œå±‚æ¬¡åˆ’åˆ†ï¼Œå°†è¯­æ³•åˆ†ä¸ºtype0, type1, type2, type3ï¼Œå››ä¸ªå±‚æ¬¡ä»0-3äº’ä¸ºåŒ…å«å…³ç³»ï¼ˆä»0-3å¯ä»¥çœ‹æˆæ˜¯ä»å¤§åˆ°å°çš„åŒå¿ƒåœ†ï¼‰</p></blockquote></li><li><p>Parsing problem: 1960s and 1970s</p></li><li>Optimization techniques: improve compiler efficiency (æ—¶é—´æ•ˆç‡ã€ç©ºé—´æ•ˆç‡)</li><li>Compiler-compilers (parser generator, è¯­æ³•åˆ†æå™¨)</li><li>YACC (yet another compiler-compiler, è¯­æ³•åˆ†æå™¨): 1975, by Steve Johnson for UNIX.</li><li>Lex (è¯æ³•åˆ†æå™¨): 1975 by Mike Lest</li></ul><p><br></p><h2 id="Programs-related-to-compilers"><a href="#Programs-related-to-compilers" class="headerlink" title="Programs related to compilers"></a>Programs related to compilers</h2><ul><li><p>Interpreters</p><p>è§£é‡Šå™¨ï¼Œä¸ç¼–è¯‘å™¨åŠŸèƒ½ç›¸åŒ</p></li><li><p>Assemblers</p><p>æ±‡ç¼–å™¨ï¼Œä¸ç¼–è¯‘å™¨é…åˆä½¿ç”¨</p><p>source code â€”&gt;ï¼ˆç¼–è¯‘å™¨ï¼‰â€”&gt; assembly code â€”&gt;ï¼ˆæ±‡ç¼–å™¨ï¼‰â€”&gt; object code</p></li><li><p>Linkers</p><p>è¿æ¥å™¨ï¼ˆæ‹¼æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼‰</p></li><li><p>Loaders</p><p>é‡å®šä½ï¼ˆç›¸å¯¹åœ°å€ï¼‰</p></li><li><p>Preprocessors</p><p>é¢„å¤„ç†ï¼Œåˆ é™¤æ³¨é‡Šã€åšincludeå’Œå®å®šä¹‰</p></li><li><p>Editors</p><p>ç¼–è¯‘å™¨ï¼Œç”Ÿæˆæ ‡å‡†æ–‡ä»¶</p></li><li><p>Debuggers</p><p>è°ƒè¯•å™¨</p></li><li><p>Profilers</p><p>æ‰‹æœºç¨‹åºè¿è¡Œä¸­çš„ç›¸å…³ä¿¡æ¯ï¼Œä¸ºç¨‹åºæ”¹è¿›æä¾›ä¿¡æ¯</p></li><li><p>Project managers</p><p>å¤šæ–‡ä»¶æ“ä½œï¼ˆprojectï¼‰ï¼Œå¼•å…¥æ§åˆ¶ã€å¤šäººåä½œ</p></li></ul><p><br></p><h2 id="The-Translation-Process"><a href="#The-Translation-Process" class="headerlink" title="The Translation Process"></a>The Translation Process</h2><p><img src="/images/comp/com-prin1.assets/image-20200307101832977.png" alt="image-20200307101832977" style="zoom: 60%;" /></p><blockquote><p><strong>Scanner</strong>ï¼šè¯æ³•åˆ†æï¼ˆlexical analysisï¼‰</p><p><strong>Token</strong>ï¼šå•è¯ã€ä»¤ç¯ï¼ˆä¸å¯åˆ†å‰²çš„æœ€å°å•ä½ï¼‰</p><p><strong>Parser</strong>ï¼šè¯­æ³•åˆ†æï¼ˆsyntax analysisï¼‰</p><p><strong>Syntax tree</strong>ï¼šè¯­æ³•æ ‘</p><p><strong>Semantic Analyzer</strong>ï¼šè¯­ä¹‰åˆ†æå™¨ï¼ˆSemantic analysisï¼‰</p><p><strong>Annotated tree</strong>ï¼šå¸¦æ³¨é‡Šçš„æ ‘ï¼ˆæ ‡æ³¨è¯­ä¹‰ä¿¡æ¯ï¼‰</p><p><strong>Source code optimizer</strong>ï¼šä¼˜åŒ–å™¨ï¼ˆæºç¨‹åºä»£ç çº§ä¼˜åŒ–ï¼Œä¾èµ–æºä»£ç ç‰¹æ€§ï¼‰ï¼Œä»è€Œæé«˜æ•ˆç‡</p><p><strong>Intermediate code</strong>ï¼šä¸­é—´ä»£ç ï¼ˆmç§æºä»£ç  -&gt; nç§ç›®æ ‡ä»£ç ï¼Œæœ‰m*nç§æ˜ å°„ï¼›å¦‚æœæœ‰ä¸­é—´ä»£ç ï¼Œå‡å°‘è‡³m+nç§ï¼‰</p><p><strong>Code generator</strong>ï¼šä»£ç ç”Ÿæˆå™¨</p><p><strong>Target code</strong>ï¼šç›®æ ‡ç </p><p><strong>Target code optimizer</strong>ï¼šç›®æ ‡ç ä¼˜åŒ–ï¼Œä¾èµ–ç›®æ ‡ç ç‰¹æ€§</p><p><strong>Literal table</strong>ï¼šå¸¸é‡è¡¨</p><p><strong>Symbol table</strong>ï¼šç¬¦å·è¡¨ï¼ˆé‡è¦ï¼‰ï¼Œç”¨äºæå‡æ€§èƒ½</p><p><strong>Error handler</strong>ï¼šç”¨äºé”™è¯¯å¤„ç†å’Œé”™è¯¯æ¢å¤ï¼ˆå®¹é”™æ€§ï¼‰</p></blockquote><h3 id="Scanner"><a href="#Scanner" class="headerlink" title="Scanner"></a>Scanner</h3><p>è¯æ³•åˆ†æï¼ˆlexical analysisï¼‰</p><p>è¾“å…¥ç¬¦å·æµï¼Œè¾“å‡ºtokenï¼ˆä¸ç®¡å€¼ï¼‰</p><p>åŒæ—¶å°†æ ‡è¯†ç¬¦æ”¾å…¥<code>symbol table</code>ï¼Œå°†å¸¸é‡æ”¾å…¥<code>literal table</code></p><p><img src="/images/comp/com-prin1.assets/image-20200307124000496.png" alt="image-20200307124000496" style="zoom:55%;" /></p><h3 id="Parser"><a href="#Parser" class="headerlink" title="Parser"></a>Parser</h3><p>è¯­æ³•åˆ†æï¼ˆsyntax analysisï¼‰</p><p>è¾“å…¥ç¬¦å·ï¼ˆtokenï¼‰ï¼Œè¾“å‡ºè¯­æ³•æ ‘ï¼ˆsyntax treeï¼‰æˆ–è§£ææ ‘ï¼ˆparse treeï¼‰</p><p>åœ¨è¯­æ³•æ ‘ä¸­ï¼Œå¶å­å¯¹åº”ç»ˆç»“ç¬¦ï¼Œéå¶èŠ‚ç‚¹å¯¹åº”éç»ˆç»“ç¬¦</p><p><strong>Parse Tree</strong>ï¼šï¼ˆå…·ä½“ï¼‰</p><p><img src="/images/comp/com-prin1.assets/image-20200307124410124.png" alt="image-20200307124410124" style="zoom:55%;" /></p><p><strong>Syntax Tree</strong>ï¼šï¼ˆæŠ½è±¡ï¼Œparse treeçš„å‹ç¼©ï¼‰</p><p><img src="/images/comp/com-prin1.assets/image-20200307124856028.png" alt="image-20200307124856028" style="zoom:50%;" /></p><h3 id="Semantic-analyzer"><a href="#Semantic-analyzer" class="headerlink" title="Semantic analyzer"></a>Semantic analyzer</h3><p>è¯­ä¹‰åˆ†æå™¨</p><ul><li>é™æ€è¯­ä¹‰ï¼ˆstatic semanticsï¼‰ï¼šåŒ…æ‹¬å£°æ˜å’Œç±»å‹æ£€æŸ¥ï¼ˆç¼–è¯‘æ—¶å¯ä»¥ç¡®å®šï¼‰</li><li>åŠ¨æ€è¯­ä¹‰ï¼ˆdynamic semanticsï¼‰</li></ul><p>æ ¹æ®è¯­ä¹‰ä¿¡æ¯å¾—åˆ°å±æ€§ï¼ˆattributeï¼‰ â€“&gt; è¯­ä¹‰ä¿¡æ¯è¯­æ³•åŒ–</p><p>ä¾‹å¦‚åŠ å…¥â€œç±»å‹â€è¿™ä¸€è¯­ä¹‰å±æ€§ï¼ˆä½œç”¨ï¼šä¿è¯ç¨‹åºå®‰å…¨ï¼‰</p><p><strong>Annotated Tree</strong>ï¼š</p><p><img src="/images/comp/com-prin1.assets/image-20200307145447835.png" alt="image-20200307145447835" style="zoom:55%;" /></p><h3 id="Source-code-optimizer"><a href="#Source-code-optimizer" class="headerlink" title="Source code optimizer"></a>Source code optimizer</h3><p>æºä»£ç çº§ä¼˜åŒ–</p><p>ç”Ÿæˆä¸­é—´ä»£ç ï¼ˆintermediate code or IRï¼‰ â€“&gt; è¡¨ç¤ºå½¢æ€ä¸»è¦æœ‰ä¸‰åœ°å€ç ï¼ˆthree-address codeï¼‰ã€P-codeä¸¤ç§</p><ul><li>ä¸‰åœ°å€ç ï¼šæ¯”è¾ƒæ¥è¿‘é«˜çº§è¯­è¨€</li><li>P-codeï¼špascalè¯­è¨€çš„ä¸­é—´ä»£ç ï¼ˆæ¥è¿‘æœºå™¨è¯­è¨€ï¼‰</li></ul><p>ä¼šè¿›è¡Œä¾‹å¦‚å¸¸é‡å åŠ ç­‰æ“ä½œï¼ˆä¸åŒçš„ç¼–è¯‘å™¨æ‰§è¡Œçš„ä¼˜åŒ–ç§ç±»å’Œä¼˜åŒ–é˜¶æ®µä½ç½®éƒ½ä¼šæœ‰å·®å¼‚ï¼‰</p><p><img src="/images/comp/com-prin1.assets/image-20200307151136599.png" alt="image-20200307151136599" style="zoom:50%;" /></p><p><img src="/images/comp/com-prin1.assets/image-20200307150619488.png" alt="image-20200307150619488" style="zoom:55%;" /></p><h3 id="Code-generator"><a href="#Code-generator" class="headerlink" title="Code generator"></a>Code generator</h3><p>è¾“å…¥ä¸­é—´ä»£ç ï¼Œè¾“å‡ºæœºå™¨ç ï¼ˆç›®æ ‡æœºå™¨ç”¨çš„ä»£ç ï¼‰</p><p><img src="/images/comp/com-prin1.assets/image-20200307165109546.png" alt="image-20200307165109546" style="zoom: 50%;" /></p><h3 id="Target-code-optimizer"><a href="#Target-code-optimizer" class="headerlink" title="Target code optimizer"></a>Target code optimizer</h3><p>ç›®æ ‡ä»£ç çº§ä¼˜åŒ–</p><ul><li>é€‰æ‹©å¯»å€æ¨¡å¼ï¼Œæé«˜æ€§èƒ½</li><li>ç”¨æ›´å¿«çš„æŒ‡ä»¤ä»£æ›¿æ…¢çš„ï¼ˆå¦‚ï¼Œç”¨å·¦ç§»ä»£æ›¿*2 â€“&gt; é€Ÿåº¦ï¼šå·¦ç§» &gt; åŠ æ³• &gt; ä¹˜æ³•ï¼‰</li><li>å»é™¤å¤šä½™çš„å’Œä¸å¿…è¦çš„æ“ä½œ</li></ul><p><img src="/images/comp/com-prin1.assets/image-20200307165319770.png" alt="image-20200307165319770" style="zoom:50%;" /></p><p><br></p><h2 id="Major-Data-Structures-In-A-Compiler"><a href="#Major-Data-Structures-In-A-Compiler" class="headerlink" title="Major Data Structures In A Compiler"></a>Major Data Structures In A Compiler</h2><ul><li><p>Tokens<br>å¯æ•°ï¼Œå¯é€šè¿‡å®šä¹‰æšä¸¾å˜é‡è¡¨ç¤º</p></li><li><p>Syntax Tree</p><p>æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€æ¡è®°å½•ï¼Œé€’å½’è¡¨ç¤ºparserå’Œsemantic analyzeræ”¶é›†åˆ°çš„ä¿¡æ¯</p></li><li><p>Symbol Table</p><p>ç¬¦å·è¡¨ã€‚å­˜å‚¨æ ‡è¯†ç¬¦ä¿¡æ¯ï¼ˆå‡½æ•°ã€å˜é‡ã€å¸¸é‡ã€æ•°æ®ç±»å‹ç­‰ï¼‰</p></li><li><p>Literal Table</p><p>å¸¸é‡è¡¨ï¼Œå­˜å‚¨å¸¸æ•°ã€å­—ç¬¦ä¸²ç­‰</p></li><li><p>Intermediate Code</p><p>ä¸­é—´ä»£ç </p></li><li><p>Temporary Files</p><p>ç”¨ä¸´æ—¶æ–‡ä»¶ä¿å­˜ä¸­é—´æ­¥éª¤</p></li></ul><p><br></p><h2 id="Other-Issues"><a href="#Other-Issues" class="headerlink" title="Other Issues"></a>Other Issues</h2><ul><li><p><strong>Analysis</strong>ï¼šlexical analysisï¼ˆè¯æ³•åˆ†æï¼‰ã€syntax analysisï¼ˆè¯­æ³•åˆ†æï¼‰ã€semantic analysis(optimization)ï¼ˆè¯­ä¹‰åˆ†æï¼‰</p></li><li><p><strong>Synthesis</strong>ï¼šcode generation(optimization)ï¼ˆä»£ç ç”Ÿæˆï¼‰</p></li></ul><p>æ ¹æ®æºä»£ç å’Œç›®æ ‡ä»£ç æ¥åˆ’åˆ†å‰ç«¯åç«¯ï¼š</p><ul><li><strong>Front end</strong>ï¼šscanner, parser, senabtic analyzer, intermediate code synthesis</li><li><strong>Back end</strong>ï¼šcode generator, optimization</li><li><p>ï¼ˆå¯èƒ½æœ‰<strong>middle end</strong>ï¼Œgcc4.0æ ¹æ®ä¸­é—´ä»£ç è¿›è¡Œä¼˜åŒ–ï¼‰</p></li><li><p><strong>Passes</strong>ï¼šPassesæ˜¯ç›¸å¯¹äºå…¶ä½™ç¼–è¯‘åºåˆ—åŒ–çš„ä¸€ä¸ªé˜¶æ®µæˆ–ä¸€ç»„é˜¶æ®µï¼Œå®ƒåœ¨å‰ä¸€é˜¶æ®µå®Œæˆä¹‹å‰ä¸ä¼šå¯åŠ¨ï¼Œå¹¶ä¸”åœ¨ä»»ä½•åç»­é˜¶æ®µå¼€å§‹ä¹‹å‰å®Œæˆã€‚å¯¹äºä¸€ä¸ªç¨‹åºè¦åˆ†ä¸ºå‡ ä¸ªpassæ¥å¤šæ¬¡å¤„ç†ï¼Œæ¯ä¸ªpassåŒ…å«è‹¥å¹²ä¸ªé˜¶æ®µï¼Œå•†ä¸šçº§çš„ç¼–è¯‘å™¨çš„passæ•°ä¸€èˆ¬åœ¨30-40ä»¥ä¸Š</p></li><li>Language definition </li><li>Compiler options and interfaces</li><li>Error handling: static error, execution error</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Compilers: computer languages&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Translate one language to another&lt;br&gt;Source language(input) to target language (output)
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Compilation Principle" scheme="https://iris-cyy.github.io/categories/Notes/Compilation-Principle/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="CP" scheme="https://iris-cyy.github.io/tags/CP/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºç§‘å­¦ä¸Šç½‘</title>
    <link href="https://iris-cyy.github.io//Tricks/2020-02-28/science_online/"/>
    <id>https://iris-cyy.github.io//Tricks/2020-02-28/science_online/</id>
    <published>2020-02-28T09:22:19.000Z</published>
    <updated>2020-02-29T04:59:45.698Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸å¾—ä¸è¯´å›½åº†ä»¥æ¥çœŸçš„è¶ŠæŸ¥è¶Šä¸¥ï¼Œä¸­é—´æ¢äº†æœ‰å‡ åä¸ªæ¢¯å­ï¼Œæœ€é•¿çš„æ²¡æ’‘è¿‡åŠä¸ªæœˆï¼ˆå“­ï¼‰ï¼Œæœ€è¿‘ç”šè‡³å¹³å‡æ¯ä¸‰åˆ†é’ŸæŒ‚æ‰ä¸€ä¸ªï¼ˆæ­å®Œæ‰“å¼€googleéªŒè¯æ­æˆåŠŸäº†ï¼Œç„¶åæ‰“å¼€gmailæ”¶ä¸€ä¸‹é‚®ä»¶ï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ï¼‰ã€‚äºæ˜¯æ„è¯†åˆ°ssä¸é¦™äº†ï¼Œä¸å¾—ä¸å¦è¾Ÿè¹Šå¾„ã€‚ç„¶ååœ¨åäº”åˆ†é’Ÿå‰ï¼Œæˆ‘ç»ˆäºæ—¶éš”äº”ä¸ªæœˆåˆä¸€æ¬¡æˆåŠŸç™»ä¸ŠinsğŸ‰ğŸ‰ğŸ‰</p><p>æ­¤å¤„åº”æœ‰é…å›¾<br>æˆ‘å¤ªéš¾äº†.jpg</p></blockquote><p><br></p><p>ä¸‹é¢æ˜¯æ­£æ–‡</p><p>å‚è€ƒäº†è®¸å¤šåˆ«çš„åšä¸»ï¼Œä½†é‰´äºè¿™äº›æ–‡ç« æ€»æ˜¯ä¼šä¸å®šæœŸæ¶ˆå¤±ï¼Œæ‰€ä»¥è¿˜æ˜¯è‡ªå·±æ€»ç»“ä¸€ç¯‡æ›´é è°±ä¸€ç‚¹ï¼šï¼‰</p><p><br></p><h2 id="VPS"><a href="#VPS" class="headerlink" title="VPS"></a>VPS</h2><p>é¦–å…ˆè¦ä¹°åˆ°èƒ½ç”¨çš„VPSï¼ˆvultrå¤§æ³•å¥½</p><p>é™¤äº†vultrè¿˜æœ‰digitaloceanã€linodeç­‰ç­‰ å°±ä¸è¯¦ç»†è¯´äº†ï¼Œèªæ˜çš„ä½ ä¸€å®šèƒ½æå®š</p><p><a href="http://www.nocnhost.com/vultr-vs-digitalocean-vs-linode?tdsourcetag=s_pctim_aiomsg" target="_blank" rel="noopener">è¿™é‡Œæœ‰ä¸€ç¯‡åˆ«äººå†™çš„blogæ¯”è¾ƒä¸Šè¿°ä¸‰å®¶VPS</a></p><p>getåˆ°èƒ½ç”¨çš„vpsä¹‹åï¼Œè®°å½•ä¸‹ipå’Œpassword</p><p>å…ˆè¿æ¥ï¼Œå¯ä»¥ç›´æ¥ç»ˆç«¯sshä¹Ÿå¯ä»¥ç”¨åˆ«çš„è½¯ä»¶ï¼ˆputtyç­‰ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ssh root@&lt;ip&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚ ssh root@192.168.99.99</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœè·³å‡ºæ¥ç¡®è®¤ï¼Œè¾“yeså°±è¡Œ</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŒ‰è¦æ±‚è¾“å…¥å¯†ç </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœè·³å‡ºæ¥22ç«¯å£è¿æ¥é”™è¯¯ï¼Œé‚£å°±è¯´æ˜è¿™ä¸ªipä¸è¡Œï¼Œé‡æ–°æ¢ä¸€ä¸ª</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœæˆåŠŸä¼šè·³å‡ºæ¥:</span></span><br><span class="line">root@vultr:~#</span><br></pre></td></tr></table></figure><p>ä¸‹é¢å¼€å§‹æ­æ¢¯å­</p><p>æˆ‘è¯•è¿‡æ¯”è¾ƒæˆåŠŸçš„æœ‰sså’Œv2rayä¸¤ç§æ­æ³•ï¼Œä¸‹é¢åˆ†åˆ«ä»‹ç»</p><p><br></p><h2 id="SS"><a href="#SS" class="headerlink" title="SS"></a>SS</h2><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><p>è¿™ä¸ªæ–¹æ³•æˆ‘ç”¨äº†ä¸¤å¹´ï¼Œæœ€è¿‘æŒ‚å¾—é¢‘ç¹æ‰å¼€å§‹æ‘¸ç´¢æ–°çš„æ­æ³•ã€‚</p><h4 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h4><p>å®‰è£…ssæœåŠ¡ç«¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install shadowsocks</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸­é—´çš„ç¡®è®¤æ­¥éª¤è¾“y</span></span><br></pre></td></tr></table></figure><p>ç­‰å®ƒå®‰è£…å¥½ä¹‹åç¼–è¾‘é…ç½®æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/shadowsocks/config.json</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿›å»ä¹‹åè¾“iè¿›å…¥--INSERTâ€”â€”æ¨¡å¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é…ç½®å®Œæˆä¹‹åæŒ‰ESCé€€å‡ºâ€”â€”INSERTâ€”â€”æ¨¡å¼ï¼Œè¾“å…¥:wqå°±å¯ä»¥ä¿å­˜å¹¶é€€å‡º</span></span><br></pre></td></tr></table></figure><p>å¯èƒ½æœ‰åˆå§‹é…ç½®ä¹Ÿå¯èƒ½æ²¡æœ‰ï¼Œå¤§æ¦‚é…ç½®æˆä¸‹é¢è¿™æ ·å°±è¡Œäº†ï¼ˆç«¯å£å¯ä»¥è‡ªå·±é…ç½®ï¼Œä¹‹åå¦‚æœé‡åˆ°æœåŠ¡å™¨æŒ‚æ‰ï¼Œæ’æŸ¥å®Œä¸æ˜¯ipæ•´ä¸ªä¸è¡Œäº†çš„è¯ï¼Œå¯ä»¥åˆ°è¿™è¾¹æ¥æ”¹ç«¯å£ï¼‰</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"server"</span>:<span class="string">"æœåŠ¡å™¨çš„ip"</span>, </span><br><span class="line">  <span class="attr">"server_port"</span>:<span class="number">8000</span>, </span><br><span class="line">  <span class="attr">"local_address"</span>: <span class="string">"127.0.0.1"</span>, </span><br><span class="line">  <span class="attr">"local_port"</span>:<span class="number">1080</span>, </span><br><span class="line">  <span class="attr">"password"</span>:<span class="string">"è‡ªå®šä¹‰çš„å¯†ç "</span>, </span><br><span class="line">  <span class="attr">"timeout"</span>:<span class="number">300</span>, </span><br><span class="line">  <span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span>, </span><br><span class="line">  <span class="attr">"fast_open"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"workers"</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼€å¯æœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssserver -c /etc/shadowsocks/config.json start &amp;</span><br></pre></td></tr></table></figure><h4 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h4><p>ä¸‹è½½shadowsockså®¢æˆ·ç«¯å¹¶æŒ‰ç…§æœåŠ¡å™¨é…ç½®ï¼ˆMacOSã€Windowsã€Linuxã€Androidã€iOSç­‰éƒ½æœ‰å¯¹åº”çš„ç‰ˆæœ¬ï¼‰</p><p>æ®è¯´<a href="https://shadowsocks.org/en/download/clients.html" target="_blank" rel="noopener">è¿™é‡Œ</a>å¯ä»¥ä¸‹è½½ï¼Œä½†æˆ‘åº”è¯¥ä¸æ˜¯ä»è¿™å„¿ä¸‹çš„</p><p>æœ‰ä¸ªgithubå¼€æºåœ°å€ï¼Œä¹Ÿæœ‰æ°‘é—´ç‰ˆæœ¬çš„ä¸‹è½½é“¾æ¥ï¼Œèªæ˜çš„ä½ ä¸€å®šå¯ä»¥æ‰¾åˆ°</p><p>é…ç½®å®Œå¤§æ¦‚é•¿è¿™æ ·ï¼š</p><p><img src="/images/tricks/scienceonline.assets/image-20200228175540635.png" alt="image-20200228175540635"></p><p>ç¡®å®šä¹‹åå¼€å¯å®¢æˆ·ç«¯ï¼Œæ¨èä½¿ç”¨PACè‡ªåŠ¨æ¨¡å¼</p><h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><p>è¿™ä¸ªæ–¹æ³•çš„å¥½å¤„åœ¨äºå¯ä»¥é…ç½®å¤šç”¨æˆ·æ¨¡å¼ï¼ˆä¹Ÿè®¸å‰é¢ä¸€ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ï¼Œæ²¡æœ‰å°è¯•ï¼‰</p><p>å‚è€ƒ<a href="https://blog.csdn.net/m0_38031488/article/details/90666355" target="_blank" rel="noopener">è¿™ç¯‡åšå®¢</a>ï¼Œå¤è¯»ä¸€ä¸‹ä»¥é˜²404</p><h4 id="æœåŠ¡å™¨-1"><a href="#æœåŠ¡å™¨-1" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h4><p>å¼€å¯åŠ é€Ÿä¼˜åŒ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N â€” no-check-certificate https://raw.githubusercontent.com/91yun/serverspeeder/master/serverspeeder-all.sh &amp;&amp; bash serverspeeder-all.sh</span><br></pre></td></tr></table></figure><p>å®‰è£…ss</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">ä¸‹è½½</span></span><br><span class="line">wget â€” no-check-certificate -O shadowsocks.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">æ›´æ”¹æƒé™</span></span><br><span class="line">chmod 777 shadowsocks.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">å¼€å§‹å®‰è£…</span></span><br><span class="line">./shadowsocks.sh 2&gt;&amp;1 | tee shadowsocks.log</span><br></pre></td></tr></table></figure><p>æŒ‰è¦æ±‚è¾“å…¥å¯†ç ã€ç«¯å£ï¼ˆå¤§äº1000ï¼‰ã€åŠ å¯†æ–¹å¼ï¼ˆé€‰æ‹©å¯¹åº”æ•°å­—ï¼Œæ¨è7å·ï¼Œaes-256-cfbï¼‰ï¼ŒæŒ‰æŒ‡ä»¤å®Œæˆæ­å»º</p><p>ä¸‹é¢çš„æ­¥éª¤å¯ä¾›é€‰æ‹©</p><p>æœ‰éœ€æ±‚é…ç½®å¤šç”¨æˆ·ä½¿ç”¨ï¼ˆå¤šç«¯å£ï¼‰çš„è¯è¿›å…¥ä»¥ä¸‹æ­¥éª¤ï¼Œæ²¡æœ‰éœ€æ±‚åˆ™åˆ°è¿™é‡Œå°±å¤§åŠŸå‘Šæˆ</p><p>åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/shadowsocks.json</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸ºå¤šç”¨æˆ·æ¨¡å¼ï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"server"</span>:<span class="string">"::"</span>,</span><br><span class="line">    <span class="attr">"local_address"</span>:<span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">    <span class="attr">"port_password"</span>:&#123;</span><br><span class="line">         <span class="attr">"9000"</span>:<span class="string">"12345"</span>,</span><br><span class="line">         <span class="attr">"9001"</span>:<span class="string">"12345"</span>,</span><br><span class="line">         <span class="attr">"9002"</span>:<span class="string">"12345"</span>,</span><br><span class="line">         <span class="attr">"9003"</span>:<span class="string">"12345"</span>,</span><br><span class="line">         <span class="attr">"9004"</span>:<span class="string">"12345"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"timeout"</span>:<span class="number">300</span>,</span><br><span class="line">    <span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span>,</span><br><span class="line">    <span class="attr">"fast_open"</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­serverçš„åˆå§‹å€¼æ˜¯0.0.0.0ï¼Œè®¾ç½®æˆè¿™æ ·æ–¹ä¾¿ipv6è¿æ¥ï¼Œä¹Ÿå¯ä»¥ä¸æ”¹</p><p>portå’Œpasswordéƒ½å¯ä»¥è‡ªå®šä¹‰</p><p>ä¿å­˜é…ç½®ä¹‹åé‡å¯ss</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/shadowsocks restart</span><br></pre></td></tr></table></figure><p>å®Œæˆâœ…</p><p>å®¢æˆ·ç«¯çš„é…ç½®å’Œæ–¹æ³•ä¸€ä¸€æ ·</p><p><br></p><h2 id="v2ray"><a href="#v2ray" class="headerlink" title="v2ray"></a>v2ray</h2><p>é‰´äºæœ€è¿‘ssæ™®éä¸è¡Œï¼Œæˆ‘åˆç¿»äº†å¾ˆå¤šåšå®¢æ‰¾åˆ°v2rayçš„æ­å»ºæ–¹æ³•</p><p>è¯·å‚è€ƒ<a href="https://www.codercto.com/a/22204.html?tdsourcetag=s_pctim_aiomsg" target="_blank" rel="noopener">è¿™ç¯‡åšå®¢</a></p><p>ç§‘å­¦çˆ±å›½ï¼Œå—¯ï¼Œç§‘å­¦çˆ±å›½</p><p>é»˜å¿µ100éç¤¾ä¼šä¸»ä¹‰æ ¸å¿ƒä»·å€¼è§‚</p><p>ä»¥ä¸‹æ˜¯åŸºç¡€ç‰ˆæœ¬çš„å¤è¯»</p><h3 id="æœåŠ¡å™¨-2"><a href="#æœåŠ¡å™¨-2" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h3><p>åŒæ ·ï¼Œå…ˆå®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://install.direct/go.sh)</span><br></pre></td></tr></table></figure><p>ç­‰å®‰è£…å®Œä¹‹åï¼Œè®°å½•è·³å‡ºæ¥çš„<strong>PORT</strong>å’Œ<strong>UUID</strong>ï¼ˆåˆ’é‡ç‚¹ï¼‰</p><p>å¦‚æœæç¤ºç¼ºå°‘å‘½ä»¤å¯ä»¥å…ˆå‡çº§ä¸€ä¸‹apt</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœæ²¡æœ‰æç¤ºä»»ä½•é”™è¯¯ï¼Œç›´æ¥å®‰è£…å®Œæˆäº†ï¼Œè¯·è·³è¿‡è¿™æ­¥</span></span><br><span class="line">yum update</span><br><span class="line">apt-get update</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåå¼€å¯è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service v2ray start</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹é¢è¿™ä¸ªå‘½ä»¤å¯ä»¥ç”¨æ¥æŸ¥çœ‹çŠ¶æ€ï¼Œå¦‚æœæ˜¾ç¤ºrunningåˆ™å¼€å¯æˆåŠŸ</span></span><br><span class="line">service v2ray status</span><br></pre></td></tr></table></figure><h3 id="å®¢æˆ·ç«¯-1"><a href="#å®¢æˆ·ç«¯-1" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h3><p>ä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿçš„v2ray</p><p><a href="https://github.com/v2ray/v2ray-core/releases" target="_blank" rel="noopener">ğŸ”—1</a> ï¼ˆgithubé“¾æ¥ï¼‰</p><p><a href="https://www.v2ray.com" target="_blank" rel="noopener">ğŸ”—2</a> ï¼ˆè¿™ä¸ªæœ‰å¾ˆå¤§æ¦‚ç‡æ˜¯åçš„ï¼‰</p><p><a href="https://tlanyan.me/v2ray-clients-download/" target="_blank" rel="noopener">ğŸ”—3</a> ï¼ˆæˆ‘ä»è¿™é‡Œä¸‹çš„ï¼‰</p><p>é…ç½®config.jsonå¦‚ä¸‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&#123;    </span><br><span class="line">    <span class="attr">"inbound"</span>: &#123;      </span><br><span class="line">        <span class="attr">"port"</span>: <span class="number">1080</span>,      </span><br><span class="line">        <span class="attr">"listen"</span>: <span class="string">"127.0.0.1"</span>,      </span><br><span class="line">        <span class="attr">"protocol"</span>: <span class="string">"socks"</span>,      </span><br><span class="line">        <span class="attr">"settings"</span>: &#123;        </span><br><span class="line">            <span class="attr">"auth"</span>: <span class="string">"noauth"</span>        </span><br><span class="line">            <span class="string">"udp"</span>: <span class="literal">true</span>      </span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;,    </span><br><span class="line">    <span class="attr">"outbound"</span>: &#123;      </span><br><span class="line">        <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,      </span><br><span class="line">        <span class="attr">"settings"</span>: &#123;          </span><br><span class="line">            <span class="attr">"vnext"</span>: [          </span><br><span class="line">                &#123;            </span><br><span class="line">                    <span class="attr">"address"</span>: <span class="string">"æœåŠ¡å™¨çš„ip"</span>,           </span><br><span class="line">                    <span class="attr">"port"</span>: è®°å½•çš„port,            </span><br><span class="line">                    <span class="attr">"users"</span>: [              </span><br><span class="line">                        &#123;                </span><br><span class="line">                            <span class="attr">"id"</span>: <span class="string">"è®°å½•çš„UUID"</span>,       </span><br><span class="line">                            <span class="attr">"alterId"</span>: <span class="number">64</span>              </span><br><span class="line">                        &#125;            </span><br><span class="line">                    ]          </span><br><span class="line">                &#125;        </span><br><span class="line">            ]      </span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="string">"outboundDetour"</span>: [    </span><br><span class="line">    &#123;      </span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;&#125;,</span><br><span class="line"><span class="attr">"tag"</span>: <span class="string">"direct"</span>    </span><br><span class="line">&#125;  </span><br><span class="line">],  </span><br><span class="line"><span class="attr">"routing"</span>: &#123;    </span><br><span class="line">        <span class="attr">"strategy"</span>: <span class="string">"rules"</span>,    </span><br><span class="line">        <span class="attr">"settings"</span>: &#123;      </span><br><span class="line">            <span class="attr">"domainStrategy"</span>: </span><br><span class="line">            <span class="string">"IPIfNonMatch"</span>,      </span><br><span class="line">            <span class="attr">"rules"</span>: [        </span><br><span class="line">                &#123;          </span><br><span class="line">                    <span class="attr">"type"</span>: <span class="string">"geoip:private"</span>,          </span><br><span class="line">                    <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>        </span><br><span class="line">                &#125;,        </span><br><span class="line">                &#123;          </span><br><span class="line">                    <span class="attr">"type"</span>: <span class="string">"geosite:cn"</span>,          </span><br><span class="line">                    <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>        </span><br><span class="line">                &#125;,        </span><br><span class="line">                &#123;          </span><br><span class="line">                    <span class="attr">"type"</span>: <span class="string">"geoip:cn"</span>,          </span><br><span class="line">                    <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>        </span><br><span class="line">                &#125;      </span><br><span class="line">            ]    </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line"><span class="string">"mux"</span>: &#123;    </span><br><span class="line">        <span class="attr">"enabled"</span>: <span class="literal">true</span>,    </span><br><span class="line">        <span class="attr">"concurrency"</span>: <span class="number">8</span>  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä¸é…ç½®ï¼Œç›´æ¥åœ¨è¿è¡Œè½¯ä»¶çš„æ—¶å€™åœ¨é¡µé¢é‡Œé…ç½®ä¹Ÿæˆï¼Œè¾“å…¥å¯¹åº”IPã€portã€IDå°±å¯</p><p>åˆ°è¿™é‡Œå¤§åŠŸå‘Šæˆ</p><p>ä¸‹é¢è®²æ‰‹æœºç«¯çš„é…ç½®</p><p>Androidæ¨èç”¨BifrostVä½œä¸ºå®¢æˆ·ç«¯ï¼Œä¸‹è½½é“¾æ¥åœ¨<a href="https://www.codercto.com/a/22204.html?tdsourcetag=s_pctim_aiomsg" target="_blank" rel="noopener">è¿™é‡Œ</a></p><p>æ‰‹åŠ¨é…ç½®ï¼Œå…¶ä¸­é¡¶ç«¯é€‰æ‹©VMessï¼ŒHostå¡«IPï¼ŒPortå¡«portï¼ŒUserIDå¡«UUIDï¼Œé…ç½®å®Œä¿å­˜é€€å‡ºï¼Œå¼€å¯è¿æ¥ï¼Œå®Œäº‹å„¿</p><p>iOSä¿ºä¹Ÿä¸ä¼š</p><p><br></p><p>ä¸‹é¢æ˜¯å‡ ä¸ªä»‹ç»è¿›é˜¶ç‰ˆé…ç½®çš„é“¾æ¥ï¼Œæ”¶è—äº†ç­‰äºå­¦è¿‡äº†ï¼Œå—¯</p><p><a href="https://tlanyan.me/recovery-blocked-ip/" target="_blank" rel="noopener">æ‹¯æ•‘è¢«å¢™IP</a></p><p><a href="http://www.nocnhost.com/vultr-vs-digitalocean-vs-linode?tdsourcetag=s_pctim_aiomsg" target="_blank" rel="noopener">ä¼ªè£…æˆHTTP</a></p><p><br></p><p>æœ€åè¡¥ä¸€å¥ï¼Œchormeæœ‰ä¸€ä¸ªæ’ä»¶ï¼Œé€Ÿåº¦å¾ˆæ…¢ä½†å¥½åƒä¸å¤ªå®¹æ˜“æŒ‚ï¼ˆè™½ç„¶æµè§ˆå™¨ä¼šå®šæœŸè‡ªåŠ¨åˆ æ‰è¿™ä¸ªæ’ä»¶</p><p>åº”æ€¥çš„æ—¶å€™å¯ä»¥å°è¯•</p><p><br></p><p>å…ˆåˆ°è¿™å„¿ï¼Œå¸Œæœ›æ°¸è¿œä¸è¦æœ‰ç ”ç©¶æ–°æ–¹æ³•çš„éœ€æ±‚</p><p>ç¥ˆç¥·ä¸€ä¸‹è¿™å›æ¢¯å­èƒ½ç•™ä¹…ä¸€ç‚¹</p><p>åˆ·inså»äº† bye</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸å¾—ä¸è¯´å›½åº†ä»¥æ¥çœŸçš„è¶ŠæŸ¥è¶Šä¸¥ï¼Œä¸­é—´æ¢äº†æœ‰å‡ åä¸ªæ¢¯å­ï¼Œæœ€é•¿çš„æ²¡æ’‘è¿‡åŠä¸ªæœˆï¼ˆå“­ï¼‰ï¼Œæœ€è¿‘ç”šè‡³å¹³å‡æ¯ä¸‰åˆ†é’ŸæŒ‚æ‰ä¸€ä¸ªï¼ˆæ­å®Œæ‰“å¼€googleéªŒè¯æ­æˆåŠŸäº†ï¼Œç„¶åæ‰“å¼€gmailæ”¶ä¸€ä¸‹é‚®ä»¶ï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ï¼‰ã€‚äºæ˜¯æ„è¯†åˆ°ssä¸é¦™äº†ï¼Œä¸å¾—ä¸å¦è¾Ÿè¹Šå¾„ã€‚ç„¶ååœ¨åäº”åˆ†é’Ÿå‰ï¼Œ
      
    
    </summary>
    
      <category term="Tricks" scheme="https://iris-cyy.github.io/categories/Tricks/"/>
    
    
      <category term="Tricks" scheme="https://iris-cyy.github.io/tags/Tricks/"/>
    
  </entry>
  
  <entry>
    <title>ã€Pythonã€‘Basis</title>
    <link href="https://iris-cyy.github.io//Notes/Python/2020-02-25/python_basis/"/>
    <id>https://iris-cyy.github.io//Notes/Python/2020-02-25/python_basis/</id>
    <published>2020-02-25T10:09:53.000Z</published>
    <updated>2020-03-10T04:53:58.521Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><h3 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h3><ul><li><p>æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿</p></li><li><p>å¿…é¡»ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´</p></li><li><p>å¤§å°å†™æ•æ„Ÿ</p></li><li><p>ä¸èƒ½æ˜¯å…³é”®å­—ï¼ˆä¿ç•™å­—ï¼‰</p><ul><li><p>Python2 çš„å…³é”®å­—ï¼š<br><img src="/images/python/python-basis.assets/image-20200225182820298.png" alt="image-20200225182820298"></p></li><li><p>Python3 çš„å…³é”®å­—<br><img src="/images/python/python-basis.assets/image-20200225183717669.png" alt="image-20200225183717669"></p></li></ul></li></ul><h3 id="idå‡½æ•°"><a href="#idå‡½æ•°" class="headerlink" title="idå‡½æ•°"></a><code>id</code>å‡½æ•°</h3><p>å˜é‡å°†åå­—å’Œå¯¹è±¡å…³è”èµ·æ¥ï¼Œèµ‹å€¼æ“ä½œå¹¶ä¸ä¼šå®é™…å¤åˆ¶å€¼ï¼Œåªæ˜¯ä¸ºæ•°æ®å¯¹è±¡å–ç›¸å…³åå­—ã€‚åå­—æ˜¯å¯¹è±¡çš„å¼•ç”¨è€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚</p><p>å°æ•´æ•°ï¼ˆ-5 ï½ 256ï¼‰ç›´æ¥ä½œä¸ºå¯¹è±¡å­˜å‚¨ï¼Œåœ°å€å›ºå®šï¼Œè€Œå…¶ä»–çš„æ•´æ•°åœ°å€è¦ä¸´æ—¶åˆ†é…</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">7</span></span><br><span class="line">b = <span class="number">7</span></span><br><span class="line">id(a) == id(b) <span class="comment">#true</span></span><br><span class="line"></span><br><span class="line">c = <span class="number">1000</span></span><br><span class="line">d = <span class="number">1000</span></span><br><span class="line">id(c) == id(d) <span class="comment">#false</span></span><br></pre></td></tr></table></figure><p><code>del()</code>å‡½æ•°ç”¨äºåˆ é™¤å˜é‡</p><p><br></p><h2 id="è¾“å…¥è¾“å‡º"><a href="#è¾“å…¥è¾“å‡º" class="headerlink" title="è¾“å…¥è¾“å‡º"></a>è¾“å…¥è¾“å‡º</h2><h3 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h3><p><code>input()</code>ï¼šè¯»å…¥ä¸€æ•´è¡Œä½œä¸ºå­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &lt;å˜é‡&gt; = input(&lt;æç¤ºæ€§æ–‡å­—&gt;)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>input(<span class="string">"è¯·è¾“å…¥ï¼š"</span>)</span><br><span class="line">è¯·è¾“å…¥ï¼š</span><br></pre></td></tr></table></figure><p>è¾“å…¥integer</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = int(input())</span><br><span class="line"><span class="comment"># å…¶å®int()æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå®Œæ•´è¡¨ç¤ºæ˜¯class int(x, base=10)</span></span><br><span class="line"><span class="comment"># xæ˜¯å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œbaseæ˜¯è¿›åˆ¶ï¼Œé»˜è®¤æ˜¯åè¿›åˆ¶</span></span><br></pre></td></tr></table></figure><p>åŒæ—¶ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼</p><p>ç”¨<code>split()</code>å‡½æ•°ï¼Œç”¨äºæŠŠå­—ç¬¦ä¸²æŒ‰â€ â€œåˆ†å¼€æˆä¸€ä¸ªlistï¼ˆæ¯ä¸ªå…ƒç´ éƒ½æ˜¯å­—ç¬¦ä¸²ï¼‰ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§å…¶ä»–å…ƒç´ åˆ†å¼€ï¼Œç»™<code>split()</code>å‚æ•°å³å¯ï¼Œä¾‹å¦‚3#4#5æŒ‰#åˆ†å¼€ï¼Œç”¨<code>split(&#39;#&#39;)</code>ï¼ˆå³<code>split()</code>çš„å‚æ•°é»˜è®¤ä¸ºâ€™ â€˜ï¼‰</p><p>åœ¨åŒè¡Œç”¨ç©ºæ ¼åˆ†æ ¼è¯»å–ä¸‰ä¸ªæ•´æ•°çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a, b, c = map(int, input().split())</span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ç§trick</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a, b, c = eval(input()) <span class="comment"># é€‚ç”¨è¾“å…¥ç±»ä¼¼1ï¼Œ2ï¼Œ3æƒ…å†µï¼ˆevalä¸ºç›´æ¥å»é™¤å­—ç¬¦ä¸²ä¸¤è¾¹çš„â€œâ€ï¼Œç›¸å½“äºä¸‰å¯¹ä¸‰èµ‹å€¼ï¼‰</span></span><br></pre></td></tr></table></figure><h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><p><code>print()</code>ï¼šä»¥å­—ç¬¦å½¢å¼è¾“å‡ºå˜é‡ï¼Œå¯ä»¥è¾“å‡ºå„ç§ç±»å‹å˜é‡çš„å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="number">3</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="number">3</span>, <span class="number">7</span>)</span><br><span class="line"><span class="number">3</span> <span class="number">7</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b, c = <span class="number">3</span>, <span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(b, c, <span class="number">5</span>)</span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br></pre></td></tr></table></figure><p>æ›´æ”¹<code>end</code>å‚æ•°å¯ä»¥åšåˆ°ä¸æ¢è¡Œè¾“å‡ºç­‰ï¼ˆ<code>end</code>é»˜è®¤æ˜¯<code>\n</code>ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">3</span>, end=<span class="string">''</span>)</span><br><span class="line">print(<span class="number">4</span>, end=<span class="string">''</span>)</span><br><span class="line"><span class="comment">#è¾“å‡º34</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡<code>%</code>æ¥é€‰æ‹©è¦è¾“å‡ºçš„å˜é‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># "&lt;æ ¼å¼å­—ç¬¦ä¸²&gt;" %(&lt;è¾“å‡ºå¯¹è±¡&gt;, &lt;è¾“å‡ºå¯¹è±¡&gt; ...)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"Celsuis: %3d Fahr: %6.1f"</span> %(celsuis, fahr))</span><br></pre></td></tr></table></figure><h4 id="æ ¼å¼åŒ–è¾“å‡º"><a href="#æ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="æ ¼å¼åŒ–è¾“å‡º"></a>æ ¼å¼åŒ–è¾“å‡º</h4><h5 id=""><a href="#" class="headerlink" title="%"></a><code>%</code></h5><p>æ•´æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%o'</span> %<span class="number">20</span>) <span class="comment"># %o å…«è¿›åˆ¶</span></span><br><span class="line"><span class="number">2</span> <span class="number">24</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%d'</span> %<span class="number">20</span>) <span class="comment"># %d åè¿›åˆ¶</span></span><br><span class="line"><span class="number">4</span> <span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%x'</span> %<span class="number">20</span>) <span class="comment"># %x åå…­è¿›åˆ¶</span></span><br><span class="line"><span class="number">6</span> <span class="number">14</span></span><br></pre></td></tr></table></figure><p>æµ®ç‚¹æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># %f â€”â€”ä¿ç•™å°æ•°ç‚¹åé¢å…­ä½æœ‰æ•ˆæ•°å­—</span></span><br><span class="line"><span class="comment"># ã€€ã€€%.3fï¼Œä¿ç•™3ä½å°æ•°ä½</span></span><br><span class="line"><span class="comment"># %e â€”â€”ä¿ç•™å°æ•°ç‚¹åé¢å…­ä½æœ‰æ•ˆæ•°å­—ï¼ŒæŒ‡æ•°å½¢å¼è¾“å‡º</span></span><br><span class="line"><span class="comment"># ã€€ã€€%.3eï¼Œä¿ç•™3ä½å°æ•°ä½ï¼Œä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line"><span class="comment"># %g â€”â€”åœ¨ä¿è¯å…­ä½æœ‰æ•ˆæ•°å­—çš„å‰æä¸‹ï¼Œä½¿ç”¨å°æ•°æ–¹å¼ï¼Œå¦åˆ™ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line"><span class="comment"># ã€€ã€€%.3gï¼Œä¿ç•™3ä½æœ‰æ•ˆæ•°å­—ï¼Œä½¿ç”¨å°æ•°æˆ–ç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%f'</span> % <span class="number">1.11</span>)  <span class="comment"># é»˜è®¤ä¿ç•™6ä½å°æ•°</span></span><br><span class="line"><span class="number">1.110000</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%.1f'</span> % <span class="number">1.11</span>)  <span class="comment"># å–1ä½å°æ•°</span></span><br><span class="line"><span class="number">1.1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%e'</span> % <span class="number">1.11</span>)  <span class="comment"># é»˜è®¤6ä½å°æ•°ï¼Œç”¨ç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line"><span class="number">1.110000e+00</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%.3e'</span> % <span class="number">1.11</span>)  <span class="comment"># å–3ä½å°æ•°ï¼Œç”¨ç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line"><span class="number">1.110e+00</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%g'</span> % <span class="number">1111.1111</span>)  <span class="comment"># é»˜è®¤6ä½æœ‰æ•ˆæ•°å­—</span></span><br><span class="line"><span class="number">1111.11</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%.7g'</span> % <span class="number">1111.1111</span>)  <span class="comment"># å–7ä½æœ‰æ•ˆæ•°å­—</span></span><br><span class="line"><span class="number">1111.111</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%.2g'</span> % <span class="number">1111.1111</span>)  <span class="comment"># å–2ä½æœ‰æ•ˆæ•°å­—ï¼Œè‡ªåŠ¨è½¬æ¢ä¸ºç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line"><span class="number">1.1e+03</span></span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># %s</span></span><br><span class="line"><span class="comment"># %10sâ€”â€”å³å¯¹é½ï¼Œå ä½ç¬¦10ä½</span></span><br><span class="line"><span class="comment"># %-10sâ€”â€”å·¦å¯¹é½ï¼Œå ä½ç¬¦10ä½</span></span><br><span class="line"><span class="comment"># %.2sâ€”â€”æˆªå–2ä½å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"># %10.2sâ€”â€”10ä½å ä½ç¬¦ï¼Œæˆªå–ä¸¤ä½å­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%s'</span> % <span class="string">'hello world'</span>)  <span class="comment"># å­—ç¬¦ä¸²è¾“å‡º</span></span><br><span class="line">hello world</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%20s'</span> % <span class="string">'hello world'</span>)  <span class="comment"># å³å¯¹é½ï¼Œå–20ä½ï¼Œä¸å¤Ÿåˆ™è¡¥ä½</span></span><br><span class="line">         hello world</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%-20s'</span> % <span class="string">'hello world'</span>)  <span class="comment"># å·¦å¯¹é½ï¼Œå–20ä½ï¼Œä¸å¤Ÿåˆ™è¡¥ä½</span></span><br><span class="line">hello world         </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%.2s'</span> % <span class="string">'hello world'</span>)  <span class="comment"># å–2ä½</span></span><br><span class="line">he</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%10.2s'</span> % <span class="string">'hello world'</span>)  <span class="comment"># å³å¯¹é½ï¼Œå–2ä½</span></span><br><span class="line">        he</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'%-10.2s'</span> % <span class="string">'hello world'</span>)  <span class="comment"># å·¦å¯¹é½ï¼Œå–2ä½</span></span><br><span class="line">he</span><br></pre></td></tr></table></figure><h5 id="format-å‡½æ•°"><a href="#format-å‡½æ•°" class="headerlink" title="format()å‡½æ•°"></a><code>format()</code>å‡½æ•°</h5><p>åŸºæœ¬æ ¼å¼ï¼š<code>str.format()</code></p><p>ä½ç½®åŒ¹é…ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(format(<span class="number">57.467645</span>, <span class="string">".3f"</span>))</span><br><span class="line"><span class="number">57.468</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;&#125; &#123;&#125;'</span>.format(<span class="string">'hello'</span>,<span class="string">'world'</span>))  <span class="comment"># ä¸å¸¦å­—æ®µ</span></span><br><span class="line">hello world</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;0&#125; &#123;1&#125;'</span>.format(<span class="string">'hello'</span>,<span class="string">'world'</span>))  <span class="comment"># å¸¦æ•°å­—ç¼–å·</span></span><br><span class="line">hello world</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;0&#125; &#123;1&#125; &#123;0&#125;'</span>.format(<span class="string">'hello'</span>,<span class="string">'world'</span>))  <span class="comment"># æ‰“ä¹±é¡ºåº</span></span><br><span class="line">hello world hello</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;1&#125; &#123;1&#125; &#123;0&#125;'</span>.format(<span class="string">'hello'</span>,<span class="string">'world'</span>))</span><br><span class="line">world world hello</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;a&#125; &#123;tom&#125; &#123;a&#125;'</span>.format(tom=<span class="string">'hello'</span>,a=<span class="string">'world'</span>))  <span class="comment"># å¸¦å…³é”®å­—</span></span><br><span class="line">world hello world</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;&#125; and &#123;&#125;'</span>.format(<span class="string">'hello'</span>,<span class="string">'world'</span>))  <span class="comment"># é»˜è®¤å·¦å¯¹é½</span></span><br><span class="line">hello <span class="keyword">and</span> world</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:10s&#125; and &#123;:&gt;10s&#125;'</span>.format(<span class="string">'hello'</span>,<span class="string">'world'</span>))  <span class="comment"># å–10ä½å·¦å¯¹é½ï¼Œå–10ä½å³å¯¹é½</span></span><br><span class="line">hello      <span class="keyword">and</span>      world</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:^10s&#125; and &#123;:^10s&#125;'</span>.format(<span class="string">'hello'</span>,<span class="string">'world'</span>))  <span class="comment"># å–10ä½ä¸­é—´å¯¹é½</span></span><br><span class="line">  hello    <span class="keyword">and</span>   world   </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;&#125; is &#123;:.2f&#125;'</span>.format(<span class="number">1.123</span>,<span class="number">1.123</span>))  <span class="comment"># å–2ä½å°æ•°</span></span><br><span class="line"><span class="number">1.123</span> <span class="keyword">is</span> <span class="number">1.12</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;0&#125; is &#123;0:&gt;10.2f&#125;'</span>.format(<span class="number">1.123</span>))  <span class="comment"># å–2ä½å°æ•°ï¼Œå³å¯¹é½ï¼Œå–10ä½</span></span><br><span class="line"><span class="number">1.123</span> <span class="keyword">is</span>       <span class="number">1.12</span></span><br></pre></td></tr></table></figure><p>å¤šç§æ ¼å¼åŒ–ï¼š</p><ul><li>â€˜bâ€™ - äºŒè¿›åˆ¶ã€‚å°†æ•°å­—ä»¥2ä¸ºåŸºæ•°è¿›è¡Œè¾“å‡ºã€‚</li><li>â€˜câ€™ - å­—ç¬¦ã€‚åœ¨æ‰“å°ä¹‹å‰å°†æ•´æ•°è½¬æ¢æˆå¯¹åº”çš„Unicodeå­—ç¬¦ä¸²ã€‚</li><li>â€˜dâ€™ - åè¿›åˆ¶æ•´æ•°ã€‚å°†æ•°å­—ä»¥10ä¸ºåŸºæ•°è¿›è¡Œè¾“å‡ºã€‚</li><li>â€˜oâ€™ - å…«è¿›åˆ¶ã€‚å°†æ•°å­—ä»¥8ä¸ºåŸºæ•°è¿›è¡Œè¾“å‡ºã€‚</li><li>â€˜xâ€™ - åå…­è¿›åˆ¶ã€‚å°†æ•°å­—ä»¥16ä¸ºåŸºæ•°è¿›è¡Œè¾“å‡ºï¼Œ9ä»¥ä¸Šçš„ä½æ•°ç”¨å°å†™å­—æ¯ã€‚</li><li>â€˜eâ€™ - å¹‚ç¬¦å·ã€‚ç”¨ç§‘å­¦è®¡æ•°æ³•æ‰“å°æ•°å­—ã€‚ç”¨â€™eâ€™è¡¨ç¤ºå¹‚ã€‚</li><li>â€˜gâ€™ - ä¸€èˆ¬æ ¼å¼ã€‚å°†æ•°å€¼ä»¥fixed-pointæ ¼å¼è¾“å‡ºã€‚å½“æ•°å€¼ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œç”¨å¹‚å½¢å¼æ‰“å°ã€‚</li><li>â€˜nâ€™ - æ•°å­—ã€‚å½“å€¼ä¸ºæ•´æ•°æ—¶å’Œâ€™dâ€™ç›¸åŒï¼Œå€¼ä¸ºæµ®ç‚¹æ•°æ—¶å’Œâ€™gâ€™ç›¸åŒã€‚ä¸åŒçš„æ˜¯å®ƒä¼šæ ¹æ®åŒºåŸŸè®¾ç½®æ’å…¥æ•°å­—åˆ†éš”ç¬¦ã€‚</li><li>â€˜%â€™ - ç™¾åˆ†æ•°ã€‚å°†æ•°å€¼ä¹˜ä»¥100ç„¶åä»¥fixed-point(â€˜fâ€™)æ ¼å¼æ‰“å°ï¼Œå€¼åé¢ä¼šæœ‰ä¸€ä¸ªç™¾åˆ†å·ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;0:b&#125;'</span>.format(<span class="number">3</span>))</span><br><span class="line"><span class="number">11</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:c&#125;'</span>.format(<span class="number">20</span>))</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:d&#125;'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:o&#125;'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="number">24</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:x&#125;'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="number">14</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:e&#125;'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="number">2.000000e+01</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:g&#125;'</span>.format(<span class="number">20.1</span>))</span><br><span class="line"><span class="number">20.1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:f&#125;'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="number">20.000000</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:n&#125;'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;:%&#125;'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="number">2000.000000</span>%</span><br></pre></td></tr></table></figure><blockquote><p>æ ¼å¼åŒ–è¾“å‡ºçš„åšæ³•è¿˜æŒºå¤æ‚çš„ï¼Œä»¥åå†™ç çš„æ—¶å€™å†å…·ä½“çœ‹å§ ï¼šï¼‰</p></blockquote><p><br></p><h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><p>pythonæ²¡æœ‰charæ²¡æœ‰doubleï¼Œåˆ†åˆ«ç”¨strå’Œfloatè¦†ç›–äº†</p><p><code>type()</code>å¯ä»¥ç”¨æ¥è·å¾—æ•°æ®ç±»å‹</p><p>Trueæ˜¯1ï¼ŒFalseæ˜¯0ï¼ˆåšç®—æ•°çš„æ—¶å€™å¯ä»¥æ›¿æ¢ï¼Œä½†æ˜¯<code>type(True)</code>æ˜¯<code>&lt;class &#39;bool&#39;</code>ï¼‰</p><h3 id="ä¸€äº›å†…ç½®çš„ç±»å‹è½¬æ¢å‡½æ•°"><a href="#ä¸€äº›å†…ç½®çš„ç±»å‹è½¬æ¢å‡½æ•°" class="headerlink" title="ä¸€äº›å†…ç½®çš„ç±»å‹è½¬æ¢å‡½æ•°"></a>ä¸€äº›å†…ç½®çš„ç±»å‹è½¬æ¢å‡½æ•°</h3><p><code>bool()</code> <code>int()</code> <code>float()</code> <code>str()</code> <code>complex()</code>å°±ä¸å¤šè¯´äº†ï¼Œä¼šè‡ªåŠ¨å»æ‰å‰åç©ºæ ¼ã€å‰ç½®0ç­‰ï¼ˆä½†æ•°æ®ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>str(<span class="number">123</span>)</span><br><span class="line"><span class="string">'123'</span></span><br></pre></td></tr></table></figure><p><code>chr()</code>è¿”å›æ•´æ•°å¯¹åº”çš„Unicodeå­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>chr(<span class="number">65</span>)</span><br><span class="line"><span class="string">'A'</span></span><br></pre></td></tr></table></figure><p><code>ord()</code> è¿”å›Unicodeå­—ç¬¦å¯¹åº”çš„æ•´æ•°</p><p>è¿›åˆ¶è½¬æ¢ï¼š<code>bin()</code> <code>oct()</code> <code>hex()</code>ï¼ˆè¾“å‡ºæ˜¯strç±»å‹ï¼‰ï¼Œintå¯ç”¨ä½œè½¬ä¸ºåè¿›åˆ¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bin(<span class="number">3</span>)</span><br><span class="line"><span class="string">'0b11'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="string">"35"</span>, <span class="number">8</span>) <span class="comment">#æŠŠ8è¿›åˆ¶çš„35è½¬ä¸ºåè¿›åˆ¶</span></span><br><span class="line"><span class="number">29</span></span><br></pre></td></tr></table></figure><p><code>list()</code></p><h3 id="æ•´æ•°-int"><a href="#æ•´æ•°-int" class="headerlink" title="æ•´æ•° int"></a>æ•´æ•° int</h3><ul><li>äºŒè¿›åˆ¶ï¼š0bæˆ–0B</li><li>å…«è¿›åˆ¶ï¼š0oæˆ–0O</li><li>åè¿›åˆ¶ï¼š0xæˆ–0X</li></ul><p>64ä½æœºå™¨å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯9223372036854775807ï¼ˆä½†è¶…è¿‡è¿™ä¸ªèŒƒå›´è¿˜æ˜¯å¯ä»¥è¢«è¡¨ç¤ºï¼‰</p><h3 id="æµ®ç‚¹æ•°-float"><a href="#æµ®ç‚¹æ•°-float" class="headerlink" title="æµ®ç‚¹æ•° float"></a>æµ®ç‚¹æ•° float</h3><p>ç§‘å­¦è®¡æ•°æ³•ï¼šå¦‚<code>1.23e9</code>è¡¨ç¤º$1.23 \times10^9$ï¼Œ<code>1.2e-5</code>è¡¨ç¤º0.000012ï¼ˆeå‰åæ²¡æœ‰ç©ºæ ¼ï¼Œeåé¢çš„æ•°å­—æ˜¯æ•´æ•°ï¼‰</p><p>æµ®ç‚¹æ•°çš„è¡¨è¾¾æœ‰è¯¯å·®ï¼Œä¾‹å¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2.1</span><span class="number">-2.0</span></span><br><span class="line"><span class="number">0.10000000000000009</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3.2</span>%<span class="number">2</span></span><br><span class="line"><span class="number">1.2000000000000002</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ç”¨<code>sys.float_info</code>æŸ¥çœ‹æµ®ç‚¹æ•°ä¿¡æ¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.float_info</span><br><span class="line">sys.float_info(max=<span class="number">1.7976931348623157e+308</span>, max_exp=<span class="number">1024</span>, max_10_exp=<span class="number">308</span>, min=<span class="number">2.2250738585072014e-308</span>, min_exp=<span class="number">-1021</span>, min_10_exp=<span class="number">-307</span>, dig=<span class="number">15</span>, mant_dig=<span class="number">53</span>, epsilon=<span class="number">2.220446049250313e-16</span>, radix=<span class="number">2</span>, rounds=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h3 id="å¤æ•°"><a href="#å¤æ•°" class="headerlink" title="å¤æ•°"></a>å¤æ•°</h3><p><code>&lt;class &#39;complex&#39;&gt;</code></p><p><code>&lt;real&gt; + &lt;image&gt; j</code> å¯ä»¥æ˜¯Jæˆ–è€…j</p><p>å®éƒ¨è™šéƒ¨çš„æ•°æ®ç±»å‹éƒ½æ˜¯float</p><p>ç”¨<code>complex()</code>å‡½æ•°åˆ›å»ºï¼Œ<code>real</code>æ–¹æ³•å–å®éƒ¨ï¼Œ<code>imag</code>æ–¹æ³•å–è™šéƒ¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = complex(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">(<span class="number">1</span>+<span class="number">2j</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.real</span><br><span class="line"><span class="number">1.0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.imag</span><br><span class="line"><span class="number">2.0</span></span><br></pre></td></tr></table></figure><p>æ–¹æ³•conjugateè¿”å›å¤æ•°çš„å…±è½­å¤æ•°</p><p>$abs(a+bj) = \sqrt{a^2+b^2}$</p><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><p>å•å¼•å·å’ŒåŒå¼•å·æ²¡æœ‰åŒºåˆ«</p><p>å½“åœ¨åŒå¼•å·â€ â€œå†…éƒ¨è¿˜éœ€è¦ä½¿ç”¨å¼•å·æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å· â€™ â€™ï¼Œå½“åœ¨å•å¼•å·â€™ â€™ å†…éƒ¨éœ€è¦ä½¿ç”¨å¼•å·æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·â€ â€œ</p><p>ç”¨<code>s[i]</code>è®¿é—®å­—ç¬¦ä¸²sä¸­çš„ç¬¬iä¸ªå­—ç¬¦ï¼Œi=-1æ—¶è®¿é—®æœ€åä¸€ä¸ªå­—ç¬¦</p><p>å­ä¸²ï¼šs[m:n]ï¼Œè®¿é—®ç¬¬måˆ°ç¬¬n-1ç»„æˆçš„å­ä¸² </p><p>ä¸ä»¥<code>\0</code>ä½œä¸ºå­—ç¬¦ä¸²ç»“å°¾</p><p><code>\</code>ç”¨ä½œè½¬ä¹‰ï¼Œ<code>\v</code>çºµå‘åˆ¶è¡¨ç¬¦ï¼Œ<code>\r</code>å›è½¦ï¼Œ<code>\f</code>æ¢é¡µ</p><p>ç”¨ä¸‰å¼•å·æ—¶å¯ä»¥åœ¨å­—ç¬¦ä¸²å†…éƒ¨æ¢è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"""hello </span></span><br><span class="line"><span class="string">world</span></span><br><span class="line"><span class="string">haha"""</span>)</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment"># hello</span></span><br><span class="line"><span class="comment"># world</span></span><br><span class="line"><span class="comment"># haha</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"hello"</span></span><br><span class="line">      <span class="string">"haha"</span>)</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment"># hellohaha</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…å¯ä»¥ç”¨<code>\</code>åœ¨å­—ç¬¦ä¸²å†…éƒ¨æ¢è¡Œï¼Œä½†ä¸ä¸‰å¼•å·ä¸åŒçš„æ˜¯ï¼Œè¾“å‡ºä¸éšä¹‹æ¢è¡Œï¼Œåªèƒ½ç”¨æ¥å¤„ç†é•¿å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"hello\</span></span><br><span class="line"><span class="string">world\</span></span><br><span class="line"><span class="string">haha"</span>)</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment"># helloworldhaha</span></span><br></pre></td></tr></table></figure><p><code>+</code>è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆå¿…é¡»ä¸¤ä¸ªéƒ½æ˜¯strï¼Œä¸èƒ½æ˜¯å…¶ä»–å¦‚intç­‰ï¼‰</p><p><code>*</code>ç”¨å¤åˆ¶ä¸€ä¸ªå­—ç¬¦ä¸²è‹¥å¹²æ¬¡å½¢æˆæ–°çš„å­—ç¬¦ä¸²ï¼ˆ*åé¢çš„å¿…é¡»æ˜¯æ•´æ•°ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ab'</span>*<span class="number">2</span></span><br><span class="line"><span class="string">'abab'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a'</span>*<span class="number">5</span></span><br><span class="line"><span class="string">'aaaaa'</span></span><br></pre></td></tr></table></figure><p><code>s.lower()</code>æ”¹æˆå°å†™ï¼Œ<code>s.upper()</code>æ”¹æˆå¤§å†™</p><p><code>s.replace(old, new)</code>ï¼šæŠŠå­—ç¬¦ä¸²sä¸­çš„æ‰€æœ‰å­ä¸²oldéƒ½æ›¿æ¢æˆnew</p><p>æ¯”å¤§å°ï¼Œä»å‰å¾€åæŒ‰ä½æ¯”ï¼Œâ€™aâ€™&lt;â€™bâ€™ï¼Œâ€™Aâ€™&lt;â€™aâ€™</p><h3 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[&lt;expression&gt; <span class="keyword">for</span> &lt;item&gt; <span class="keyword">in</span> &lt;iterable&gt;]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">2</span>*n <span class="keyword">for</span> n <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]]</span><br><span class="line">[<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum([<span class="number">1</span>/i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">21</span>)]) <span class="comment">#æ±‚1+1/2+...+1/20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum([ <span class="number">1</span>/i <span class="keyword">if</span> i%<span class="number">2</span>==<span class="number">1</span> <span class="keyword">else</span> <span class="number">-1</span>/i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>)]) <span class="comment">#æ±‚1-1/2+1/3-1/4+...å‰né¡¹å’Œ</span></span><br><span class="line"></span><br><span class="line">[&lt;expression&gt; <span class="keyword">for</span> &lt;item&gt; <span class="keyword">in</span> &lt;iterable&gt; <span class="keyword">if</span> &lt;condition&gt;]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">2</span>*n <span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">8</span>) <span class="keyword">if</span> n%<span class="number">2</span>==<span class="number">1</span>]</span><br><span class="line">[<span class="number">2</span>,<span class="number">6</span>,<span class="number">10</span>,<span class="number">14</span>]</span><br></pre></td></tr></table></figure><p><br></p><h2 id="è¿ç®—"><a href="#è¿ç®—" class="headerlink" title="è¿ç®—"></a>è¿ç®—</h2><p>pythonä¸­æ²¡æœ‰++ï¼Œä½†æ˜¯å¯ä»¥ç”¨+=</p><p><code>sum()</code>å¯ä»¥ç»™listæ±‚å’Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum(range(<span class="number">1</span>,<span class="number">11</span>))</span><br><span class="line"><span class="number">55</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure><p><code>%</code>æ¨¡ï¼Œå¯ä»¥ç”¨ä½œæµ®ç‚¹æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3.4</span>%<span class="number">2</span></span><br><span class="line"><span class="number">1.4</span></span><br><span class="line"><span class="comment"># 3.4 - 1 * 2 = 1.4</span></span><br><span class="line"><span class="comment"># ä½†å¯èƒ½ä¼šæœ‰ä¸ç²¾ç¡®é—®é¢˜ï¼Œä¾‹å¦‚3.2%2=1.2000000000000002</span></span><br></pre></td></tr></table></figure><p><code>/</code>é»˜è®¤æ˜¯æµ®ç‚¹æ•°é™¤æ³•ï¼Œ<code>//</code>é»˜è®¤æ˜¯æ•´æ•°é™¤æ³•ï¼ˆå‘ä¸‹å–æ•´ï¼Œä½†å¦‚æœæœ‰ä¸€ä¸ªä¸ºfloatåˆ™æ˜¯å–æ•´åçš„floatï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span>/<span class="number">3</span></span><br><span class="line"><span class="number">1.6666666666666667</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4</span>/<span class="number">2</span></span><br><span class="line"><span class="number">2.0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span>//<span class="number">3</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4</span>//<span class="number">2</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">32.2</span>//<span class="number">6</span></span><br><span class="line"><span class="number">5.0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">-3</span>//<span class="number">2</span></span><br><span class="line"><span class="number">-2</span></span><br></pre></td></tr></table></figure><p><code>math.sqrt()</code>æˆ–<code>**0.5</code>å¯ä»¥å¼€æ ¹å·ï¼ˆfloatç±»ï¼‰</p><p>ä¹˜æ–¹å¯ä»¥ç”¨<code>pow()</code>æˆ–è€…<code>**</code></p><p><code>**</code> è¿ç®—é¡ºåº<u>ä»å³å¾€å·¦</u>ï¼Œ<code>3**2**3</code>å…ˆç®—<code>2**3</code>å†ç®—<code>3**8</code></p><p><code>round(x)</code>è¿”å›æµ®ç‚¹æ•°xçš„å››èˆäº”å…¥çš„å€¼ï¼Œ<code>round(x,n)</code> è¿”å›æµ®ç‚¹æ•°xçš„å››èˆäº”å…¥çš„å°æ•°ç‚¹åçš„nä½æ•°å€¼</p><blockquote><p>å…¶å®æ˜¯å››èˆå…­å…¥äº”æˆåŒã€‚1~4èˆå»ï¼Œ 6~9è¿›ä½ï¼Œå½“5æ—¶ï¼Œå¦‚æœ5åé¢è¿˜æœ‰æ•°å­—åˆ™è¿›ä½ï¼Œå¦‚æœ5åé¢æ²¡æœ‰æ•°å­—çš„æƒ…å†µä¸‹ï¼Œ5å‰é¢çš„æ•°å­—å¶æ•°åˆ™è¿›ä½ï¼Œ5å‰é¢çš„æ•°å­—æ˜¯å¥‡æ•°åˆ™èˆå»ã€‚</p><p>n=0è¡¨ç¤ºç²¾ç¡®åˆ°ä¸ªä½ï¼Œ-1è¡¨ç¤ºåä½ï¼Œè´Ÿæ•°ä»¥æ­¤ç±»æ¨</p></blockquote><p>$ln$ï¼š<code>math.log()</code></p><p>$log_{10}$ï¼š<code>math.log10()</code></p><p>$log_2$ï¼š<code>math.log2()</code></p><p>ä¸¤ä¸ªæ•°å­—ä¹‹é—´<code>and</code>ï¼Œå€¼ä¸ºåé¢ä¸€ä¸ªæ•°å­—ï¼ˆé™¤éæœ‰0ï¼‰</p><p><code>math</code>ä¸­çš„å¸¸ç”¨å‡½æ•°</p><p><img src="../../../../../../images/python/python-basis.assets/image-20200303103254420.png" width=500></p><p>æ¯”å¤§å°å¯ä»¥è¿ç€æ¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span>&lt;<span class="number">3</span>&lt;<span class="number">5</span> <span class="comment"># 1&lt;3 and 3&lt;5</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span>&lt;<span class="number">5</span>&gt;<span class="number">2</span> <span class="comment"># 1&lt;5 and 5&gt;2</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>é€»è¾‘è¿ç®—ç¬¦ï¼Œç¬¬ä¸€ä¸ªæ¡ä»¶ç¬¦åˆå°±ä¸ç”¨ç®—ç¬¬äºŒä¸ªï¼ˆç¬¬äºŒä¸ªé‡Œé¢æœ‰errorä¸ä¼šæŠ¥ï¼‰</p><p><br></p><h2 id="è¯­å¥"><a href="#è¯­å¥" class="headerlink" title="è¯­å¥"></a>è¯­å¥</h2><p>é€šå¸¸ä¸€è¡Œä¸€æ¡ï¼Œå¦‚ä¸€è¡Œä¸­æœ‰å¤šæ¡ï¼Œåˆ™ç”¨åˆ†å·ï¼ˆ;ï¼‰åˆ†å¼€ï¼Œå¦‚æœè¯­å¥å¤ªé•¿è¦è·¨è¡Œï¼Œå¯ä»¥ç»­è¡Œç¬¦ï¼ˆ\ï¼‰è·¨è¡Œè¡¨ç¤ºä¸€ä¸ªè¯­å¥</p><h3 id="èµ‹å€¼"><a href="#èµ‹å€¼" class="headerlink" title="èµ‹å€¼"></a>èµ‹å€¼</h3><p>ä¸éœ€è¦äº‹å…ˆå£°æ˜å˜é‡ååŠå…¶ç±»å‹ï¼Œç›´æ¥èµ‹å€¼å³å¯åˆ›å»ºå„ç§ç±»å‹çš„å¯¹è±¡å˜é‡</p><p>åœ¨cä¸­å¯¹å˜é‡çš„èµ‹å€¼ï¼Œæ˜¯ç›´æ¥æŠŠå€¼ç»™å˜é‡ï¼Œè€Œåœ¨pythonä¸­ï¼Œå˜é‡ç›¸å½“äºä¸€ä¸ªæ ‡ç­¾ï¼ŒæŒ‡å‘ä¸€ä¸ªå€¼ã€‚</p><p>æ‰€ä»¥åœ¨pythonä¸­å¯ä»¥è¿›è¡ŒåŒæ­¥èµ‹å€¼äº¤æ¢å˜é‡çš„å€¼ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a,b = b,a <span class="comment"># äº¤æ¢å˜é‡çš„å€¼ï¼ˆæŠŠaçš„å€¼ç»™bï¼ŒæŠŠbçš„å€¼ç»™aï¼‰</span></span><br></pre></td></tr></table></figure><h4 id="å•å˜é‡èµ‹å€¼"><a href="#å•å˜é‡èµ‹å€¼" class="headerlink" title="å•å˜é‡èµ‹å€¼"></a>å•å˜é‡èµ‹å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = <span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>k = x + y <span class="comment"># k = 3</span></span><br></pre></td></tr></table></figure><h4 id="åºåˆ—èµ‹å€¼"><a href="#åºåˆ—èµ‹å€¼" class="headerlink" title="åºåˆ—èµ‹å€¼"></a>åºåˆ—èµ‹å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x,y = <span class="number">4</span>,<span class="number">8</span> <span class="comment"># x = 4, y = 8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a,b = <span class="string">"34"</span> <span class="comment"># a = 3, b = 4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a,b = <span class="string">"345"</span> <span class="comment"># error</span></span><br></pre></td></tr></table></figure><h4 id="ä¸ç­‰é•¿åºåˆ—èµ‹å€¼"><a href="#ä¸ç­‰é•¿åºåˆ—èµ‹å€¼" class="headerlink" title="ä¸ç­‰é•¿åºåˆ—èµ‹å€¼"></a>ä¸ç­‰é•¿åºåˆ—èµ‹å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>i, *j = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="comment"># i = 1, j = [2,3], iæ˜¯intï¼Œjæ˜¯listï¼ˆæ³¨æ„jå‰é¢çš„*ä¸èƒ½æ¼ï¼‰</span></span><br></pre></td></tr></table></figure><h4 id="å¤åˆèµ‹å€¼"><a href="#å¤åˆèµ‹å€¼" class="headerlink" title="å¤åˆèµ‹å€¼"></a>å¤åˆèµ‹å€¼</h4><p>*=ï¼Œ +=ï¼Œ -= â€¦</p><h3 id="åˆ†æ”¯"><a href="#åˆ†æ”¯" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h3><p>if-elseï¼Œæ³¨æ„å†’å·å’Œç¼©è¿›ï¼Œè¯­å¥å—è¦å¯¹é½</p><h3 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> &lt;variable&gt; <span class="keyword">in</span> &lt;container&gt;</span><br><span class="line"><span class="keyword">for</span> &lt;variable&gt; <span class="keyword">in</span> &lt;list&gt;</span><br><span class="line"><span class="keyword">for</span> &lt;variable&gt; <span class="keyword">in</span> range(&lt;value&gt;)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">range(start, stop, step)</span><br><span class="line"><span class="comment"># å·¦é—­å³å¼€ï¼Œstarté»˜è®¤ä¸º0ï¼Œstepé»˜è®¤ä¸º1ï¼Œå¯ä»¥ä¸ºè´Ÿ</span></span><br><span class="line"><span class="comment"># å¦‚æœçœç•¥äº†startï¼Œå¿…é¡»ä¹Ÿçœç•¥step</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å˜é‡&quot;&gt;&lt;a href=&quot;#å˜é‡&quot; class=&quot;headerlink&quot; title=&quot;å˜é‡&quot;&gt;&lt;/a&gt;å˜é‡&lt;/h2&gt;&lt;h3 id=&quot;æ ‡è¯†ç¬¦&quot;&gt;&lt;a href=&quot;#æ ‡è¯†ç¬¦&quot; class=&quot;headerlink&quot; title=&quot;æ ‡è¯†ç¬¦&quot;&gt;&lt;/a&gt;æ ‡è¯†ç¬¦&lt;/h3&gt;&lt;u
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Python" scheme="https://iris-cyy.github.io/categories/Notes/Python/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="Python" scheme="https://iris-cyy.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ã€Pythonã€‘Introduction</title>
    <link href="https://iris-cyy.github.io//Notes/Python/2020-02-25/python_intro/"/>
    <id>https://iris-cyy.github.io//Notes/Python/2020-02-25/python_intro/</id>
    <published>2020-02-25T09:50:55.000Z</published>
    <updated>2020-02-26T03:44:13.720Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç¼–ç "><a href="#ç¼–ç " class="headerlink" title="ç¼–ç "></a>ç¼–ç </h2><h3 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h3><p>æ–‡æœ¬ç¼–ç ï¼ŒäºŒè¿›åˆ¶ç¼–ç è¡¨ç¤ºå­—æ¯ã€æ•°å­—ã€ä¸“é—¨ç¬¦å·</p><h3 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h3><p>ä¸šç•Œæ ‡å‡†ï¼Œè·¨è¯­è¨€ã€è·¨å¹³å°ï¼ˆå¯è¡¨ç¤ºæ±‰å­—ï¼‰</p><p>å¯å˜å­—èŠ‚ä¸å¯å˜é•¿</p><p>ç”¨â€\uâ€è¡¨ç¤ºUnicodeç </p><p><a href="https://unicode-table.com" target="_blank" rel="noopener">Unicodeå­—ç¬¦ä¸ç¼–ç å¯¹ç…§è¡¨</a></p><h3 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h3><p>é’ˆå¯¹Unicodeçš„<u>å¯å˜é•¿åº¦</u>å­—ç¬¦ç¼–ç </p><p>å¹¶éå­˜å‚¨å™¨ä¸­ç¼–ç ï¼Œä½¿ç”¨æ—¶æŠŠUnicodeå­—ç¬¦è½¬æ¢ä¸ºUTF-8</p><p>æ¯ä¸€ä¸ªASCIIå­—ç¬¦æœ‰ä¸€ä¸ªUTF-8ç¼–ç ï¼Œæ­£å¥½ä¸8ä½ASCIIç¼–ç ä¸€æ ·</p><p><u>Python3é»˜è®¤ä¸ºUTF-8ç¼–ç </u></p><p>è¾“å‡ºç¼–ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(s.encode(<span class="string">"utf-8"</span>)) <span class="comment"># sä¸ºå­—ç¬¦ä¸²ï¼Œè¾“å‡ºçš„æ˜¯æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„utf-8ç¼–ç è¿èµ·æ¥</span></span><br></pre></td></tr></table></figure><p><br></p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><p>é¢å‘å¯¹è±¡</p><p>è§£é‡Šå‹è¯­è¨€</p><p>Pythonå®˜ç½‘ï¼š<a href="https://www.python.org" target="_blank" rel="noopener">https://www.python.org</a></p><p>ä¸€äº›IDEï¼š</p><ul><li><a href="https://www.jetbrains.com/pycharm/" target="_blank" rel="noopener">PyCharm</a></li><li><a href="https://github.com/spyder-ide/spyder" target="_blank" rel="noopener">Spyder</a></li><li><p><a href="https://thonny.org/" target="_blank" rel="noopener">Thonny</a></p></li><li><p><a href="https://www.sublimetext.com" target="_blank" rel="noopener">Sublime Text</a></p></li><li><a href="https://code.visualstudio.com/" target="_blank" rel="noopener">VS Code</a></li></ul><p>åœ¨çº¿ç¯å¢ƒï¼š</p><ul><li><a href="https://clin.icourse163.org/py" target="_blank" rel="noopener">https://clin.icourse163.org/py</a></li><li><a href="http://pythontutor.com/" target="_blank" rel="noopener">http://pythontutor.com/</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç¼–ç &quot;&gt;&lt;a href=&quot;#ç¼–ç &quot; class=&quot;headerlink&quot; title=&quot;ç¼–ç &quot;&gt;&lt;/a&gt;ç¼–ç &lt;/h2&gt;&lt;h3 id=&quot;ASCII&quot;&gt;&lt;a href=&quot;#ASCII&quot; class=&quot;headerlink&quot; title=&quot;ASCII&quot;&gt;&lt;/a&gt;ASCI
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Python" scheme="https://iris-cyy.github.io/categories/Notes/Python/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="Python" scheme="https://iris-cyy.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ã€PAT-Advancedã€‘1012 The Best Rank</title>
    <link href="https://iris-cyy.github.io//PAT/Advanced/2020-02-16/pat_1012/"/>
    <id>https://iris-cyy.github.io//PAT/Advanced/2020-02-16/pat_1012/</id>
    <published>2020-02-16T09:56:28.000Z</published>
    <updated>2020-02-25T15:50:47.380Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>To evaluate the performance of our first year CS majored students, we consider their grades of three courses only: <code>C</code> - C Programming Language, <code>M</code> - Mathematics (Calculus or Linear Algrbra), and <code>E</code> - English. At the mean time, we encourage students by emphasizing on their best ranks â€“ that is, among the four ranks with respect to the three courses and the average grade, we print the best rank for each student.</p><p>For example, The grades of <code>C</code>, <code>M</code>, <code>E</code> and <code>A</code> - Average of 4 students are given as the following:</p><blockquote><table><thead><tr><th>StudentID</th><th>C</th><th>M</th><th>E</th><th>A</th></tr></thead><tbody><tr><td>310101</td><td>98</td><td>85</td><td>88</td><td>90</td></tr><tr><td>310102</td><td>70</td><td>95</td><td>88</td><td>84</td></tr><tr><td>310103</td><td>82</td><td>87</td><td>94</td><td>88</td></tr><tr><td>310104</td><td>91</td><td>91</td><td>91</td><td>91</td></tr></tbody></table></blockquote><p>Then the best ranks for all the students are No.1 since the 1st one has done the best in C Programming Language, while the 2nd one in Mathematics, the 3rd one in English, and the last one in average.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case starts with a line containing 2 numbers $N$ and $M (â‰¤2000)$, which are the total number of students, and the number of students who would check their ranks, respectively. Then $N$ lines follow, each contains a student ID which is a string of 6 digits, followed by the three integer grades (in the range of [0, 100]) of that student in the order of <code>C</code>, <code>M</code> and <code>E</code>. Then there are $M$ lines, each containing a student ID.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each of the $M$ students, print in one line the best rank for him/her, and the symbol of the corresponding rank, separated by a space.</p><p>The priorities of the ranking methods are ordered as <code>A</code> &gt; <code>C</code> &gt; <code>M</code> &gt; <code>E</code>. Hence if there are two or more ways for a student to obtain the same best rank, output the one with the highest priority.</p><p>If a student is not on the grading list, simply output <code>N/A</code>.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><blockquote><p>5 6<br>310101 98 85 88<br>310102 70 95 88<br>310103 82 87 94<br>310104 91 91 91<br>310105 85 90 90<br>310101<br>310102<br>310103<br>310104<br>310105<br>999999</p></blockquote><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><blockquote><p>1 C<br>1 M<br>1 E<br>1 A<br>3 A<br>N/A</p></blockquote><p><br></p><hr><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>é¢˜ç›®ä¸å¤ªéš¾ï¼Œæ¯”è¾ƒè€ƒå¯Ÿå¯¹STLçš„åº”ç”¨</p><p>é¢˜ç›®å¯¹ç®—æ³•å¤æ‚åº¦è¦æ±‚ä¸å¤ªé«˜ï¼Œæ‰€ä»¥ç›´æ¥ç”¨STLçš„sortå‡½æ•°æ’åºï¼Œçº¿æ€§éå†</p><p>ç”¨åˆ°<code>vector</code>ä»¥åŠä¸€äº›ç›¸å…³çš„å‡½æ•°</p><p>æ€è·¯æ˜¯ï¼Œç”¨<code>vector</code>å­˜å‚¨å­¦ç”Ÿçš„åˆ—è¡¨å’Œåˆ†æ•°çš„åˆ—è¡¨ï¼Œå°†åˆ†æ•°åˆ—è¡¨ä¸­çš„åˆ†æ•°æŒ‰ä»å¤§åˆ°å°æ’åºä¹‹åï¼Œä¸‹æ ‡å³å¯¹åº”æ’åï¼ˆå…¶ä¸­å¦‚æœæœ‰ç›¸åŒåˆ†æ•°ï¼Œå–æœ€å°çš„ä¸‹æ ‡ï¼‰</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><ul><li>ç›¸åŒåˆ†æ•°çš„æ’åº<br>å¦‚<code>95 90 90 88</code>æ’åæ˜¯<code>1 2 2 4</code></li><li>ä¼˜å…ˆçº§<code>A &gt; C &gt; M &gt; E</code></li><li>å¹³å‡åˆ†å–æ•´ï¼ˆç›´æ¥<code>int</code>å°±è¡Œï¼‰</li></ul><p>ä»£ç å¦‚ä¸‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//0 1 2 3</span></span><br><span class="line"><span class="comment">//A C M E</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">int</span> grade[<span class="number">4</span>]; <span class="comment">//å„ç§‘åˆ†æ•°</span></span><br><span class="line">    <span class="keyword">int</span> rank[<span class="number">4</span>]; <span class="comment">//å„ç§‘æ’å</span></span><br><span class="line">    <span class="keyword">int</span> bestRank; <span class="comment">//æœ€é«˜æ’åï¼Œ0è¡¨ç¤ºè¿˜æ²¡æ‰¾</span></span><br><span class="line">    <span class="keyword">int</span> bestCourse; <span class="comment">//æœ€é«˜æ’åå¯¹åº”çš„å­¦ç§‘</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;struct student&gt; students; <span class="comment">//å­¦ç”Ÿåˆ—è¡¨</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; Rank[<span class="number">4</span>]; <span class="comment">//åˆ†æ•°åˆ—è¡¨ï¼Œä¸‹æ ‡å¯¹åº”æ’å</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> course[<span class="number">4</span>] = &#123;<span class="string">'A'</span>, <span class="string">'C'</span>, <span class="string">'M'</span>, <span class="string">'E'</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> M, N;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰¾åˆ°è¯¥å­¦ç”Ÿå„ç§‘åˆ†æ•°å¯¹åº”çš„æ’å</span></span><br><span class="line"><span class="function">struct student <span class="title">findRank</span><span class="params">(struct student stu)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ra, rc, rm, re;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">4</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;Rank[i].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(Rank[i][j] == stu.grade[i])&#123;</span><br><span class="line">                stu.rank[i] = j + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">//æ³¨æ„è¿™ä¸ªbreakä¸èƒ½æ¼</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ‰¾æœ€é«˜æ’åï¼Œæ ‡æ³¨å¯¹åº”è¯¾ç¨‹</span></span><br><span class="line">    ra = stu.rank[<span class="number">0</span>];</span><br><span class="line">    rc = stu.rank[<span class="number">1</span>];</span><br><span class="line">    rm = stu.rank[<span class="number">2</span>];</span><br><span class="line">    re = stu.rank[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">if</span>(ra &lt;= rc)&#123;</span><br><span class="line">        <span class="keyword">if</span>(ra &lt;= rm)&#123;</span><br><span class="line">            <span class="keyword">if</span>(ra &lt;= re)&#123;</span><br><span class="line">                stu.bestRank = ra;</span><br><span class="line">                stu.bestCourse = <span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stu.bestRank = re;</span><br><span class="line">                stu.bestCourse = <span class="number">3</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(rm &lt;= re)&#123;</span><br><span class="line">                stu.bestRank = rm;</span><br><span class="line">                stu.bestCourse = <span class="number">2</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stu.bestRank = re;</span><br><span class="line">                stu.bestCourse = <span class="number">3</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(rc &lt;= rm)&#123;</span><br><span class="line">            <span class="keyword">if</span>(rc &lt;= re)&#123;</span><br><span class="line">                stu.bestRank = rc;</span><br><span class="line">                stu.bestCourse = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stu.bestRank = re;</span><br><span class="line">                stu.bestCourse = <span class="number">3</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(rm &lt;= re)&#123;</span><br><span class="line">                stu.bestRank = rm;</span><br><span class="line">                stu.bestCourse = <span class="number">2</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stu.bestRank = re;</span><br><span class="line">                stu.bestCourse = <span class="number">3</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stu;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    <span class="keyword">int</span> id, c, m, e, a;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">newStu</span>;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;N; i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; id &gt;&gt; c &gt;&gt; m &gt;&gt; e;</span><br><span class="line">        a = (c + m + e) / <span class="number">3</span>; <span class="comment">//å¹³å‡åˆ†</span></span><br><span class="line">        newStu.id = id;</span><br><span class="line">        newStu.grade[<span class="number">0</span>] = a;</span><br><span class="line">        Rank[<span class="number">0</span>].push_back(a);</span><br><span class="line">        newStu.grade[<span class="number">1</span>] = c;</span><br><span class="line">        Rank[<span class="number">1</span>].push_back(c);</span><br><span class="line">        newStu.grade[<span class="number">2</span>] = m;</span><br><span class="line">        Rank[<span class="number">2</span>].push_back(m);</span><br><span class="line">        newStu.grade[<span class="number">3</span>] = e;</span><br><span class="line">        Rank[<span class="number">3</span>].push_back(e);</span><br><span class="line">        students.push_back(newStu);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å„åˆ†æ•°åˆ—è¡¨æŒ‰ä»é«˜åˆ°ä½æ’åº</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">4</span>; i++)&#123;</span><br><span class="line">        sort(Rank[i].<span class="built_in">begin</span>(), Rank[i].<span class="built_in">end</span>(), cmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;M; i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; id;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">find</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;N; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(students[j].id == id)&#123;</span><br><span class="line">                <span class="built_in">find</span> = <span class="number">1</span>;</span><br><span class="line">                <span class="comment">//å¦‚æœå·²ç»æ‰¾åˆ°è¿‡æœ€ä½³æ’åå°±ä¸ç”¨å†è°ƒä¸€éå‡½æ•°ï¼Œç›´æ¥è¾“å‡ºå°±å¥½ã€‚å¦åˆ™è°ƒå‡½æ•°æ±‚ä¸€ä¸‹</span></span><br><span class="line">                <span class="comment">//ï¼ˆå‡å°‘é‡å¤æ£€ç´¢æ—¶å€™çš„å¤æ‚åº¦ï¼‰</span></span><br><span class="line">                <span class="keyword">if</span>(students[j].bestRank == <span class="number">0</span>)&#123; </span><br><span class="line">                    students[j] = findRank(students[j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; students[j].bestRank &lt;&lt; <span class="string">" "</span> &lt;&lt; course[students[j].bestCourse] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">find</span> == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"N/A"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;To evaluate the performance of our first year CS m
      
    
    </summary>
    
      <category term="PAT" scheme="https://iris-cyy.github.io/categories/PAT/"/>
    
      <category term="Advanced" scheme="https://iris-cyy.github.io/categories/PAT/Advanced/"/>
    
    
      <category term="PAT" scheme="https://iris-cyy.github.io/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>ã€PAT-Advancedã€‘1011 World Cup Betting</title>
    <link href="https://iris-cyy.github.io//PAT/Advanced/2020-02-11/pat_1011/"/>
    <id>https://iris-cyy.github.io//PAT/Advanced/2020-02-11/pat_1011/</id>
    <published>2020-02-11T09:53:20.000Z</published>
    <updated>2020-02-11T09:57:06.659Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>With the 2010 FIFA World Cup running, football fans the world over were becoming increasingly excited as the best players from the best teams doing battles for the World Cup trophy in South Africa. Similarly, football betting fans were putting their money where their mouths were, by laying all manner of World Cup bets.</p><p>Chinese Football Lottery provided a â€œTriple Winningâ€ game. The rule of winning was simple: first select any three of the games. Then for each selected game, bet on one of the three possible results â€“ namely <code>W</code> for win, <code>T</code> for tie, and <code>L</code> for lose. There was an odd assigned to each result. The winnerâ€™s odd would be the product of the three odds times 65%.</p><p>For example, 3 gamesâ€™ odds are given as the following:</p><blockquote><p> W    T    L<br>1.1  2.5  1.7<br>1.2  3.1  1.6<br>4.1  1.2  1.1</p></blockquote><p>To obtain the maximum profit, one must buy <code>W</code> for the 3rd game, <code>T</code> for the 2nd game, and <code>T</code> for the 1st game. If each bet takes 2 yuans, then the maximum profit would be (4.1Ã—3.1Ã—2.5Ã—65%âˆ’1)Ã—2=39.31 yuans (accurate up to 2 decimal places).</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case contains the betting information of 3 games. Each game occupies a line with three distinct odds corresponding to <code>W</code>, <code>T</code> and <code>L</code>.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, print in one line the best bet of each game, and the maximum profit accurate up to 2 decimal places. The characters and the number must be separated by one space.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><blockquote><p>1.1 2.5 1.7<br>1.2 3.1 1.6<br>4.1 1.2 1.1</p></blockquote><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><blockquote><p>T T W 39.31</p></blockquote><p><br></p><hr><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>ç®€å•é¢˜ç›´æ¥ä¸Šä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">maxp</span><span class="params">(<span class="keyword">double</span> w, <span class="keyword">double</span> t, <span class="keyword">double</span> l)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(w &gt; t)&#123;</span><br><span class="line">        <span class="keyword">if</span>(l &gt; w)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"L "</span>;</span><br><span class="line">            <span class="keyword">return</span> l;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"W "</span>;</span><br><span class="line">            <span class="keyword">return</span> w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(l &gt; t)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"L "</span>;</span><br><span class="line">            <span class="keyword">return</span> l;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"T "</span>;</span><br><span class="line">            <span class="keyword">return</span> t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> profit = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">double</span> w[<span class="number">3</span>], t[<span class="number">3</span>], l[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; w[i] &gt;&gt; t[i] &gt;&gt; l[i];</span><br><span class="line">        profit *= maxp(w[i], t[i], l[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    profit = (profit * <span class="number">0.65</span> - <span class="number">1</span>) * <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.2f\n"</span>, profit);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;With the 2010 FIFA World Cup running, football fan
      
    
    </summary>
    
      <category term="PAT" scheme="https://iris-cyy.github.io/categories/PAT/"/>
    
      <category term="Advanced" scheme="https://iris-cyy.github.io/categories/PAT/Advanced/"/>
    
    
      <category term="PAT" scheme="https://iris-cyy.github.io/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>ã€DBSã€‘Lecture 06. Relational Database Design</title>
    <link href="https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs06/"/>
    <id>https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs06/</id>
    <published>2020-02-11T09:17:19.000Z</published>
    <updated>2020-02-11T09:19:53.114Z</updated>
    
    <content type="html"><![CDATA[<p><img src="dbs06.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211171822167.png" width=80%></p><h2 id="First-Normal-Form"><a href="#First-Normal-Form" class="headerlink" title="First Normal Form"></a>First Normal Form</h2><p>atomic</p><h2 id="Functional-dependencies"><a href="#Functional-dependencies" class="headerlink" title="Functional dependencies"></a>Functional dependencies</h2><p>The functional dependency Î± â†’ Î² holds on R if and only if for any legal relations r(R), whenever any two tuples t1 and t2 of r agree on the attributes Î±, they also agree on the attributes Î², i.e., t1[Î±] = t2[Î±] âŸ¹ t1[Î±] = t2[Î²] </p><p>Trivial: Î± â†’ Î², if Î² âŠ† Î±         (å¹³å‡¡çš„å‡½æ•°ä¾èµ–) </p><p>Non-trivial: Î± â†’ Î² , if Î² âŠˆ Î±    (éå¹³å‡¡çš„å‡½æ•°ä¾èµ–) </p><h2 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h2><p>The set of all functional dependencies logically implied by F is the closure of F, denoted by F+ (å‡½æ•°ä¾èµ–é›†Fçš„é—­åŒ…)</p><p>E.g., F = {A â†’ B, B â†’ C}, F+ = {A â†’ B, B â†’ C, A â†’ C, A Î± A, AB â†’ A, AB â†’ B, AC â†’ C, A â†’ BC, â€¦} </p><p>Armstrongâ€™s Axioms provide inference rules to find F+. </p><p>We can find all of F+ by applying Armstrongâ€™s Axioms: </p><p>If Î² âŠ† Î±, then Î± â†’ Î²               (reflexivity, è‡ªåå¾‹) â€” trivial </p><p>If Î± â†’ Î², then ?Î± â†’ ?Î² (?Î± â†’ Î²)    (augmentation, å¢è¡¥å¾‹) </p><p>If Î± â†’ Î², and Î² â†’ ?, then Î± â†’ ?   (transitivity, ä¼ é€’å¾‹) </p><p>If Î± â†’ Î² and Î± â†’ ? holds, then Î± â†’ Î²? holds (union, åˆå¹¶å¾‹) </p><p>If Î± â†’ Î²? holds, then Î± â†’ Î² and Î± â†’ ? holds (decomposition, åˆ†è§£å¾‹) </p><p>If Î± â†’ Î² and Î²? â†’ Î´ holds, then Î±? â†’ Î´ holds (pseudotransitivity, ä¼ªä¼ é€’å¾‹) </p><h2 id="Canonical-coverï¼ˆæ­£åˆ™è¦†ç›–ï¼‰"><a href="#Canonical-coverï¼ˆæ­£åˆ™è¦†ç›–ï¼‰" class="headerlink" title="Canonical coverï¼ˆæ­£åˆ™è¦†ç›–ï¼‰"></a>Canonical coverï¼ˆæ­£åˆ™è¦†ç›–ï¼‰</h2><p>minimal set of functional dependencies in F</p><h2 id="Dependency-preservationï¼ˆä¾èµ–ä¿æŒï¼‰"><a href="#Dependency-preservationï¼ˆä¾èµ–ä¿æŒï¼‰" class="headerlink" title="Dependency preservationï¼ˆä¾èµ–ä¿æŒï¼‰"></a>Dependency preservationï¼ˆä¾èµ–ä¿æŒï¼‰</h2><h2 id="lossless-join-æ— æŸåˆ†è§£"><a href="#lossless-join-æ— æŸåˆ†è§£" class="headerlink" title="lossless-join æ— æŸåˆ†è§£"></a>lossless-join æ— æŸåˆ†è§£</h2><p>$R_1 \bigcap R_2 \rightarrow R_1 or R_1 \bigcap R_2 \rightarrow R_2$</p><h2 id="Boyce-Codd-Normal-Form"><a href="#Boyce-Codd-Normal-Form" class="headerlink" title="Boyce-Codd Normal Form"></a>Boyce-Codd Normal Form</h2><p><img src="/images/dbs/dbs06.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211171730017.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="3NF"><a href="#3NF" class="headerlink" title="3NF"></a>3NF</h2><p><img src="/images/dbs/dbs06.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211171730061.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>If a relation is in BCNF, it is in 3NF.</p><p><br></p><hr><p>å¦å¤–ä¸€äº›ç›¸å…³çš„åšæ–‡ï¼š</p><p><a href="https://www.cnblogs.com/langdashu/p/5924082.html" target="_blank" rel="noopener">https://www.cnblogs.com/langdashu/p/5924082.html</a></p><p>BCNF æ— æŸåˆ†è§£ï¼š<a href="https://blog.csdn.net/panxiqie___/article/details/38899021" target="_blank" rel="noopener">https://blog.csdn.net/panxiqie___/article/details/38899021</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;dbs06.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Database System" scheme="https://iris-cyy.github.io/categories/Notes/Database-System/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="DBS" scheme="https://iris-cyy.github.io/tags/DBS/"/>
    
  </entry>
  
  <entry>
    <title>ã€DBSã€‘Lecture 09. Storage and File Structure</title>
    <link href="https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs09/"/>
    <id>https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs09/</id>
    <published>2020-02-11T09:13:49.000Z</published>
    <updated>2020-02-11T09:16:59.974Z</updated>
    
    <content type="html"><![CDATA[<p>å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ï¼ˆå‘ä¸Šå˜å¿«å˜è´µä½†æ˜¯æ˜“å¤±ï¼‰</p><p><img src="/images/dbs/dbs09.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211171459877.png" alt="img"></p><p><strong>åŸºæœ¬å­˜å‚¨</strong>(primary storage): é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨(cache)ã€ä¸»å­˜å‚¨å™¨(main memory)</p><p><strong>è¾…åŠ©å­˜å‚¨</strong>(secondary storage)æˆ–<strong>è”æœºå­˜å‚¨</strong>(online storage): åŸºæœ¬å­˜å‚¨ä¸‹ä¸€å±‚ï¼Œå¦‚ç£ç›˜(magnetic disk)</p><p><strong>ä¸‰çº§å­˜å‚¨</strong>(tertiary storage)æˆ–<strong>è„±æœºå­˜å‚¨</strong>(offline storage): æœ€åº•å±‚ï¼Œå¦‚ç£å¸¦(magnetic tapes)æˆ–å…‰ç›˜(optical disk)</p><p>ä¸»å­˜å‚¨å™¨ä»¥ä¸Šå‡ä¸º<strong>æ˜“å¤±æ€§å­˜å‚¨</strong>(volatile storage)ï¼šè®¾å¤‡æ–­ç”µåå¤±å»æ‰€æœ‰å†…å®¹</p><p>ç‹¬ç«‹ç£ç›˜å†—ä½™é˜µåˆ—(RAID)</p><p>å¹³å‡æ•…éšœæ—¶é—´(MTTF)</p><p>RAID level:</p><p><img src="/images/dbs/dbs09.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211171600064.png" width=50%></p><h3 id="Choice-of-RAID-Level"><a href="#Choice-of-RAID-Level" class="headerlink" title="Choice of RAID Level"></a>Choice of RAID Level</h3><p>Factors in choosing RAID level </p><ul><li>Monetary cost </li><li>Performance: Number of I/O operations per second, and bandwidth during normal operation </li><li>Performance during failure </li><li>Performance during rebuild of failed disk <ul><li>Including time taken to rebuild failed disk </li></ul></li></ul><p>RAID 0 is used only when data safety is not important </p><ul><li>E.g., data can be recovered quickly from other sources</li></ul><p>Level 2 and 4 never used since they are subsumed by 3 and 5<br>Level 3 is not used anymore since bit-striping forces single block  reads to access all disks, wasting disk arm movement, which block striping (level 5) avoids<br>Level 6 is rarely used since levels 1 and 5 offer adequate safety for almost all applications<br><u>So competition is between 1 and 5 only</u></p><p>Level 1 provides much better write performance than level 5</p><ul><li>Level 5 requires at least 2 block reads and 2 block writes to write a single block, whereas Level 1 only requires 2 block writes</li><li>Level 1 preferred for high update environments such as log disks</li></ul><p>Level 1 had higher storage cost than level 5</p><ul><li>Disk drive capacities increasing rapidly (50%/year) whereas disk access times have decreased much less (x 3 in 10 years) </li><li>I/O requirements have increased greatly, e.g. for Web servers</li><li>When enough disks have been bought to satisfy required rate of I/O, they often have spare storage capacity<ul><li>So there is often no extra monetary cost for Level 1! </li></ul></li></ul><p>Level 5 is preferred for applications with low update rate, and large amounts of data.<br>Level 1 is preferred for all other applications. </p><h3 id="Buffer-Manager"><a href="#Buffer-Manager" class="headerlink" title="Buffer Manager"></a>Buffer Manager</h3><p>å½“Bufferçš„ç©ºé—²åŒºä¸å¤Ÿï¼Œä¸èƒ½å®¹ä¸‹æ–°è¯»å…¥çš„Blockæ—¶ï¼Œéœ€è¦å°†Bufferä¸­ åŸæœ‰Blockè¦†ç›–(æ›¿æ¢)ã€‚ä¸»è¦ç­–ç•¥ä¸º:</p><ul><li>LRU strategy (Least Recently Used, æœ€è¿‘æœ€å°‘ä½¿ç”¨ç­–ç•¥): Replace the block which was least recently used.</li><li>MRU strategy (Most recently used, æœ€è¿‘æœ€å¸¸ç”¨ç­–ç•¥): System must pin the block currently being processed. After the final tuple of that block has been processed, the block is unpinned, and it becomes the most recently used block.ï¼ˆæœ€ä¼˜ï¼‰</li><li>Toss-immediateï¼Œç«‹å³ä¸¢å¼ƒç­–ç•¥ï¼šå¤„ç†å®Œçš„å…ƒç»„ç«‹å³ä¸¢å¼ƒ</li></ul><h3 id="File-Organization"><a href="#File-Organization" class="headerlink" title="File Organization"></a>File Organization</h3><ul><li>å®šé•¿è®°å½•</li><li>å˜é•¿è®°å½•</li></ul><h3 id="Organization-of-Records-in-Files"><a href="#Organization-of-Records-in-Files" class="headerlink" title="Organization of Records in Files"></a>Organization of Records in Files</h3><ul><li>heap file å †æ–‡ä»¶ï¼Œæµæ°´æ–‡ä»¶ï¼š<br> a record can be placed anywhere in the file where there is space</li><li>sequential file é¡ºåºæ–‡ä»¶ï¼š<br>store records in sequential order, based on the value of a search key of each record</li><li>hashing file æ•£åˆ—æ–‡ä»¶ï¼š<br>a hash function computed on some attribute of each record; the result specifies in which block of the file the record should be placed</li><li>clustering file organization èšé›†æ–‡ä»¶ç»„ç»‡ï¼š<br>records of several different relations can be stored in the same file<br>Motivation: store related records in different relations on the same block to minimize I/O</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ï¼ˆå‘ä¸Šå˜å¿«å˜è´µä½†æ˜¯æ˜“å¤±ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/dbs/dbs09.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ub
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Database System" scheme="https://iris-cyy.github.io/categories/Notes/Database-System/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="DBS" scheme="https://iris-cyy.github.io/tags/DBS/"/>
    
  </entry>
  
  <entry>
    <title>ã€DBSã€‘Lecture 10. Indexing and Hashing</title>
    <link href="https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs10/"/>
    <id>https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs10/</id>
    <published>2020-02-11T09:09:01.000Z</published>
    <updated>2020-02-11T09:13:10.851Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><p><strong>é¡ºåºç´¢å¼•</strong>ï¼šåŸºäºå€¼çš„é¡ºåºæ’åº<br><strong>æ•£åˆ—ç´¢å¼•</strong>ï¼šåŸºäºå°†å€¼å¹³å‡åˆ†å¸ƒåˆ°è‹¥å¹²æ•£åˆ—æ¡¶ä¸­</p><p><strong>èšé›†ç´¢å¼•</strong>ï¼ˆclustering indexï¼‰or <strong>ä¸»ç´¢å¼•</strong>ï¼ˆprimary indexï¼‰ï¼šå¦‚æœåŒ…å«è®°å½•çš„æ–‡ä»¶æŒ‰ç…§æŸä¸ªæœç´¢ç æŒ‡å®šçš„é¡ºåºæ’åºï¼Œé‚£ä¹ˆè¯¥æœç´¢ç å¯¹åº”çš„ç´¢å¼•ç§°ä¸ºèšé›†ç´¢å¼•ã€‚èšé›†ç´¢å¼•çš„æœç´¢ç å¸¸å¸¸æ˜¯ä¸»ç ï¼Œå°½ç®¡å¹¶éå¿…é¡»å¦‚æ­¤ã€‚<br><strong>éèšé›†ç´¢å¼•</strong>ï¼ˆnonclustering indexï¼‰or <strong>è¾…åŠ©ç´¢å¼•</strong>ï¼ˆsecondary indexï¼‰ï¼šæœç´¢ç æŒ‡å®šçš„é¡ºåºä¸æ–‡ä»¶ä¸­è®°å½•çš„ç‰©ç†é¡ºåºä¸åŒçš„ç´¢å¼•ç§°ä¸ºéèšé›†ç´¢å¼•</p><p><strong>ç¨ å¯†ç´¢å¼•</strong>ï¼ˆdense indexï¼‰ï¼šåœ¨ç¨ å¯†ç´¢å¼•ä¸­ï¼Œæ–‡ä»¶ä¸­çš„æ¯ä¸ªæœç´¢ç å€¼éƒ½æœ‰ä¸€ä¸ªç´¢å¼•é¡¹ã€‚åœ¨ç¨ å¯†éèšé›†ç´¢å¼•ä¸­ï¼Œç´¢å¼•å¿…é¡»å­˜å‚¨æŒ‡å‘æ‰€æœ‰å…·æœ‰ç›¸åŒæœç´¢ç å€¼çš„è®°å½•çš„æŒ‡é’ˆåˆ—è¡¨ã€‚<br><strong>ç¨€ç–ç´¢å¼•</strong>ï¼ˆsparse indexï¼‰ï¼šåœ¨ç¨€ç¡«ç´¢å¼•ä¸­ï¼Œåªä¸ºæœç´¢ç çš„æŸäº›å€¼å»ºç«‹ç´¢å¼•é¡¹ï¼Œ<u>åªæœ‰ç´¢å¼•æ˜¯èšé›†ç´¢å¼•æ—¶æ‰èƒ½ä½¿ç”¨ç¨€ç–ç´¢å¼•</u>ã€‚<br><br></br></p><h2 id="B-æ ‘"><a href="#B-æ ‘" class="headerlink" title="B+æ ‘"></a>B+æ ‘</h2><p>å¶ç»“ç‚¹æœ€å¤šæœ‰ $n-1$ ä¸ªå€¼ï¼Œæœ€å°‘æœ‰ $\lceil (n-1)/2\rceil$ ä¸ªå€¼</p><p>éå¶èŠ‚ç‚¹æœ€å¤šå¯å®¹çº³ $n$ ä¸ªæŒ‡é’ˆï¼Œæœ€å°‘å¿…é¡»æœ‰ $\lceil n/2\rceil$ ä¸ªæŒ‡é’ˆ</p><h3 id="insertion"><a href="#insertion" class="headerlink" title="insertion"></a>insertion</h3><p><img src="/image/dbs/dbs10.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>insert  â€œAdamsâ€:<br><img src="/image/dbs/dbs10.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211170911181.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>insert  â€œLamportâ€:<br><img src="/image/dbs/dbs10.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211170911232.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="Deletion"><a href="#Deletion" class="headerlink" title="Deletion"></a>Deletion</h3><p><img src="/image/dbs/dbs10.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211170911238.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>delete â€œSrinivasanâ€:<br><img src="/image/dbs/dbs10.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211170911270.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>delete â€œSinghâ€ and â€œWuâ€:<br><img src="/image/dbs/dbs10.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211170911259.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>delete â€œGoldâ€:<br><img src="/image/dbs/dbs10.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211170911302.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="Bæ ‘"><a href="#Bæ ‘" class="headerlink" title="Bæ ‘"></a>Bæ ‘</h2><p>Similar to B+tree, but B-tree allows search-key values to appear only once; eliminates redundant storage of search keys.</p><p><img src="/image/dbs/dbs10.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211170911324.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ul><li>Advantages of B-Tree indices:<br>â¢ May use less tree nodes than a corresponding B+tree (because of duplicate).<br>â¢ Sometimes possible to find search-key value before reaching leaf node.</li><li>Disadvantages of B-Tree indices:<br>â¢ Only small fraction of all search-key values are found early<br>â¢ Non-leaf nodes are larger, so fan-out is reduced. Thus B-Trees typically have greater depth than corresponding B+Tree<br>â¢ Insertion and deletion more complicated than in B+Trees<br>â¢ Implementation is harder than B+Trees.<br>å› è€Œè®¸å¤šæ•°æ®åº“å®ç°ä½¿ç”¨B+æ ‘</li></ul><h2 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h2><p>bucket overflowï¼ˆæ¡¶æº¢å‡ºï¼‰å¤„ç†ï¼š</p><ul><li>close addressingï¼šå¢åŠ æº¢å‡ºæ¡¶ã€æº¢å‡ºé“¾ï¼Œç”¨æ¥å­˜å‚¨æº¢å‡ºéƒ¨åˆ†</li><li>open addressingï¼šæº¢å‡ºéƒ¨åˆ†æ”¾åˆ°åˆ«çš„æ¡¶ä¸­ï¼ˆæ— æº¢å‡ºé“¾ï¼‰<br><br></li></ul><h2 id="Dynamic-Hashing-åŠ¨æ€æ•£åˆ—"><a href="#Dynamic-Hashing-åŠ¨æ€æ•£åˆ—" class="headerlink" title="Dynamic Hashing   åŠ¨æ€æ•£åˆ—"></a>Dynamic Hashing   åŠ¨æ€æ•£åˆ—</h2><p>extendable hashing å¯æ‰©å……æ•£åˆ—</p><p><a href="https://www.cnblogs.com/kegeyang/archive/2012/04/05/2432608.html" target="_blank" rel="noopener">https://www.cnblogs.com/kegeyang/archive/2012/04/05/2432608.html</a><br><br></p><h2 id="Index-Definition-in-SQL"><a href="#Index-Definition-in-SQL" class="headerlink" title="Index Definition in SQL"></a>Index Definition in SQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">index</span> &lt;<span class="keyword">index</span>-<span class="keyword">name</span>&gt; <span class="keyword">on</span> &lt;<span class="keyword">table</span>-<span class="keyword">name</span>&gt; (&lt;<span class="keyword">attribute</span>-<span class="keyword">list</span>&gt;)</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> <span class="keyword">index</span> uni-acnt-<span class="keyword">index</span> <span class="keyword">on</span> <span class="keyword">account</span>(<span class="keyword">account</span>- <span class="built_in">number</span>)</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">index</span> &lt;<span class="keyword">index</span>-<span class="keyword">name</span>&gt;</span><br></pre></td></tr></table></figure><p><br></p><h2 id="Bitmap-Indices"><a href="#Bitmap-Indices" class="headerlink" title="Bitmap Indices"></a>Bitmap Indices</h2><p><img src="/images/dbs/dbs10.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lyaXNfY3l5,size_16,color_FFFFFF,t_70-20200211171147910.png" alt="img"></p><p><br></p><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://blog.csdn.net/hellojoy/article/details/81740997" target="_blank" rel="noopener">https://blog.csdn.net/hellojoy/article/details/81740997</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç´¢å¼•&quot;&gt;&lt;a href=&quot;#ç´¢å¼•&quot; class=&quot;headerlink&quot; title=&quot;ç´¢å¼•&quot;&gt;&lt;/a&gt;ç´¢å¼•&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;é¡ºåºç´¢å¼•&lt;/strong&gt;ï¼šåŸºäºå€¼çš„é¡ºåºæ’åº&lt;br&gt;&lt;strong&gt;æ•£åˆ—ç´¢å¼•&lt;/strong&gt;ï¼šåŸºäºå°†å€¼å¹³å‡åˆ†å¸ƒåˆ°è‹¥å¹²æ•£åˆ—æ¡¶
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Database System" scheme="https://iris-cyy.github.io/categories/Notes/Database-System/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="DBS" scheme="https://iris-cyy.github.io/tags/DBS/"/>
    
  </entry>
  
  <entry>
    <title>ã€DBSã€‘Lecture 11. Query Processing</title>
    <link href="https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs11/"/>
    <id>https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs11/</id>
    <published>2020-02-11T08:45:31.000Z</published>
    <updated>2020-02-11T09:08:37.681Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Meaturing-of-query-cost"><a href="#Meaturing-of-query-cost" class="headerlink" title="Meaturing of query cost"></a>Meaturing of query cost</h2><p>$t_T$ â€“ time to transfer one block. (â‰ˆ 0.1ms)<br>$t_S$ â€“ time for one seek. (â‰ˆ 4ms)<br>Cost for b block transfers plus S seeks :  $b<em> t_T + S</em> t_S$</p><p><img src="/images/dbs/dbs11.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211164548821.png" alt="11"></p><h2 id="External-merge-sort"><a href="#External-merge-sort" class="headerlink" title="External merge sort"></a>External merge sort</h2><p>cost:<br>M: ç¼“å†²åŒºèƒ½å®¹çº³çš„ç£ç›˜å—æ•°<br>$b_r$: å…³ç³»rä¸­è®°å½•çš„ç£ç›˜å—æ•°<br>$b_b$: æ¯æ¬¡ä»ä¸€ä¸ªå½’å¹¶æ®µè¯»å–çš„æ•°æ®æ•°<br>merge passes required: $\; \lceil log_{M-1}(b_r/M) \rceil$<br>total number of block transfer:  $\; b_r(2\lceil log_{M-1}(b_r/M) \rceil + 1)$<br>total number of seeks: $\; 2\lceil b_r/M \rceil + \lceil b_r / b_b \rceil (2 \lceil log_{M-1}(b_r/M) \rceil -1 )$<br><br></p><h2 id="Join"><a href="#Join" class="headerlink" title="Join"></a>Join</h2><p>å…ƒç»„æ•°è¾ƒå°‘çš„å…³ç³»ä½œä¸ºå¤–å±‚å…³ç³»æ—¶æ•ˆæœè¾ƒå¥½</p><h3 id="nested-loop-join-åµŒå¥—å¾ªç¯è¿æ¥"><a href="#nested-loop-join-åµŒå¥—å¾ªç¯è¿æ¥" class="headerlink" title="nested-loop join  åµŒå¥—å¾ªç¯è¿æ¥"></a>nested-loop join  åµŒå¥—å¾ªç¯è¿æ¥</h3><p>n: å…ƒç»„æ•°ï¼ˆè®°å½•æ•°ï¼‰ï¼Œ b: ç£ç›˜å—æ•°</p><p>worst case: $\; n_r * b_s+b_r$ block transfer, plus $n_r +b_r$ disk seeks</p><p>best case: $\; b_r + b_s$ block transfer, plus 2 seeks</p><h3 id="block-nested-loop-join-å—åµŒå¥—å¾ªç¯è¿æ¥"><a href="#block-nested-loop-join-å—åµŒå¥—å¾ªç¯è¿æ¥" class="headerlink" title="block nested-loop join å—åµŒå¥—å¾ªç¯è¿æ¥"></a>block nested-loop join å—åµŒå¥—å¾ªç¯è¿æ¥</h3><p>worst case: $\; b_r <em> b_s+b_r$ block transfer, plus $2</em>b_r$ seeks</p><p>best case: $\; b_r + b_s$ block transfer, plus 2 seeks</p><p>improve: $\; \lceil b_r / (M-2) * b_s + b_r \rceil$ block transfer, plus $2\lceil b_r / (M-2 ) \rceil$ seeks</p><h3 id="indexed-nested-loop-join-ç´¢å¼•åµŒå¥—å¾ªç¯è¿æ¥"><a href="#indexed-nested-loop-join-ç´¢å¼•åµŒå¥—å¾ªç¯è¿æ¥" class="headerlink" title="indexed nested-loop join ç´¢å¼•åµŒå¥—å¾ªç¯è¿æ¥"></a>indexed nested-loop join ç´¢å¼•åµŒå¥—å¾ªç¯è¿æ¥</h3><p>c: ç”¨è¿æ¥æ¡ä»¶å¯¹sè¿›è¡Œå•æ¬¡é€‰æ‹©æ“ä½œçš„ä»£ä»·</p><p>cost of join: $\; b_r(t_T+t_S)+n_r*c$</p><h3 id="merge-join-æ’åºå½’å¹¶è¿æ¥"><a href="#merge-join-æ’åºå½’å¹¶è¿æ¥" class="headerlink" title="merge-join æ’åºå½’å¹¶è¿æ¥"></a>merge-join æ’åºå½’å¹¶è¿æ¥</h3><p>$b_r+b_s$ block transfers + $\lceil b_r/b_b \rceil + \lceil b_s / b_b \rceil$ seeks</p><h3 id="hash-join"><a href="#hash-join" class="headerlink" title="hash-join"></a>hash-join</h3><p>$M&gt;n_h +1$ æˆ– $M&gt;(b_s+M)+1$ æˆ– $M&gt;\sqrt {b_s}$ æ—¶ä¸éœ€è¦é€’å½’åˆ’åˆ†</p><p>ä¸éœ€è¦é€’å½’åˆ’åˆ†æ—¶ï¼š$3(b_r + b_s) +4 * n_h$ block transfers + $2( \lceil b_r / b_b \rceil + \lceil b_s/b_b \rceil)$ seeks</p><p>éœ€è¦é€’å½’åˆ’åˆ†æ—¶ï¼š$2(b_r + b_s) \lceil log_{Mâ€“1}(b_s) â€“ 1 \rceil + b_r + b_s$ block transfers + $2(\lceil b_r / b_b \rceil + \lceil b_s / b_b \rceil ) \lceil log_{Mâ€“1}(b_s) â€“ 1 \rceil$ seeks</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Meaturing-of-query-cost&quot;&gt;&lt;a href=&quot;#Meaturing-of-query-cost&quot; class=&quot;headerlink&quot; title=&quot;Meaturing of query cost&quot;&gt;&lt;/a&gt;Meaturing of quer
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Database System" scheme="https://iris-cyy.github.io/categories/Notes/Database-System/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="DBS" scheme="https://iris-cyy.github.io/tags/DBS/"/>
    
  </entry>
  
  <entry>
    <title>ã€DBSã€‘Lecture 03. SQL</title>
    <link href="https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs03/"/>
    <id>https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs03/</id>
    <published>2020-02-11T08:41:25.000Z</published>
    <updated>2020-02-11T08:45:16.737Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Data-Definition-Language"><a href="#Data-Definition-Language" class="headerlink" title="Data Definition Language"></a>Data Definition Language</h2><h3 id="Domain-Types-in-SQL"><a href="#Domain-Types-in-SQL" class="headerlink" title="Domain Types in SQL"></a>Domain Types in SQL</h3><ul><li><strong>char(n)</strong>: Fixed length character string, with user-specified length. </li><li><strong>varchar(n)</strong>: Variable length character strings, with user-specified maximum length n. </li><li><strong>int</strong>: Integer (a finite subset of the integers that is machine-dependent). </li><li><strong>smallint</strong>: Small integer (a machine-dependent subset of the integer domain type). </li><li><strong>numeric(p, d)</strong>: Fixed point number, with user-specified precision of p digits, with d digits to the right of decimal point. </li><li><p><strong>real, double precision</strong>: Floating point and double-precision floating point numbers, with machine-dependent precision. </p></li><li><p><strong>float(n)</strong>: Floating point number, with user-specified precision of at least <em>n</em> digits. </p></li><li><p>Null values are allowed in all the domain types. Declaring an attribute to be not null prohibits null values for that attribute. </p></li><li><p><strong>date</strong>: Dates, containing a (4 digits) year, month and date. </p><p>E.g., date â€˜2007-2-27â€™  </p></li><li><p><strong>Time</strong>: Time of day, in hours, minutes and seconds. </p><p>E.g., time â€˜11:18:16â€™, time â€˜11:18:16.28â€™ </p></li><li><p><strong>timestamp</strong>: date plus time of day. </p><p>E.g., timestamp â€˜2011-3-17 11:18:16.28â€™ </p></li></ul><h3 id="Creat-Table"><a href="#Creat-Table" class="headerlink" title="Creat Table"></a>Creat Table</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> r (A1 D1, A2 D2, ..., An Dn,</span><br><span class="line">              (integrity constraint1), </span><br><span class="line">              ..., </span><br><span class="line">              (integrity constraintk))</span><br></pre></td></tr></table></figure><ul><li><p>r  is the name of the relation </p></li><li><p>Each Ai  is an attribute name in the schema of relation r </p></li><li><p>Di  is the data type of values in the domain of attribute Ai </p></li></ul><h3 id="Drop-Table"><a href="#Drop-Table" class="headerlink" title="Drop Table"></a>Drop Table</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> r</span><br></pre></td></tr></table></figure><h3 id="Alter-Tableï¼ˆå¢å‡å±æ€§ï¼‰"><a href="#Alter-Tableï¼ˆå¢å‡å±æ€§ï¼‰" class="headerlink" title="Alter Tableï¼ˆå¢å‡å±æ€§ï¼‰"></a>Alter Tableï¼ˆå¢å‡å±æ€§ï¼‰</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> r <span class="keyword">ADD</span> A D;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> r <span class="keyword">ADD</span> (A1D1,â€¦,AnDn);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> r <span class="keyword">DROP</span> A</span><br></pre></td></tr></table></figure><h3 id="Creat-Index-or-Drop-Indexï¼ˆæ„å»ºç´¢å¼•ï¼‰"><a href="#Creat-Index-or-Drop-Indexï¼ˆæ„å»ºç´¢å¼•ï¼‰" class="headerlink" title="Creat Index or Drop Indexï¼ˆæ„å»ºç´¢å¼•ï¼‰"></a>Creat Index or Drop Indexï¼ˆæ„å»ºç´¢å¼•ï¼‰</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">INDEX</span> &lt;i-<span class="keyword">name</span>&gt; <span class="keyword">ON</span> &lt;<span class="keyword">table</span>-<span class="keyword">name</span>&gt;(&lt;<span class="keyword">attribute</span>-<span class="keyword">list</span>&gt;)</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> <span class="keyword">INDEX</span> &lt;i-<span class="keyword">name</span>&gt; <span class="keyword">ON</span> &lt;<span class="keyword">table</span>-<span class="keyword">name</span>&gt;(&lt;<span class="keyword">attribute</span>-<span class="keyword">list</span>&gt;)</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">INDEX</span> &lt;i-<span class="keyword">name</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//allow duplicates</span><br><span class="line"><span class="keyword">SELECT</span> branch_name</span><br><span class="line"><span class="keyword">FROM</span> loan</span><br><span class="line"></span><br><span class="line">//<span class="keyword">no</span> duplicates</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">distinct</span> branch_name</span><br><span class="line"><span class="keyword">FROM</span> loan</span><br><span class="line"></span><br><span class="line">//<span class="keyword">allow</span> duplicates</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">all</span> branch_name</span><br><span class="line"><span class="keyword">FROM</span> loan</span><br><span class="line"></span><br><span class="line">//<span class="keyword">all</span> <span class="keyword">attributes</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> loan</span><br></pre></td></tr></table></figure><p>allow arithmetic expressions</p><h3 id="Where"><a href="#Where" class="headerlink" title="Where"></a>Where</h3><p>SELECT branch_name<br>FROM loan</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> branch_name</span><br><span class="line"><span class="keyword">FROM</span> loan</span><br><span class="line"><span class="keyword">WHERE</span> branch_name = <span class="string">"Perryridge"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> loan_name</span><br><span class="line"><span class="keyword">FROM</span> loan</span><br><span class="line"><span class="keyword">WHERE</span> amout <span class="keyword">BETWEEN</span> <span class="number">90000</span> <span class="keyword">AND</span> <span class="number">100000</span></span><br></pre></td></tr></table></figure><h3 id="From"><a href="#From" class="headerlink" title="From"></a>From</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//Cartesian product borrow x loan</span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> borrow,loan</span><br></pre></td></tr></table></figure><h3 id="String-Operations"><a href="#String-Operations" class="headerlink" title="String Operations"></a>String Operations</h3><ul><li><p>% â€” matches any substring (like * in the file system). </p></li><li><p>_ â€” matches any character (like ? in the file system). </p></li><li><p>Converting from upper to lower case (and vice versa) using Functions lower( ) and upper( )</p></li><li><p>Concatenation (using â€œ||â€ )</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> â€˜å®¢æˆ·å=â€™ || customer_name </span><br><span class="line"><span class="keyword">FROM</span> *customer* </span><br><span class="line"><span class="keyword">WHERE</span> â€¦</span><br></pre></td></tr></table></figure></li></ul><h3 id="Ordering"><a href="#Ordering" class="headerlink" title="Ordering"></a>Ordering</h3><p>We may specify <strong>desc</strong> for descending order or <strong>asc</strong> for ascending order, and for each attribute, ascending order is the default. </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ORDER BY customer_name asc</span><br></pre></td></tr></table></figure><h3 id="Set-Operations"><a href="#Set-Operations" class="headerlink" title="Set Operations"></a>Set Operations</h3><p>UNION: â‹ƒ</p><p>INTERSECT: â‹‚</p><p>EXCEPT: -</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">SELECT</span> customer_name <span class="keyword">FROM</span> depositor)</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line">(<span class="keyword">SELECT</span> customer_name <span class="keyword">FROM</span> borrower) </span><br><span class="line"></span><br><span class="line">(<span class="keyword">SELECT</span> customer_name <span class="keyword">FROM</span> depositor) </span><br><span class="line"><span class="keyword">INTERSECT</span> </span><br><span class="line">(<span class="keyword">SELECT</span> customer_name <span class="keyword">FROM</span> borrower) </span><br><span class="line"></span><br><span class="line">(<span class="keyword">SELECT</span> customer_name <span class="keyword">FROM</span> depositor) </span><br><span class="line"><span class="keyword">EXCEPT</span></span><br><span class="line">(<span class="keyword">SELECT</span> customer_name <span class="keyword">FROM</span> borrower)</span><br></pre></td></tr></table></figure><h3 id="Aggregate-Functions"><a href="#Aggregate-Functions" class="headerlink" title="Aggregate Functions"></a>Aggregate Functions</h3><ul><li><p>avg(col): average value </p></li><li><p>min(col): minimum value </p></li><li><p>max(col): maximum value </p></li><li><p>sum(col): sum of values </p></li><li><p>count(col): number of values </p></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">avg</span>(balance) avg_bal </span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">account</span> </span><br><span class="line"><span class="keyword">WHERE</span> branch_name = â€˜Perryridgeâ€™</span><br></pre></td></tr></table></figure><p>Attributes in select clause outside of aggregate functions must appear in group by list. </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> branch_name, <span class="keyword">avg</span>(balance) avg_bal </span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">account</span> </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> brach_name</span><br></pre></td></tr></table></figure><h3 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h3><ul><li><p>The meaning is â€œmissing informationâ€ or â€œinapplicable informationâ€, i.e., unknown value or that a value does not exist. </p></li><li><p>The result of any arithmetic expression involving â€˜nullâ€™ is null.   eg. 5 + null returns null. </p></li><li><p>Any comparison with null returns â€œunknownâ€   eg. 5 &lt; null or null &lt;&gt; null or null = null </p></li></ul><h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> &lt;v_name&gt; <span class="keyword">AS</span> </span><br><span class="line"><span class="keyword">SELECT</span> c1, c2, â€¦ <span class="keyword">From</span> â€¦ </span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> &lt;v_name&gt; (c1, c2, â€¦) <span class="keyword">AS</span> </span><br><span class="line"><span class="keyword">SELECT</span> e1, e2, â€¦ <span class="keyword">FROM</span> â€¦ </span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> &lt;V_NAME&gt;</span><br></pre></td></tr></table></figure><h3 id="With"><a href="#With" class="headerlink" title="With"></a>With</h3><p>allows views to be defined <strong>locally</strong> for a query<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WITH</span> max_balance(<span class="keyword">value</span>) <span class="keyword">as</span> </span><br><span class="line">  <span class="keyword">SELECT</span> <span class="keyword">max</span>(balance)</span><br><span class="line">  <span class="keyword">FROM</span> <span class="keyword">account</span></span><br><span class="line"><span class="keyword">SELECT</span> account_number</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">account</span>, max_balance</span><br><span class="line"><span class="keyword">WHERE</span> account.balance = max_balance.value</span><br></pre></td></tr></table></figure></p><h3 id="Deletion"><a href="#Deletion" class="headerlink" title="Deletion"></a>Deletion</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> &lt;<span class="keyword">table</span>|<span class="keyword">view</span>&gt;</span><br><span class="line">[<span class="keyword">WHERE</span> &lt;condition&gt;&#125;</span><br></pre></td></tr></table></figure><h3 id="Insertion"><a href="#Insertion" class="headerlink" title="Insertion"></a>Insertion</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> &lt;<span class="keyword">table</span>|<span class="keyword">view</span>&gt;[(c1,c2,...)]</span><br><span class="line"><span class="keyword">VALUES</span>(e1,e2,...)</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> &lt;<span class="keyword">table</span>|<span class="keyword">view</span>&gt;[(c1,c2,...)]</span><br><span class="line"><span class="keyword">SELECT</span> e1,e2,...</span><br><span class="line"><span class="keyword">FROM</span> ...</span><br></pre></td></tr></table></figure><h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">account</span></span><br><span class="line"><span class="keyword">SET</span> balance = <span class="keyword">case</span></span><br><span class="line">                <span class="keyword">when</span> balance &lt;= <span class="number">10000</span></span><br><span class="line">                <span class="keyword">then</span> balance*<span class="number">1.05</span></span><br><span class="line">                <span class="keyword">else</span> balance*<span class="number">1.06</span></span><br><span class="line">              <span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Transactions"><a href="#Transactions" class="headerlink" title="Transactions"></a>Transactions</h3><ul><li>commit work: makes all updates of the transaction permanent in the database</li><li>rollback work: undoes all updates performed by the transaction<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">account</span> <span class="keyword">SET</span> balance = balance - <span class="number">100</span> <span class="keyword">WHERE</span></span><br><span class="line">account_number = <span class="string">'A-101'</span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">account</span> <span class="keyword">SET</span> balance = balance + <span class="number">100</span> <span class="keyword">WHERE</span></span><br><span class="line">account_number = <span class="string">'A-201'</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="Joined-Relations"><a href="#Joined-Relations" class="headerlink" title="Joined Relations"></a>Joined Relations</h3><ul><li>Join types:<ul><li>inner join</li><li>left outer join</li><li>right outer join</li><li>full outer join</li></ul></li><li>Join Conditions<ul><li>natual</li><li>on <predicate></li><li>using (A1,A1,â€¦,An)</li></ul></li></ul><p><img src="/images/dbs/dbs03.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211164138236.png" alt="jr"></p><p>Natural join: ä»¥åŒåå±æ€§ç›¸ç­‰ä½œä¸ºè¿æ¥æ¡ä»¶<br>Inner joinï¼šåªè¾“å‡ºåŒ¹é…æˆåŠŸçš„å…ƒç»„<br>Outer joinï¼šè¿˜è¦è€ƒè™‘ä¸èƒ½åŒ¹é…çš„å…ƒç»„<br>éè‡ªç„¶è¿æ¥ï¼Œå®¹è®¸ä¸åŒåå±æ€§çš„æ¯”è¾ƒï¼Œä¸”ç»“æœå…³ç³»ä¸­ä¸æ¶ˆå»é‡åå±æ€§ã€‚</p><p><br></p><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://www.cnblogs.com/grandyang/p/5346963.html" target="_blank" rel="noopener">https://www.cnblogs.com/grandyang/p/5346963.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Data-Definition-Language&quot;&gt;&lt;a href=&quot;#Data-Definition-Language&quot; class=&quot;headerlink&quot; title=&quot;Data Definition Language&quot;&gt;&lt;/a&gt;Data Definitio
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Database System" scheme="https://iris-cyy.github.io/categories/Notes/Database-System/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="DBS" scheme="https://iris-cyy.github.io/tags/DBS/"/>
    
  </entry>
  
  <entry>
    <title>ã€DBSã€‘Lecture 04. Advanced SQL</title>
    <link href="https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs04/"/>
    <id>https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs04/</id>
    <published>2020-02-11T08:32:39.000Z</published>
    <updated>2020-02-11T08:39:21.673Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Integrity-Constraint"><a href="#Integrity-Constraint" class="headerlink" title="Integrity Constraint"></a>Integrity Constraint</h3><ul><li>not null (ä¸»ç ä¸å¯ä¸ºç©º)</li><li>unique</li><li>check ( \<predicate> )</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">table</span> branch2(branch_name <span class="built_in">varchar</span>(<span class="number">30</span>) primary <span class="keyword">key</span>,</span><br><span class="line">                     branch_city <span class="built_in">varchar</span>(<span class="number">30</span>),</span><br><span class="line">                     assets <span class="built_in">integer</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">                     <span class="keyword">check</span> (assets &gt;= <span class="number">100</span>) );</span><br></pre></td></tr></table></figure><h3 id="Domain-Constraint"><a href="#Domain-Constraint" class="headerlink" title="Domain Constraint"></a>Domain Constraint</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">domain</span> hourly-wage <span class="built_in">numeric</span>(<span class="number">5</span>,<span class="number">2</span>);</span><br><span class="line">constraint value-test <span class="keyword">check</span> (<span class="keyword">value</span> &gt;= <span class="number">4.00</span>);</span><br></pre></td></tr></table></figure><h3 id="Referential-Integrity"><a href="#Referential-Integrity" class="headerlink" title="Referential Integrity"></a>Referential Integrity</h3><p>Account (<u>account-number</u>, branch-name, balance) â€” å‚ç…§å…³ç³» </p><p>Branch (<u>branch-name</u>, branch-city, assets) â€” è¢«å‚ç…§å…³ç³» </p><p><img src="/images/dbs/dbs04.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211163658066.png" width=80%></p><p><strong>cascading action</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Create</span> <span class="keyword">table</span> course</span><br><span class="line">(...</span><br><span class="line"><span class="keyword">foreign</span> <span class="keyword">key</span> (dept_name) <span class="keyword">references</span> department</span><br><span class="line"><span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">cascade</span></span><br><span class="line"><span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">cascade</span>,</span><br><span class="line">...);</span><br></pre></td></tr></table></figure><h3 id="Assertion"><a href="#Assertion" class="headerlink" title="Assertion"></a>Assertion</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">assertion</span> &lt;<span class="keyword">assertion</span>-<span class="keyword">name</span>&gt;</span><br><span class="line"><span class="keyword">CHECK</span> &lt;predicate&gt;;</span><br></pre></td></tr></table></figure><p>But SQL does not provide a construct for asserting: <u>for all X, P (X)</u></p><p>So it is achieved in a round -about fashion, using: <u>not exists X, such that not P (X)</u></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">assertion</span> credits_earned_constraint <span class="keyword">check</span></span><br><span class="line">  (<span class="keyword">not</span> <span class="keyword">exists</span>  (<span class="keyword">select</span> <span class="keyword">ID</span></span><br><span class="line">                <span class="keyword">from</span> student</span><br><span class="line">                <span class="keyword">where</span> tot_cred &lt;&gt; (<span class="keyword">select</span> <span class="keyword">sum</span> (credits) </span><br><span class="line">                                   <span class="keyword">from</span> takes <span class="keyword">natural</span> <span class="keyword">join</span> course </span><br><span class="line">                                   <span class="keyword">where</span> student. <span class="keyword">ID</span> = takes. <span class="keyword">ID</span></span><br><span class="line">                                   <span class="keyword">and</span> grade <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">and</span> grade &lt;&gt; <span class="string">'F'</span>)</span><br><span class="line">                )</span><br><span class="line">   );</span><br></pre></td></tr></table></figure><p><br></p><h3 id="Trigger"><a href="#Trigger" class="headerlink" title="Trigger"></a>Trigger</h3><p><img src="/images/dbs/dbs04.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211163247840.png" alt="trigger"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;CREATE/REPLACE&gt; trigger secure_ student before &lt;insert/delete/update&gt; on student</span><br><span class="line"><span class="keyword">Begin</span></span><br><span class="line"><span class="keyword">IF</span>(to_char(<span class="keyword">sysdate</span>, <span class="string">'DY'</span>) <span class="keyword">in</span>ï¼ˆ<span class="string">'æ˜ŸæœŸå…­'</span>ï¼Œ<span class="string">'æ˜ŸæœŸæ—¥'</span>))</span><br><span class="line"><span class="keyword">OR</span>(to_char(<span class="keyword">sysdate</span>, <span class="string">'HH24'</span>) <span class="keyword">NOT</span> <span class="keyword">Between</span> <span class="number">8</span> <span class="keyword">and</span> <span class="number">17</span>) </span><br><span class="line"><span class="keyword">THEN</span> raise_ application_error(<span class="number">-20506</span>, <span class="string">'ä½ åªèƒ½åœ¨ä¸Šç­æ—¶é—´ä¿®æ”¹æ•°æ®'</span>);</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">trigger</span> &lt;trigger_name&gt;</span><br></pre></td></tr></table></figure><h3 id="Authorization"><a href="#Authorization" class="headerlink" title="Authorization"></a>Authorization</h3><ul><li>Security Specification</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> &lt;privilege <span class="keyword">list</span>&gt; <span class="keyword">on</span> &lt;<span class="keyword">table</span>/<span class="keyword">view</span>&gt;</span><br><span class="line"><span class="keyword">TO</span> &lt;<span class="keyword">user</span> <span class="keyword">list</span>&gt;</span><br></pre></td></tr></table></figure><p>  \<user list>: user-ids / public / a role</p><ul><li>Privilege</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">select</span>,<span class="keyword">insert</span> <span class="keyword">ON</span> branch <span class="keyword">TO</span> U1,U2,U3</span><br></pre></td></tr></table></figure><p>  select / insert / update / delete / references / all privileges / all</p><ul><li><p>Roles</p><p>permit common privileges for a class of users can be specified just once</p></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Create</span> <span class="keyword">role</span> teller; </span><br><span class="line"><span class="keyword">Create</span> <span class="keyword">role</span> manager; </span><br><span class="line"><span class="keyword">Grant</span> <span class="keyword">select</span> <span class="keyword">on</span> branch <span class="keyword">to</span> teller; </span><br><span class="line"><span class="keyword">Grant</span> <span class="keyword">update</span> (balance) <span class="keyword">on</span> <span class="keyword">account</span> <span class="keyword">to</span> teller; </span><br><span class="line"><span class="keyword">Grant</span> <span class="keyword">all</span> <span class="keyword">privileges</span> <span class="keyword">on</span> <span class="keyword">account</span> <span class="keyword">to</span> manager; </span><br><span class="line"><span class="keyword">Grant</span> teller <span class="keyword">to</span> manager; </span><br><span class="line"><span class="keyword">Grant</span> teller <span class="keyword">to</span> alice, bob; </span><br><span class="line"><span class="keyword">Grant</span> manager <span class="keyword">to</span> avi;</span><br></pre></td></tr></table></figure><ul><li>Revoke</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> &lt;privilege <span class="keyword">list</span>&gt; <span class="keyword">ON</span> &lt;<span class="keyword">table</span>/<span class="keyword">view</span>&gt;</span><br><span class="line"><span class="keyword">FROM</span> &lt;<span class="keyword">user</span> <span class="keyword">list</span>&gt; [restrict/<span class="keyword">cascade</span>]</span><br></pre></td></tr></table></figure><p>  restrictï¼šä»…æ’¤å›ç”¨æˆ·æœ¬äºº</p><p>  cascadeï¼šè¿é”æ’¤å›ï¼ŒåŒæ—¶æ’¤å›ç”¨æˆ·å¯¹å¤–çš„æˆæƒ</p><h3 id="Audit-Trails"><a href="#Audit-Trails" class="headerlink" title="Audit Trails"></a>Audit Trails</h3><p>log all changes to the database</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AUDIT &lt;st-opt&gt;[BY &lt;users&gt;][BY session/access][whenever successful / whenever not seccessful]</span><br></pre></td></tr></table></figure><p>\<st-opt>:  table, view, role, index</p><p>NOAUDITâ€¦ å–æ¶ˆå®¡è®¡</p><p>by\<users>ç¼ºçœæ—¶å¯¹æ‰€æœ‰ç”¨æˆ·å®¡è®¡</p><p>by sessionï¼šæ¯æ¬¡ä¼šè¯æœŸé—´ï¼Œç›¸åŒç±»å‹éœ€å®¡è®¡çš„SQLè¯­å¥ä»…è®°å½•ä¸€æ¬¡</p><ul><li>Audit in oracle:</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AUDIT &lt;obj-opt&gt; ON &lt;obj&gt;/DEFAULT [by session / by access][whenever successful / whenever not successful]</span><br></pre></td></tr></table></figure><p>  å®ä½“å®¡è®¡å¯¹æ‰€æœ‰ç”¨æˆ·èµ·ä½œç”¨</p><p>  ON \<obj> æŒ‡å‡ºå®¡è®¡å¯¹è±¡è¡¨ã€è§†å›¾åã€‚ </p><p>  ON DEFAULT å¯¹å…¶ååˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡èµ·ä½œç”¨ã€‚ </p><p>  å–æ¶ˆå®¡è®¡ï¼šNOAUDIT â€¦ </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Integrity-Constraint&quot;&gt;&lt;a href=&quot;#Integrity-Constraint&quot; class=&quot;headerlink&quot; title=&quot;Integrity Constraint&quot;&gt;&lt;/a&gt;Integrity Constraint&lt;/h3&gt;&lt;
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Database System" scheme="https://iris-cyy.github.io/categories/Notes/Database-System/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="DBS" scheme="https://iris-cyy.github.io/tags/DBS/"/>
    
  </entry>
  
  <entry>
    <title>ã€DBSã€‘Lecture 05. E-R Model</title>
    <link href="https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs05/"/>
    <id>https://iris-cyy.github.io//Notes/Database-System/2020-02-11/dbs05/</id>
    <published>2020-02-11T08:17:10.000Z</published>
    <updated>2020-02-11T08:31:26.505Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Keys"><a href="#Keys" class="headerlink" title="Keys"></a>Keys</h2><p><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70.png" alt="keys"></p><h2 id="E-R-Diagram"><a href="#E-R-Diagram" class="headerlink" title="E-R Diagram"></a>E-R Diagram</h2><ul><li>Rectangles represent entity sets. </li><li>Diamonds represent relationship sets. </li><li>Lines link attributes to entity sets and entity sets to relationship sets. </li><li>Ellipses represent attributes. <ul><li>Double ellipses represent multivalued attributes. </li><li>Dashed ellipses denote derived attributes. </li></ul></li><li>Underline indicates primary key attributes.</li></ul><p><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722463.png" alt="er"></p><p><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722236.png" alt="er2"></p><ul><li><p>We express cardinality constraints by drawing either a directed line (â†’), signifying â€œoneâ€, or an undirected line (â€”), signifying â€œmanyâ€,  between the relationship set and the entity set. </p><p><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722257.png" alt="er3"></p></li><li><p>Total participation (å…¨å‚ä¸) (indicated by double line): every entity in the entity set participates in at least one relationship in the relationship set.<br>E.g., participation of loan in borrower is total.<br>Every loan must have a customer associated to it via borrower. </p></li><li><p>Partial participation (éƒ¨åˆ†å‚ä¸): some entities may not participate in any relationship in the relationship set.<br><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722427.png" alt="er4"></p></li><li><p>An entity set that does not have a primary key is referred to as a weak entity set<br>The discriminator or partial key (åˆ†è¾¨ç¬¦æˆ–éƒ¨åˆ†ç ) of a weak entity set is the set of attributes that distinguishes among all those entities in a weak entity set that depend on one particular strong entity </p><p><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722430.png" alt="er5"><br><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722331.png" alt="er6"><br><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722357.png" alt="er7"></p><p><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722421.png" alt="er8"></p><p><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722456.png" alt="er9"></p><p><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722459.png" alt="er10"></p><p><img src="/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9pcmlzc3N5LmJsb2cuY3Nkbi5uZXQ=,size_16,color_FFFFFF,t_70-20200211161722547.png" alt="er11"></p></li><li><p>è‹¥ä¸€ä¸ªå¯¹è±¡åªå¯¹å…¶åå­—åŠå•å€¼æ„Ÿå…´è¶£ï¼Œåˆ™å¯ä½œä¸ºå±æ€§ï¼Œå¦‚æ€§åˆ«ï¼›è‹¥ä¸€ä¸ªå¯¹è±¡é™¤åå­—å¤–ï¼Œæœ¬èº«è¿˜æœ‰å…¶ä»–å±æ€§éœ€æè¿°ï¼Œåˆ™è¯¥å¯¹è±¡åº”å®šä¹‰ä¸ºå®ä½“é›†ã€‚å¦‚ç”µè¯, éƒ¨é—¨. </p></li><li><p>ä¸€ä¸ªå¯¹è±¡ä¸èƒ½åŒæ—¶ä½œä¸ºå®ä½“å’Œå±æ€§. </p></li><li><p>ä¸€ä¸ªå®ä½“é›†ä¸èƒ½ä¸å¦ä¸€å®ä½“é›†çš„å±æ€§ç›¸å…³è”ï¼Œåªèƒ½å®ä½“ä¸å®ä½“ç›¸è”ç³»</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Keys&quot;&gt;&lt;a href=&quot;#Keys&quot; class=&quot;headerlink&quot; title=&quot;Keys&quot;&gt;&lt;/a&gt;Keys&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/images/dbs/dbs05.assets/watermark,type_ZmFuZ3poZW5n
      
    
    </summary>
    
      <category term="Notes" scheme="https://iris-cyy.github.io/categories/Notes/"/>
    
      <category term="Database System" scheme="https://iris-cyy.github.io/categories/Notes/Database-System/"/>
    
    
      <category term="Notes" scheme="https://iris-cyy.github.io/tags/Notes/"/>
    
      <category term="DBS" scheme="https://iris-cyy.github.io/tags/DBS/"/>
    
  </entry>
  
  <entry>
    <title>ã€PAT-Advancedã€‘1010 Radix</title>
    <link href="https://iris-cyy.github.io//PAT/Advanced/2020-02-08/pat_1010/"/>
    <id>https://iris-cyy.github.io//PAT/Advanced/2020-02-08/pat_1010/</id>
    <published>2020-02-08T03:22:27.000Z</published>
    <updated>2020-02-08T15:48:06.274Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Given a pair of positive integers, for example, 6 and 110, can this equation 6 = 110 be true? The answer is <code>yes</code>, if 6 is a decimal number and 110 is a binary number.</p><p>Now for any pair of positive integers $N_1$ and $N_2$, your task is to find the radix of one number while that of the other is given.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case occupies a line which contains 4 positive integers:</p><blockquote><p>$N_1$ $N_2$ tag radix</p></blockquote><p>Here <code>N1</code> and <code>N2</code> each has no more than 10 digits. A digit is less than its radix and is chosen from the set { 0-9, <code>a</code>-<code>z</code> } where 0-9 represent the decimal numbers 0-9, and <code>a</code>-<code>z</code> represent the decimal numbers 10-35. The last number <code>radix</code> is the radix of <code>N1</code> if <code>tag</code> is 1, or of <code>N2</code> if <code>tag</code> is 2.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, print in one line the radix of the other number so that the equation <code>N1</code> = <code>N2</code> is true. If the equation is impossible, print <code>Impossible</code>. If the solution is not unique, output the smallest possible radix.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1:"></a>Sample Input 1:</h3><blockquote><p>6 110 1 10</p></blockquote><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1:"></a>Sample Output 1:</h3><blockquote><p>2</p></blockquote><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2:"></a>Sample Input 2:</h3><blockquote><p>1 ab 1 2</p></blockquote><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2:"></a>Sample Output 2:</h3><blockquote><p>Impossible</p></blockquote><p><br></p><hr><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>è¿™é¢˜çš„æ„æ€å’Œè§£é¢˜æ€è·¯ä¸å¤ªéš¾ï¼Œä½†æ˜¯å·¨å‘ï¼Œè¿‡äº†å¾ˆå¤šæ¬¡æ‰è¿‡å»ã€‚</p><p>é¢˜ç›®æ„æ€å¤§æ¦‚å°±æ˜¯è¿›åˆ¶è½¬æ¢ï¼Œéœ€è¦æ³¨æ„çš„æœ‰ä»¥ä¸‹å‡ ä¸ªç‚¹</p><ul><li><p>radixå’ŒNå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¦ç”¨<code>long long</code>è€Œä¸æ˜¯<code>int</code></p></li><li><p>å¯èƒ½ä¼šå‡ºç°å¤šç§å¯èƒ½è¿›åˆ¶çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µä¸‹è¾“å‡ºæœ€å°çš„radixã€‚ä¾‹å¦‚<code>8 8 1 10</code>è¿™ç»„è¾“å…¥ï¼Œå¯ä»¥æ˜¯9ä»¥ä¸Šä»»ä½•è¿›åˆ¶ï¼Œè¿™æ—¶è¾“å‡º9ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰è¾“å…¥çš„æœªçŸ¥è¿›åˆ¶çš„æ•°æ˜¯ä¸€ä½æ•°çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œå› æ­¤åªè¦åœ¨è¾“å…¥æ˜¯ä¸€ä½æ•°çš„æ—¶å€™è€ƒè™‘å‡ºç°å¤šç§å¯èƒ½è¿›åˆ¶ã€‚</p></li><li><p>è¿˜æ˜¯ä¸Šé¢é‚£ä¸ªä¾‹å­ï¼Œ<code>8 8 1 10</code>çš„è¾“å…¥ï¼Œè¾“å‡ºæ˜¯9ï¼Œå› ä¸ºæœ€å¤§ä½æ•°æ˜¯8ï¼Œåªæœ‰åœ¨9ä»¥ä¸Šçš„è¿›åˆ¶ä¼šå‡ºç°8è¿™ä¸ªæ•°å­—ã€‚è¿™æ„å‘³ç€è¦åšä¸€ä¸ªåˆ¤å®šï¼Œæ ¹æ®å‡ºç°çš„æ•°å­—æˆ–å­—ç¬¦æ‰¾åˆ°å¯èƒ½çš„æœ€å°è¿›åˆ¶ã€‚</p></li><li><p>æœ€ç®€å•çš„æ–¹å¼æ˜¯åœ¨èŒƒå›´å†…çº¿æ€§éå†æ‰¾åˆ°å¯¹åº”çš„radixï¼Œåšæ³•å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(radix2 = minR(N2); ; radix2++)&#123;</span><br><span class="line">        dec2 = toDec(N2, radix2);</span><br><span class="line">        <span class="keyword">if</span>(dec1 == dec2)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; radix2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(dec2 &gt; dec1 || radix2 &gt; dec1)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"Impossible"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>minR</code>ç”¨äºåšä¸Šä¸€ä¸ªæ³¨æ„ç‚¹çš„åˆ¤å®šï¼Œ<code>toDec</code>ç”¨äºæŠŠä¸åŒè¿›åˆ¶çš„æ•°è½¬ä¸ºåè¿›åˆ¶ï¼Œ<code>dec1</code>æ˜¯å·²çŸ¥è¿›åˆ¶çš„æ•°çš„åè¿›åˆ¶å€¼ã€‚</p><p>è¿™æ ·åšä¼šæœ‰ä¸€ä¸ªæµ‹è¯•ç‚¹è¿‡ä¸å»ï¼Œæ˜¾ç¤º<code>è¿è¡Œè¶…æ—¶</code>ã€‚é—®é¢˜åœ¨äºçº¿æ€§éå†å¤ªæ…¢ï¼Œå¯ä»¥ç”¨äºŒåˆ†éå†é™ä½å¤æ‚åº¦ã€‚åœ¨æ”¹ä¸ºäºŒåˆ†éå†ä¹‹åèƒ½å¤Ÿè¿‡è¿™ä¸ªç‚¹ã€‚</p></li><li><p>åœ¨åˆ¤æ–­çš„æ—¶å€™è¦æ³¨æ„æº¢å‡ºé—®é¢˜ï¼Œå¦‚æœæº¢å‡ºåˆ™è¦å‡å°äºŒåˆ†èŒƒå›´çš„ä¸Šç•Œã€‚</p></li></ul><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> N1, N2;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> tag, radix, radix2 = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> dec1, dec2;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†å­—ç¬¦è½¬æ¢ä¸ºå¯¹åº”çš„æ•°å­—</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">toNum</span><span class="params">(<span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c &lt;= <span class="string">'9'</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> c - <span class="string">'0'</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> c - <span class="string">'a'</span> + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚åè¿›åˆ¶å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">toDec</span><span class="params">(<span class="built_in">string</span> num, <span class="keyword">long</span> <span class="keyword">long</span> radix)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> dec = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;num.length(); i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> next = toNum(num[i]);</span><br><span class="line">        dec = dec * radix + next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dec;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰¾åˆ°å½“å‰æ•°å­—å¯èƒ½çš„æœ€å°è¿›åˆ¶ï¼Œä¾‹å¦‚12abfæœ€å°åªèƒ½æ˜¯åå…­è¿›åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">minR</span><span class="params">(<span class="built_in">string</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ret;</span><br><span class="line">    <span class="keyword">char</span> maxc = <span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;num.length(); i++)&#123;</span><br><span class="line">        maxc = <span class="built_in">max</span>(maxc, num[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    ret = toNum(maxc) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(ret &lt; <span class="number">2</span>)&#123;</span><br><span class="line">        ret = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N1 &gt;&gt; N2 &gt;&gt; tag &gt;&gt; radix;</span><br><span class="line">    <span class="comment">//è®©å·²çŸ¥è¿›åˆ¶çš„æ•°ä½œä¸ºN1</span></span><br><span class="line">    <span class="keyword">if</span>(tag == <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="built_in">string</span> temp = N1;</span><br><span class="line">        N1 = N2;</span><br><span class="line">        N2 = temp;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    dec1 = toDec(N1, radix);</span><br><span class="line">    <span class="comment">//äºŒåˆ†éå†</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> rmin = minR(N2);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> rmax = dec1;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> r;</span><br><span class="line">    <span class="keyword">int</span> first = toNum(N2[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">//å¦‚æœåªæœ‰ä¸€ä½æ•°ï¼Œä¸”ç¬¦åˆï¼Œå³å¯èƒ½æœ‰å¤šç§è¿›åˆ¶æƒ…å†µï¼Œè¾“å‡ºæœ€å°</span></span><br><span class="line">    <span class="keyword">if</span>(N2.length() == <span class="number">1</span> &amp;&amp; dec1 == first)&#123;</span><br><span class="line">        radix2 = rmin;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(rmin &lt;= rmax)&#123;</span><br><span class="line">            r = (rmin + rmax) / <span class="number">2</span>;</span><br><span class="line">            dec2 = toDec(N2, r);</span><br><span class="line">            <span class="comment">//å¦‚æœæº¢å‡ºï¼Œç¼©å°ä¸Šç•Œ</span></span><br><span class="line">            <span class="keyword">if</span>(dec2 &lt; <span class="number">0</span>)&#123;</span><br><span class="line">                rmax = r - <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(dec2 == dec1)&#123;</span><br><span class="line">                radix2 = r;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(dec2 &gt; dec1)&#123;</span><br><span class="line">                rmax = r - <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (dec2 &lt; dec1)&#123;</span><br><span class="line">                rmin = r + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(radix2 == <span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Impossible"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; radix2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;Given a pair of positive integers, for example, 6 
      
    
    </summary>
    
      <category term="PAT" scheme="https://iris-cyy.github.io/categories/PAT/"/>
    
      <category term="Advanced" scheme="https://iris-cyy.github.io/categories/PAT/Advanced/"/>
    
    
      <category term="PAT" scheme="https://iris-cyy.github.io/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>ã€PAT-Advancedã€‘1009 Product of Polynomials</title>
    <link href="https://iris-cyy.github.io//PAT/Advanced/2020-02-07/pat_1009/"/>
    <id>https://iris-cyy.github.io//PAT/Advanced/2020-02-07/pat_1009/</id>
    <published>2020-02-07T05:36:19.000Z</published>
    <updated>2020-02-08T15:49:24.242Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>This time, you are supposed to find $AÃ—B$ where $A$ and $B$ are two polynomials.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case occupies 2 lines, and each line contains the information of a polynomial:</p><blockquote><p>$K \; N_1 \; a_{N_1} \; N_2 \; a_{N_2} â€¦ N_K \; a_{N_K}$</p></blockquote><p>where $K$ is the number of nonzero terms in the polynomial, $N_i$ and $a_{N_i} (i=1,2,â‹¯,K)$ are the exponents and coefficients, respectively. It is given that $1â‰¤Kâ‰¤10$, $0â‰¤N_K&lt;â‹¯&lt;N_2&lt;N_1â‰¤1000$. </p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case you should output the product of $A$ and $B$ in one line, with the same format as the input. Notice that there must be <strong>NO</strong> extra space at the end of each line. Please be accurate up to 1 decimal place. </p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><blockquote><p>2 1 2.4 0 3.2<br>2 2 1.5 1 0.5</p></blockquote><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><blockquote><p>3 3 3.6 2 6.0 1 1.6</p></blockquote><p><br></p><hr><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Advanced-1002çš„å‡åç‰ˆï¼Œè¦æ³¨æ„çš„æ˜¯æ•°ç»„çš„ä¸Šç•Œï¼Œä¸¤ä¸ªå¤šé¡¹å¼çš„æœ€é«˜æ¬¡åˆ†åˆ«å¯ä»¥æ˜¯1000ï¼Œåˆ™æ•°ç»„ä¸Šç•Œè¦å¼€åˆ°2000ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 2005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXK 15</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> poly[MAXN];</span><br><span class="line"><span class="keyword">int</span> K1, K2;</span><br><span class="line"><span class="keyword">int</span> expo[MAXK], expo2;</span><br><span class="line"><span class="keyword">double</span> coe[MAXK], coe2;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> first = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;MAXN; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;MAXK)&#123;</span><br><span class="line">            expo[i] = <span class="number">0</span>;</span><br><span class="line">            coe[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        poly[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; K1;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;K1; i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; expo[i] &gt;&gt; coe[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; K2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;K2; i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; expo2 &gt;&gt; coe2;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;K1; j++)&#123;</span><br><span class="line">            poly[expo2+expo[j]] += coe2 * coe[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=MAXN<span class="number">-1</span>; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(poly[i] != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(first == <span class="number">-1</span>)&#123;</span><br><span class="line">                first = i;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cnt;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=first; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(poly[i] != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; i &lt;&lt; <span class="string">" "</span> &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">1</span>) &lt;&lt; poly[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;This time, you are supposed to find $AÃ—B$ where $A
      
    
    </summary>
    
      <category term="PAT" scheme="https://iris-cyy.github.io/categories/PAT/"/>
    
      <category term="Advanced" scheme="https://iris-cyy.github.io/categories/PAT/Advanced/"/>
    
    
      <category term="PAT" scheme="https://iris-cyy.github.io/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>ã€PAT-Advancedã€‘1008 Elevator</title>
    <link href="https://iris-cyy.github.io//PAT/Advanced/2020-02-07/pat_1008/"/>
    <id>https://iris-cyy.github.io//PAT/Advanced/2020-02-07/pat_1008/</id>
    <published>2020-02-07T05:06:38.000Z</published>
    <updated>2020-02-07T05:08:44.737Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>The highest building in our city has only one elevator. A request list is made up with <em>N</em> positive numbers. The numbers denote at which floors the elevator will stop, in specified order. It costs 6 seconds to move the elevator up one floor, and 4 seconds to move down one floor. The elevator will stay for 5 seconds at each stop.</p><p>For a given request list, you are to compute the total time spent to fulfill the requests on the list. The elevator is on the 0th floor at the beginning and does not have to return to the ground floor when the requests are fulfilled.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case contains a positive integer <em>N</em>, followed by <em>N</em> positive numbers. All the numbers in the input are less than 100.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, print the total time on a single line. </p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><blockquote><p>3 2 3 1</p></blockquote><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><blockquote><p>41</p></blockquote><p><br></p><hr><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>ç®€å•é¢˜ç›´æ¥ä¸Šä»£ç </p><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>ä»0å‡ºå‘</li><li>æœ€åä¸€ç«™ä¹Ÿè¦ç®—åœç•™çš„5sæ—¶é—´</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">stop</span>, lastStop;</span><br><span class="line">    <span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; <span class="built_in">stop</span>;</span><br><span class="line">    time += <span class="number">6</span> * <span class="built_in">stop</span> + <span class="number">5</span>;</span><br><span class="line">    lastStop = <span class="built_in">stop</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;N; i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; <span class="built_in">stop</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">stop</span> &gt; lastStop)&#123;</span><br><span class="line">            time += <span class="number">6</span> * (<span class="built_in">stop</span> - lastStop) + <span class="number">5</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            time += <span class="number">4</span> * (lastStop - <span class="built_in">stop</span>) + <span class="number">5</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        lastStop = <span class="built_in">stop</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; time &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;The highest building in our city has only one elev
      
    
    </summary>
    
      <category term="PAT" scheme="https://iris-cyy.github.io/categories/PAT/"/>
    
      <category term="Advanced" scheme="https://iris-cyy.github.io/categories/PAT/Advanced/"/>
    
    
      <category term="PAT" scheme="https://iris-cyy.github.io/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>ã€PAT-Advancedã€‘1007 Maximum Subsequence Sum</title>
    <link href="https://iris-cyy.github.io//PAT/Advanced/2020-02-05/pat_1007/"/>
    <id>https://iris-cyy.github.io//PAT/Advanced/2020-02-05/pat_1007/</id>
    <published>2020-02-05T06:18:52.000Z</published>
    <updated>2020-02-05T09:03:32.676Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Given a sequence of $K$ integers ${ N_1, N_2, â€¦, N_K }$. A continuous subsequence is defined to be ${ N_i, N_{i+1}, â€¦, N_j }$ where $1â‰¤iâ‰¤jâ‰¤K$. The Maximum Subsequence is the continuous subsequence which has the largest sum of its elements. For example, given sequence { -2, 11, -4, 13, -5, -2 }, its maximum subsequence is { 11, -4, 13 } with the largest sum being 20.</p><p>Now you are supposed to find the largest sum, together with the first and the last numbers of the maximum subsequence. </p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case occupies two lines. The first line contains a positive integer $K (â‰¤10000)$. The second line contains $K$ numbers, separated by a space. </p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, output in one line the largest sum, together with the first and the last numbers of the maximum subsequence. The numbers must be separated by one space, but there must be no extra space at the end of a line. In case that the maximum subsequence is not unique, output the one with the smallest indices $iâ€‹$ and $jâ€‹$ (as shown by the sample case). If all the $Kâ€‹$ numbers are negative, then its maximum sum is defined to be 0, and you are supposed to output the first and the last numbers of the whole sequence. </p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><blockquote><p>10<br>-10 1 2 3 4 -5 -23 3 7 -21</p></blockquote><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><blockquote><p>10 1 4</p></blockquote><p><br></p><hr><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>è¿™é¢˜æ€ªå‘çš„ï¼Œè¿‡äº†å¥½å¤šæ¬¡æ‰å®Œå…¨è¿‡å»ã€‚</p><p>é¢˜ç›®æ˜¯å¾ˆç»å…¸çš„é¢˜ç›®ï¼Œæœ€å¤§å­åºåˆ—å’Œï¼Œæ²¡è®°é”™çš„è¯æ˜¯ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•åˆ†æã€‹ç¬¬äºŒç« è®¨è®ºäº†å¾ˆä¹…çš„ä¸€ä¸ªé—®é¢˜ã€‚</p><p>ç¨ç¨æ•´ç†ä¸€ä¸‹å‡ ä¸ªç»å…¸çš„ç®—æ³•</p><h3 id="ç®—æ³•ä¸€ï¼šç–¯ç‹‚ç©·ä¸¾"><a href="#ç®—æ³•ä¸€ï¼šç–¯ç‹‚ç©·ä¸¾" class="headerlink" title="ç®—æ³•ä¸€ï¼šç–¯ç‹‚ç©·ä¸¾"></a>ç®—æ³•ä¸€ï¼šç–¯ç‹‚ç©·ä¸¾</h3><p>æœ€å·®ä½†ä¹Ÿæ˜¯æœ€ç®€å•æœ€ä¸éœ€è¦åŠ¨è„‘å­çš„ç®—æ³•ï¼Œå…ˆç©·ä¸¾å­åºåˆ—èµ·ç‚¹ï¼Œå†ç©·ä¸¾å­åºåˆ—ç»ˆç‚¹ï¼Œç„¶åæ±‚å’Œã€‚</p><p>å¤æ‚åº¦æ˜¯$N^3$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MaxSubsequenceSum</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> A[], <span class="keyword">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> ThisSum, MaxSum;</span><br><span class="line">  MaxSum = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">//ç©·ä¸¾A[i]</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;N; i++)&#123;</span><br><span class="line">    <span class="comment">//ç©·ä¸¾A[j]</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=i; j&lt;N; j++)&#123;</span><br><span class="line">      ThisSum = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> k=i; k&lt;=j; k++)&#123;</span><br><span class="line">        <span class="comment">//A[i] + ... + A[j]</span></span><br><span class="line">        ThisSum += A[k];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ThisSum &gt; MaxSum)&#123;</span><br><span class="line">      MaxSum = ThisSum;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> MaxSum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç®—æ³•äºŒï¼šç®—æ³•ä¸€çš„ä¼˜åŒ–"><a href="#ç®—æ³•äºŒï¼šç®—æ³•ä¸€çš„ä¼˜åŒ–" class="headerlink" title="ç®—æ³•äºŒï¼šç®—æ³•ä¸€çš„ä¼˜åŒ–"></a>ç®—æ³•äºŒï¼šç®—æ³•ä¸€çš„ä¼˜åŒ–</h3><p>ç±»ä¼¼ç®—æ³•ä¸€ï¼Œå…ˆç©·ä¸¾èµ·ç‚¹å†ç©·ä¸¾ç»ˆç‚¹ï¼Œä½†åœ¨æ±‚å’Œçš„éƒ¨åˆ†å¯¹ç®—æ³•ä¸€è¿›è¡Œä¼˜åŒ–ã€‚</p><p>å¤æ‚åº¦æ˜¯$N^2$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MaxSubsequenceSum</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> A[], <span class="keyword">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> ThisSum, MaxSum;</span><br><span class="line">  MaxSum = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">//ç©·ä¸¾A[i]</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;N; i++)&#123;</span><br><span class="line">    ThisSum = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//ç©·ä¸¾A[j]</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=i; j&lt;N; j++)&#123;</span><br><span class="line">        ThisSum += A[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ThisSum &gt; MaxSum)&#123;</span><br><span class="line">      MaxSum = ThisSum;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> MaxSum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç®—æ³•ä¸‰ï¼šåˆ†æ²»"><a href="#ç®—æ³•ä¸‰ï¼šåˆ†æ²»" class="headerlink" title="ç®—æ³•ä¸‰ï¼šåˆ†æ²»"></a>ç®—æ³•ä¸‰ï¼šåˆ†æ²»</h3><p>ç”¨é€’å½’è¿›è¡Œåˆ†æ²»ï¼ŒæŠŠæ•´ä¸ªåºåˆ—åˆ†æˆå·¦å³ä¸¤åŠï¼Œæ•´ä¸ªåºåˆ—çš„æœ€å¤§å­åºåˆ—å’Œå¯èƒ½æœ‰ä¸‰ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å·¦åŠä¸ªåºåˆ—çš„æœ€å¤§å­åºåˆ—å’Œï¼Œä¸€ç§æ˜¯å³åŠä¸ªåºåˆ—çš„æœ€å¤§å­åºåˆ—å’Œï¼Œå¦ä¸€ç§æ˜¯æ¨ªè·¨ä¸­é—´åˆ†ç•Œçº¿ã€‚åˆ†åˆ«è®¡ç®—è¿™ä¸‰ç§çš„æœ€å¤§å’Œï¼Œå†å–å…¶ä¸­æœ€å¤§å€¼å³å¯ã€‚å‰ä¸¤ç§ç›´æ¥é€’å½’å¯ä»¥ç®—å‡ºæ¥ï¼Œç¬¬ä¸‰ç§ï¼Œåœ¨å·¦åŠä¸ªä¸­æ±‚åŒ…å«å³è¾¹ç•Œçš„æœ€å¤§å’Œï¼Œåœ¨å³åŠä¸ªä¸­æ±‚åŒ…å«å·¦è¾¹ç•Œçš„æœ€å¤§å’Œï¼Œä¸¤è€…ç›¸åŠ å³å¯ã€‚</p><p>å¤æ‚åº¦æ˜¯$NlogN$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">MaxSubSum</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> A[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> MaxLeftSum, MaxRightSum;</span><br><span class="line">  <span class="keyword">int</span> MaxLeftBorderSum, MaxRightBorderSum;</span><br><span class="line">  <span class="keyword">int</span> LeftBorderSum, RightBorderSum;</span><br><span class="line">  <span class="keyword">int</span> center;</span><br><span class="line">  <span class="keyword">if</span>(left == right)&#123;</span><br><span class="line">    <span class="keyword">if</span>(A[left] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> A[left];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  center = (left + right) / <span class="number">2</span>;</span><br><span class="line">  <span class="comment">//é€’å½’æ±‚å·¦å³ä¸¤åŠçš„æœ€å¤§å­åºåˆ—å’Œ</span></span><br><span class="line">  MaxLeftSum = MaxSubSum(A, left, center);</span><br><span class="line">  MaxRightSum = MaxSubSum(A, center+<span class="number">1</span>, right);</span><br><span class="line">  <span class="comment">//æ±‚å·¦åŠéƒ¨åˆ†ä¸­åŒ…å«å³è¾¹ç•Œçš„æœ€å¤§å’Œ</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=center; i&gt;=left; i--)&#123;</span><br><span class="line">    LeftBorderSum += A[i];</span><br><span class="line">    <span class="keyword">if</span>(LeftBorderSum &gt; MaxLeftBorderSum)&#123;</span><br><span class="line">      MaxLeftBorderSum = LeftBorderSum;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ±‚å³åŠéƒ¨åˆ†ä¸­åŒ…å«å·¦è¾¹ç•Œçš„æœ€å¤§å’Œ</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=center+<span class="number">1</span>; i&lt;=right; i++)&#123;</span><br><span class="line">    LeftBorderSum += A[i];</span><br><span class="line">    <span class="keyword">if</span>(RightBorderSum &gt; MaxRightBorderSum)&#123;</span><br><span class="line">      MaxRightBorderSum = RightBorderSum;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">max</span>(MaxLeftBorderSum+MaxRightBorderSum, MaxLeftSum, MaxRightSum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MaxSubsequenceSum</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> A[], <span class="keyword">int</span> N)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> MaxSubSum(A, <span class="number">0</span>, N<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç®—æ³•å››ï¼šåŠ¨æ€è§„åˆ’"><a href="#ç®—æ³•å››ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="ç®—æ³•å››ï¼šåŠ¨æ€è§„åˆ’"></a>ç®—æ³•å››ï¼šåŠ¨æ€è§„åˆ’</h3><p>ä¸€ä¸ªæ¯”è¾ƒå–å·§çš„ä¼˜ç§€ç®—æ³•ï¼Œå½“é‡åˆ°ä¸€éƒ¨åˆ†å’Œå°äºé›¶å°±èˆå¼ƒï¼Œè¿™æ ·å°±åªè¦è¿›è¡Œä¸€æ¬¡éå†ã€‚</p><p>åæ¥æ‰å‘ç°è¿™æœ‰ç‚¹åŠ¨æ€è§„åˆ’çš„æ„æ€ï¼Œå¦‚æœç”¨<code>dp[i]</code>å­˜ä»¥<code>A[i]</code>ç»“å°¾çš„å­åºåˆ—çš„æœ€å¤§å’Œï¼Œåˆ™<code>dp[i+1] = max(dp[i]+A[i+1], A[i+1])</code>ï¼Œç®€åŒ–å®Œå¤§æ¦‚å°±æ˜¯å¦‚æœ<code>dp[i]&lt;0</code>å°±ä¸è¦äº†é…±ç´«ã€‚å…·ä½“çœ‹ä»£ç ã€‚</p><p>å¤æ‚åº¦æ˜¯$N$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MaxSubsequenceSum</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> A[], <span class="keyword">int</span> N)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> thisSum, maxSum;</span><br><span class="line">  thisSum = maxSum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;N; j++)&#123;</span><br><span class="line">    thisSum += A[j];</span><br><span class="line">    <span class="keyword">if</span>(thisSum &gt; maxSum)&#123;</span><br><span class="line">      maxSum = thisSum;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(thisSum &lt; <span class="number">0</span>)&#123;</span><br><span class="line">      thisSum = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> maxSum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br></p><hr><p>ç„¶åè¯´ä¸€ä¸‹é‡åˆ°çš„å‘</p><ul><li>æ‰‹åŠ¨åˆ’é‡ç‚¹ï¼šIf all the $K$ numbers are negative, then its maximum sum is defined to be 0, and you are supposed to output the first and the last numbers of the whole sequence. </li><li>å¦‚æœæ˜¯0+å…¨è´Ÿï¼Œç±»ä¼¼äº<code>-1 0 -3 -2</code>è¿™æ ·ï¼Œè¦è¾“å‡º<code>0 0 0</code></li><li>å¯ä»¥å‚è€ƒä¸€ä¸‹å‰äºº<a href="https://blog.csdn.net/weixin_38097576/article/details/82715413" target="_blank" rel="noopener">é¿é›·ç»éªŒ</a></li></ul><p>ä¸‹é¢è´´ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 10005</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> K;</span><br><span class="line"><span class="keyword">int</span> num[MAXN];</span><br><span class="line"><span class="keyword">int</span> maxsum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> first, last;</span><br><span class="line"><span class="keyword">int</span> tempf, templ;</span><br><span class="line"><span class="keyword">bool</span> zero = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; K;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;K; i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(K == <span class="number">0</span>)&#123;</span><br><span class="line">        maxsum = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;K; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(num[i] == <span class="number">0</span>)&#123;</span><br><span class="line">            zero = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sum += num[i];</span><br><span class="line">        <span class="keyword">if</span>(sum &gt; maxsum)&#123;</span><br><span class="line">            maxsum = sum;</span><br><span class="line">            first = tempf;</span><br><span class="line">            templ = last = i;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            sum = <span class="number">0</span>;</span><br><span class="line">            tempf = templ = i+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            templ = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(maxsum &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(zero)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"0 0 0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; num[<span class="number">0</span>] &lt;&lt; <span class="string">" "</span> &lt;&lt; num[K<span class="number">-1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; maxsum &lt;&lt; <span class="string">" "</span> &lt;&lt; num[first] &lt;&lt; <span class="string">" "</span> &lt;&lt; num[last] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;Given a sequence of $K$ integers ${ N_1, N_2, â€¦, N
      
    
    </summary>
    
      <category term="PAT" scheme="https://iris-cyy.github.io/categories/PAT/"/>
    
      <category term="Advanced" scheme="https://iris-cyy.github.io/categories/PAT/Advanced/"/>
    
    
      <category term="PAT" scheme="https://iris-cyy.github.io/tags/PAT/"/>
    
  </entry>
  
  <entry>
    <title>ã€PAT-Advancedã€‘1006 Sign In and Sign Out</title>
    <link href="https://iris-cyy.github.io//PAT/Advanced/2020-02-05/pat_1006/"/>
    <id>https://iris-cyy.github.io//PAT/Advanced/2020-02-05/pat_1006/</id>
    <published>2020-02-05T02:35:48.000Z</published>
    <updated>2020-02-05T09:03:42.824Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>At the beginning of every day, the first person who signs in the computer room will unlock the door, and the last one who signs out will lock the door. Given the records of signing inâ€™s and outâ€™s, you are supposed to find the ones who have unlocked and locked the door on that day.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case contains the records for one day. The case starts with a positive integer $M$, which is the total number of records, followed by $M$ lines, each in the format:</p><blockquote><p>ID_number Sign_in_time Sign_out_time</p></blockquote><p>where times are given in the format <code>HH:MM:SS</code>, and <code>ID_number</code> is a string with no more than 15 characters.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, output in one line the ID numbers of the persons who have unlocked and locked the door on that day. The two ID numbers must be separated by one space.</p><p>Note: It is guaranteed that the records are consistent. That is, the sign in time must be earlier than the sign out time for each person, and there are no two persons sign in or out at the same moment.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><blockquote><p>3<br>CS301111 15:30:28 17:00:10<br>SC3021234 08:00:00 11:25:25<br>CS301133 21:45:00 21:58:40</p></blockquote><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><blockquote><p>SC3021234 CS301133</p></blockquote><p><br></p><hr><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°å°±è¡Œäº†ã€‚ç®€å•é¢˜ç›´æ¥ä¸Šä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> M;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; M;</span><br><span class="line">    <span class="built_in">string</span> ID, timeIn, timeOut, first, last;</span><br><span class="line">    <span class="built_in">string</span> inMin = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">string</span> outMax = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;M; i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; ID &gt;&gt; timeIn &gt;&gt; timeOut;</span><br><span class="line">        <span class="keyword">if</span>(inMin == <span class="string">""</span> || timeIn &lt; inMin)&#123;</span><br><span class="line">            inMin = timeIn;</span><br><span class="line">            first = ID;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(outMax == <span class="string">""</span> || timeOut &gt; outMax)&#123;</span><br><span class="line">            outMax = timeOut;</span><br><span class="line">            last = ID;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; first &lt;&lt; <span class="string">" "</span> &lt;&lt; last &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h2&gt;&lt;p&gt;At the beginning of every day, the first person wh
      
    
    </summary>
    
      <category term="PAT" scheme="https://iris-cyy.github.io/categories/PAT/"/>
    
      <category term="Advanced" scheme="https://iris-cyy.github.io/categories/PAT/Advanced/"/>
    
    
      <category term="PAT" scheme="https://iris-cyy.github.io/tags/PAT/"/>
    
  </entry>
  
</feed>
